(function(){var n=typeof window!="undefined"?window:global;var t={};(function(L,r,a){var n;function o(n){var t=0;return function(){return t<n.length?{done:!1,value:n[t++]}:{done:!0}}}var f="function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,e){if(n==Array.prototype||n==Object.prototype)return n;n[t]=e.value;return n};function h(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof L&&L,"object"==typeof self&&self,"object"==typeof r&&r];for(var t=0;t<n.length;++t){var e=n[t];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var d=h(this);function v(n,t){if(t)n:{var e=d;n=n.split(".");for(var i=0;i<n.length-1;i++){var r=n[i];if(!(r in e))break n;e=e[r]}n=n[n.length-1];i=e[n];t=t(i);t!=i&&null!=t&&f(e,n,{t:!0,writable:!0,value:t})}}v("Symbol",function(n){function t(n){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(i+(n||"")+"_"+r++,n)}function e(n,t){this.i=n;f(this,"description",{t:!0,writable:!0,value:t})}if(n)return n;e.prototype.toString=function(){return this.i};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return t});v("Symbol.iterator",function(n){if(n)return n;n=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<t.length;e++){var i=d[t[e]];"function"===typeof i&&"function"!=typeof i.prototype[n]&&f(i.prototype,n,{t:!0,writable:!0,value:function(){return m(o(this))}})}return n});function m(n){n={next:n};n[Symbol.iterator]=function(){return this};return n}function lt(n){var t="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];if(t)return t.call(n);if("number"==typeof n.length)return{next:o(n)};throw Error(String(n)+" is not an iterable or ArrayLike")}function ht(n){if(!(n instanceof Array)){n=lt(n);for(var t,e=[];!(t=n.next()).done;)e.push(t.value);n=e}return n}var p="function"==typeof Object.create?Object.create:function(n){function t(){}t.prototype=n;return new t},w;if("function"==typeof Object.setPrototypeOf)w=Object.setPrototypeOf;else{var g;n:{var y={a:!0},T={};try{T.__proto__=y;g=T.a;break n}catch(DE){}g=!1}w=g?function(n,t){n.__proto__=t;if(n.__proto__!==t)throw new TypeError(n+" is not extensible");return n}:null}var E=w;function N(n,t){n.prototype=p(t.prototype);n.prototype.constructor=n;if(E)E(n,t);else for(var e in t)if("prototype"!=e)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,e);i&&Object.defineProperty(n,e,i)}else n[e]=t[e];n.u=t.prototype}function P(){this.o=!1;this.l=null;this.h=void 0;this.i=1;this.v=this.m=0;this.p=this.g=null}function R(n){if(n.o)throw new TypeError("Generator is already running");n.o=!0}P.prototype.s=function(n){this.h=n};function D(n,t){n.g={T:t,S:!0};n.i=n.m||n.v}P.prototype.A=function(n){this.g={A:n};this.i=this.v};function an(n,t,e){n.i=e;return{value:t}}P.prototype.k=function(n){this.i=n};function on(n){n.i=0}function q(n,t,e){n.m=t;void 0!=e&&(n.v=e)}function C(n,t){n.m=0;n.v=t||0}function K(n,t,e){n.i=t;n.m=e||0}function W(n,t){n.m=t||0;t=n.g.T;n.g=null;return t}function _(n){n.p=[n.g];n.m=0;n.v=0}function X(n,t){var e=n.p.splice(0)[0];(e=n.g=n.g||e)?e.S?n.i=n.m||n.v:void 0!=e.k&&n.v<e.k?(n.i=e.k,n.g=null):n.i=n.v:n.i=t}function H(n){this.i=new P;this.h=n}function j(n,t){R(n.i);var e=n.i.l;if(e)return G(n,"A"in e?e["A"]:function(n){return{value:n,done:!0}},t,n.i.A);n.i.A(t);return $(n)}function G(n,t,e,i){try{var r=t.call(n.i.l,e);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return n.i.o=!1,r;var u=r.value}catch(a){return n.i.l=null,D(n.i,a),$(n)}n.i.l=null;i.call(n.i,u);return $(n)}function $(n){for(;n.i.i;)try{var t=n.h(n.i);if(t)return n.i.o=!1,{value:t.value,done:!1}}catch(e){n.i.h=void 0,D(n.i,e)}n.i.o=!1;if(n.i.g){t=n.i.g;n.i.g=null;if(t.S)throw t.T;return{value:t.A,done:!0}}return{value:void 0,done:!0}}function Q(t){this.next=function(n){R(t.i);t.i.l?n=G(t,t.i.l.next,n,t.i.s):(t.i.s(n),n=$(t));return n};this.M=function(n){R(t.i);t.i.l?n=G(t,t.i.l["M"],n,t.i.s):(D(t.i,n),n=$(t));return n};this.A=function(n){return j(t,n)};this[Symbol.iterator]=function(){return this}}function J(r){function u(n){return r.next(n)}function a(n){return r.M(n)}return new Promise(function(t,e){function i(n){n.done?t(n.value):Promise.resolve(n.value).then(u,a).then(i,e)}i(r.next())})}function sn(n){return J(new Q(new H(n)))}function Z(){for(var n=Number(this),t=[],e=n;e<arguments.length;e++)t[e-n]=arguments[e];return t}v("Promise",function(n){function o(n){this.h=0;this.g=void 0;this.i=[];this.o=!1;var t=this.v();try{n(t.resolve,t.reject)}catch(CE){t.reject(CE)}}function t(){this.i=null}function s(t){return t instanceof o?t:new o(function(n){n(t)})}if(n)return n;t.prototype.h=function(n){if(null==this.i){this.i=[];var t=this;this.g(function(){t.l()})}this.i.push(n)};var e=d.setTimeout;t.prototype.g=function(n){e(n,0)};t.prototype.l=function(){for(;this.i&&this.i.length;){var n=this.i;this.i=[];for(var t=0;t<n.length;++t){var e=n[t];n[t]=null;try{e()}catch(i){this.v(i)}}}this.i=null};t.prototype.v=function(n){this.g(function(){throw n})};o.prototype.v=function(){function n(t){return function(n){i||(i=!0,t.call(e,n))}}var e=this,i=!1;return{resolve:n(this.I),reject:n(this.l)}};o.prototype.I=function(n){if(n===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(n instanceof o)this.N(n);else{n:switch(typeof n){case"object":var t=null!=n;break n;case"function":t=!0;break n;default:t=!1}t?this.P(n):this.m(n)}};o.prototype.P=function(n){var t=void 0;try{t=n.then}catch(CE){this.l(CE);return}"function"==typeof t?this.R(t,n):this.m(n)};o.prototype.l=function(n){this.s(2,n)};o.prototype.m=function(n){this.s(1,n)};o.prototype.s=function(n,t){if(0!=this.h)throw Error("Cannot settle("+n+", "+t+"): Promise already settled in state"+this.h);this.h=n;this.g=t;2===this.h&&this.D();this.p()};o.prototype.D=function(){var t=this;e(function(){if(t.C()){var n=d.console;"undefined"!==typeof n&&n.error(t.g)}},1)};o.prototype.C=function(){if(this.o)return!1;var n=d.CustomEvent,t=d.Event,e=d.dispatchEvent;if("undefined"===typeof e)return!0;"function"===typeof n?n=new n("unhandledrejection",{cancelable:!0}):"function"===typeof t?n=new t("unhandledrejection",{cancelable:!0}):(n=d.document.createEvent("CustomEvent"),n.initCustomEvent("unhandledrejection",!1,!0,n));n.promise=this;n.reason=this.g;return e(n)};o.prototype.p=function(){if(null!=this.i){for(var n=0;n<this.i.length;++n)r.h(this.i[n]);this.i=null}};var r=new t;o.prototype.N=function(n){var t=this.v();n._(t.resolve,t.reject)};o.prototype.R=function(n,t){var e=this.v();try{n.call(t,e.resolve,e.reject)}catch(i){e.reject(i)}};o.prototype.then=function(n,t){function e(e,n){return"function"==typeof e?function(n){try{i(e(n))}catch(t){r(t)}}:n}var i,r,u=new o(function(n,t){i=n;r=t});this._(e(n,i),e(t,r));return u};o.prototype["catch"]=function(n){return this.then(void 0,n)};o.prototype._=function(n,t){function e(){switch(i.h){case 1:n(i.g);break;case 2:t(i.g);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.i?r.h(e):this.i.push(e);this.o=!0};o.resolve=s;o.reject=function(e){return new o(function(n,t){t(e)})};o.race=function(r){return new o(function(n,t){for(var e=lt(r),i=e.next();!i.done;i=e.next())s(i.value)._(n,t)})};o.all=function(n){var u=lt(n),a=u.next();return a.done?s([]):new o(function(e,n){function t(t){return function(n){i[t]=n;r--;0==r&&e(i)}}var i=[],r=0;do{i.push(void 0),r++,s(a.value)._(t(i.length-1),n),a=u.next()}while(!a.done)})};return o});function nn(n,t){return Object.prototype.hasOwnProperty.call(n,t)}v("WeakMap",function(r){function n(n){this.i=(o+=Math.random()+1).toString();if(n){n=lt(n);for(var t;!(t=n.next()).done;)t=t.value,this.set(t[0],t[1])}}function e(){}function i(n){var t=typeof n;return"object"===t&&null!==n||"function"===t}function u(n){if(!nn(n,a)){var t=new e;f(n,a,{value:t})}}function t(n){var t=Object[n];t&&(Object[n]=function(n){if(n instanceof e)return n;Object.isExtensible(n)&&u(n);return t(n)})}if(function(){if(!r||!Object.seal)return!1;try{var n=Object.seal({}),t=Object.seal({}),e=new r([[n,2],[t,3]]);if(2!=e.get(n)||3!=e.get(t))return!1;e["delete"](n);e.set(t,4);return!e.has(n)&&4==e.get(t)}catch(i){return!1}}())return r;var a="$jscomp_hidden_"+Math.random();t("freeze");t("preventExtensions");t("seal");var o=0;n.prototype.set=function(n,t){if(!i(n))throw Error("Invalid WeakMap key");u(n);if(!nn(n,a))throw Error("WeakMap key fail: "+n);n[a][this.i]=t;return this};n.prototype.get=function(n){return i(n)&&nn(n,a)?n[a][this.i]:void 0};n.prototype.has=function(n){return i(n)&&nn(n,a)&&nn(n[a],this.i)};n.prototype["delete"]=function(n){return i(n)&&nn(n,a)&&nn(n[a],this.i)?delete n[a][this.i]:!1};return n});v("Map",function(u){function e(){var n={};return n.L=n.next=n.head=n}function n(n,t){var e=n[1];return m(function(){if(e){for(;e.head!=n[1];)e=e.L;for(;e.next!=e.head;)return e=e.next,{done:!1,value:t(e)};e=null}return{done:!0,value:void 0}})}function i(n,t){var e=t&&typeof t;"object"==e||"function"==e?a.has(t)?e=a.get(t):(e=""+ ++o,a.set(t,e)):e="p_"+t;var i=n[0][e];if(i&&nn(n[0],e))for(n=0;n<i.length;n++){var r=i[n];if(t!==t&&r.key!==r.key||t===r.key)return{id:e,list:i,index:n,O:r}}return{id:e,list:i,index:-1,O:void 0}}function t(n){this[0]={};this[1]=e();this.size=0;if(n){n=lt(n);for(var t;!(t=n.next()).done;)t=t.value,this.set(t[0],t[1])}}if(function(){if(!u||"function"!=typeof u||!u.prototype.entries||"function"!=typeof Object.seal)return!1;try{var n=Object.seal({x:4}),t=new u(lt([[n,"s"]]));if("s"!=t.get(n)||1!=t.size||t.get({x:4})||t.set({x:4},"t")!=t||2!=t.size)return!1;var e=t.entries(),i=e.next();if(i.done||i.value[0]!=n||"s"!=i.value[1])return!1;i=e.next();return i.done||4!=i.value[0].x||"t"!=i.value[1]||!e.next().done?!1:!0}catch(r){return!1}}())return u;var a=new WeakMap;t.prototype.set=function(n,t){n=0===n?0:n;var e=i(this,n);e.list||(e.list=this[0][e.id]=[]);e.O?e.O.value=t:(e.O={next:this[1],L:this[1].L,head:this[1],key:n,value:t},e.list.push(e.O),this[1].L.next=e.O,this[1].L=e.O,this.size++);return this};t.prototype["delete"]=function(n){n=i(this,n);return n.O&&n.list?(n.list.splice(n.index,1),n.list.length||delete this[0][n.id],n.O.L.next=n.O.next,n.O.next.L=n.O.L,n.O.head=null,this.size--,!0):!1};t.prototype.clear=function(){this[0]={};this[1]=this[1].L=e();this.size=0};t.prototype.has=function(n){return!!i(this,n).O};t.prototype.get=function(n){return(n=i(this,n).O)&&n.value};t.prototype.entries=function(){return n(this,function(n){return[n.key,n.value]})};t.prototype.keys=function(){return n(this,function(n){return n.key})};t.prototype.values=function(){return n(this,function(n){return n.value})};t.prototype.forEach=function(n,t){for(var e=this.entries(),i;!(i=e.next()).done;)i=i.value,n.call(t,i[1],i[0],this)};t.prototype[Symbol.iterator]=t.prototype.entries;var o=0;return t});v("Set",function(u){function n(n){this.i=new Map;if(n){n=lt(n);for(var t;!(t=n.next()).done;)this.add(t.value)}this.size=this.i.size}if(function(){if(!u||"function"!=typeof u||!u.prototype.entries||"function"!=typeof Object.seal)return!1;try{var n=Object.seal({x:4}),t=new u(lt([n]));if(!t.has(n)||1!=t.size||t.add(n)!=t||1!=t.size||t.add({x:4})!=t||2!=t.size)return!1;var e=t.entries(),i=e.next();if(i.done||i.value[0]!=n||i.value[1]!=n)return!1;i=e.next();return i.done||i.value[0]==n||4!=i.value[0].x||i.value[1]!=i.value[0]?!1:e.next().done}catch(r){return!1}}())return u;n.prototype.add=function(n){n=0===n?0:n;this.i.set(n,n);this.size=this.i.size;return this};n.prototype["delete"]=function(n){n=this.i["delete"](n);this.size=this.i.size;return n};n.prototype.clear=function(){this.i.clear();this.size=0};n.prototype.has=function(n){return this.i.has(n)};n.prototype.entries=function(){return this.i.entries()};n.prototype.values=function(){return this.i.values()};n.prototype.keys=n.prototype.values;n.prototype[Symbol.iterator]=n.prototype.values;n.prototype.forEach=function(t,e){var i=this;this.i.forEach(function(n){return t.call(e,n,n,i)})};return n});function tn(t,e){t instanceof String&&(t+="");var i=0,r=!1,n={next:function(){if(!r&&i<t.length){var n=i++;return{value:e(n,t[n]),done:!1}}r=!0;return{done:!0,value:void 0}}};n[Symbol.iterator]=function(){return n};return n}v("Array.prototype.keys",function(n){return n?n:function(){return tn(this,function(n){return n})}});function en(n,t,e){n instanceof String&&(n=String(n));for(var i=n.length,r=0;r<i;r++){var u=n[r];if(t.call(e,u,r,n))return{U:r,F:u}}return{U:-1,F:void 0}}v("Array.prototype.findIndex",function(n){return n?n:function(n,t){return en(this,n,t).U}});v("Array.from",function(n){return n?n:function(n,t,e){t=null!=t?t:function(n){return n};var i=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];if("function"==typeof r){n=r.call(n);for(var u=0;!(r=n.next()).done;)i.push(t.call(e,r.value,u++))}else for(r=n.length,u=0;u<r;u++)i.push(t.call(e,n[u],u));return i}});v("Array.prototype.values",function(n){return n?n:function(){return tn(this,function(n,t){return t})}});v("Object.is",function(n){return n?n:function(n,t){return n===t?0!==n||1/n===1/t:n!==n&&t!==t}});v("Array.prototype.includes",function(n){return n?n:function(n,t){var e=this;e instanceof String&&(e=String(e));var i=e.length;t=t||0;for(0>t&&(t=Math.max(t+i,0));t<i;t++){var r=e[t];if(r===n||Object.is(r,n))return!0}return!1}});function rn(n,t,e){if(null==n)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return n+""}v("String.prototype.includes",function(n){return n?n:function(n,t){return-1!==rn(this,n,"includes").indexOf(n,t||0)}});v("String.fromCodePoint",function(n){return n?n:function(n){for(var t="",e=0;e<arguments.length;e++){var i=Number(arguments[e]);if(0>i||1114111<i||i!==Math.floor(i))throw new RangeError("invalid_code_point "+i);65535>=i?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode(i>>>10&1023|55296),t+=String.fromCharCode(i&1023|56320))}return t}});v("WeakSet",function(r){function n(n){this.i=new WeakMap;if(n){n=lt(n);for(var t;!(t=n.next()).done;)this.add(t.value)}}if(function(){if(!r||!Object.seal)return!1;try{var n=Object.seal({}),t=Object.seal({}),e=new r([n]);if(!e.has(n)||e.has(t))return!1;e["delete"](n);e.add(t);return!e.has(n)&&e.has(t)}catch(i){return!1}}())return r;n.prototype.add=function(n){this.i.set(n,!0);return this};n.prototype.has=function(n){return this.i.has(n)};n.prototype["delete"]=function(n){return this.i["delete"](n)};return n});v("Array.prototype.find",function(n){return n?n:function(n,t){return en(this,n,t).F}});v("String.prototype.startsWith",function(n){return n?n:function(n,t){var e=rn(this,n,"startsWith"),i=e.length,r=n.length;t=Math.max(0,Math.min(t|0,e.length));for(var u=0;u<r&&t<i;)if(e[t++]!=n[u++])return!1;return u>=r}});v("Object.entries",function(n){return n?n:function(n){var t=[],e;for(e in n)nn(n,e)&&t.push([e,n[e]]);return t}});var un="function"==typeof Object.assign?Object.assign:function(n,t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(i)for(var r in i)nn(i,r)&&(n[r]=i[r])}return n};v("Object.assign",function(n){return n||un});v("Promise.prototype.finally",function(n){return n?n:function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}});v("Array.prototype.entries",function(n){return n?n:function(){return tn(this,function(n,t){return[n,t]})}});v("Number.isNaN",function(n){return n?n:function(n){return"number"===typeof n&&isNaN(n)}});v("String.prototype.repeat",function(n){return n?n:function(n){var t=rn(this,null,"repeat");if(0>n||1342177279<n)throw new RangeError("Invalid count value");n|=0;for(var e="";n;)if(n&1&&(e+=t),n>>>=1)t+=t;return e}});v("Number.EPSILON",function(){return Math.pow(2,-52)});v("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});v("Number.isFinite",function(n){return n?n:function(n){return"number"!==typeof n?!1:!isNaN(n)&&Infinity!==n&&-Infinity!==n}});v("Object.values",function(n){return n?n:function(n){var t=[],e;for(e in n)nn(n,e)&&t.push(n[e]);return t}});v("Math.log2",function(n){return n?n:function(n){return Math.log(n)/Math.LN2}});v("String.prototype.endsWith",function(n){return n?n:function(n,t){var e=rn(this,n,"endsWith");void 0===t&&(t=e.length);t=Math.max(0,Math.min(t|0,e.length));for(var i=n.length;0<i&&0<t;)if(e[--t]!=n[--i])return!1;return 0>=i}});v("Math.trunc",function(n){return n?n:function(n){n=Number(n);if(isNaN(n)||Infinity===n||-Infinity===n||0===n)return n;var t=Math.floor(Math.abs(n));return 0>n?-t:t}});var hn=this||self;function t(n,t){n=n.split(".");var e=hn;n[0]in e||"undefined"==typeof e.execScript||e.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||void 0===t?e[i]&&e[i]!==Object.prototype[i]?e=e[i]:e=e[i]={}:e[i]=t}function dn(){}function vn(){}function mn(n){this.i=Math.exp(Math.log(.5)/n);this.g=this.h=0}mn.prototype.sample=function(n,t){var e=Math.pow(this.i,n);t=t*(1-e)+e*this.h;isNaN(t)||(this.h=t,this.g+=n)};function pn(n){return n.h/(1-Math.pow(n.i,n.g))}function wn(){this.h=new mn(2);this.v=new mn(5);this.i=0;this.g=128e3;this.l=16e3}wn.prototype.B=function(n){this.g=n.X;this.l=n.H;this.h.i=Math.exp(Math.log(.5)/n.j);this.v.i=Math.exp(Math.log(.5)/n.V)};wn.prototype.sample=function(n,t){if(!(t<this.l)){var e=8e3*t/n;n/=1e3;this.i+=t;this.h.sample(n,e);this.v.sample(n,e)}};wn.prototype.G=function(n){return this.i<this.g?n:Math.min(pn(this.h),pn(this.v))};function gn(){}function bn(){}function M(){}function yn(n){var t=Z.apply(1,arguments);An.has(n)||(An.add(n),M.apply(gn,ht(t)))}function Tn(){}function En(){}function Sn(){}var An=new Set;L.console&&(M=function(){return console.warn.apply(console,ht(Z.apply(0,arguments)))},bn=function(){console.error.apply(console,ht(Z.apply(0,arguments)))});function kn(){this.i={}}n=kn.prototype;n.push=function(n,t){this.i.hasOwnProperty(n)?this.i[n].push(t):this.i[n]=[t]};n.get=function(n){return(n=this.i[n])?n.slice():null};n.remove=function(n,t){n in this.i&&(this.i[n]=this.i[n].filter(function(n){return n!=t}),0==this.i[n].length&&delete this.i[n])};n.forEach=function(n){for(var t in this.i)n(t,this.i[t])};n.size=function(){return Object.keys(this.i).length};n.keys=function(){return Object.keys(this.i)};function Mn(){this.i=new kn}n=Mn.prototype;n.release=function(){this.q();this.i=null};n.K=function(n,t,e,i){this.i&&(n=new In(n,t,e,i),this.i.push(t,n))};n.W=function(t,e,i,n){function r(n){u.Y(t,e,r);i(n)}var u=this;this.K(t,e,r,n)};n.Y=function(n,t,e){if(this.i){var i=this.i.get(t)||[];i=lt(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=n||e!=r.listener&&e||(r.Y(),this.i.remove(t,r))}};n.q=function(){if(this.i){var n=this.i,t=[],e;for(e in n.i)t.push.apply(t,ht(n.i[e]));n=lt(t);for(t=n.next();!t.done;t=n.next())t.value.Y();this.i.i={}}};t("shaka.util.EventManager",Mn);Mn.prototype.$=Mn.prototype.q;Mn.prototype.J=Mn.prototype.Y;Mn.prototype.Z=Mn.prototype.W;Mn.prototype.nn=Mn.prototype.K;Mn.prototype.release=Mn.prototype.release;function In(n,t,e,i){this.target=n;this.type=t;this.listener=e;this.i=Nn(n,i);this.target.addEventListener(t,e,this.i)}In.prototype.Y=function(){this.target.removeEventListener(this.type,this.listener,this.i);this.listener=this.target=null;this.i=!1};function Nn(n,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var e=new Set(["passive","capture"]);Object.keys(t).filter(function(n){return!e.has(n)});return Pn(n)?t:t.capture||!1}function Pn(n){var t=Rn;if(void 0==t){t=!1;try{var e={},i={get:function(){t=!0;return!1}};Object.defineProperty(e,"passive",i);Object.defineProperty(e,"capture",i);i=function(){};n.addEventListener("test",i,e);n.removeEventListener("test",i,e)}catch(r){t=!1}Rn=t}return t||!1}var Rn=void 0;function Dn(n){if(_n.has(n))return _n.get(n);var t=L.ManagedMediaSource||L.MediaSource;return t?(t=t.isTypeSupported(n),_n.set(n,t),t):!1}function Cn(){var n=L.ManagedSourceBuffer||L.SourceBuffer;return!!n&&!!n.prototype&&!!n.prototype.changeType}var _n=new Map;function Ln(n,t){this.i=n;this.h=t}Ln.prototype.toString=function(){return"v"+this.i+"."+this.h};function On(n,t){var e=new Ln(5,0),i=Fn,r=i.i,u=e.h-r.h;(0<(e.i-r.i||u)?i.g:i.h)(i.i,e,n,t)}function xn(n,t,e,i){M([e,"has been deprecated and will be removed in",t,". We are currently at version",n,". Additional information:",i].join(" "))}function Un(n,t,e,i){bn([e,"has been deprecated and has been removed in",t,". We are now at version",n,". Additional information:",i].join(" "))}var Fn=null;function Bn(){}Bn.prototype.tn=function(){};Bn.prototype.decode=function(){return[]};Bn.prototype.clear=function(){};Bn.prototype.en=function(){return[]};function Xn(){}Xn.prototype.init=function(){};Xn.prototype.parse=function(){return[]};function Hn(){}function jn(n,t){if(!n&&!t)return!0;if(!n||!t||n.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(n)?n.buffer:n)==(ArrayBuffer.isView(t)?t.buffer:t)&&(n.byteOffset||0)==(t.byteOffset||0))return!0;var e=dt(n);t=dt(t);for(var i=0;i<n.byteLength;i++)if(e[i]!=t[i])return!1;return!0}function Vn(n){return ArrayBuffer.isView(n)?0==n.byteOffset&&n.byteLength==n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer:n}function dt(n,t,e){e=void 0===e?Infinity:e;return Kn(n,void 0===t?0:t,e,Uint8Array)}function Gn(n,t,e){e=void 0===e?Infinity:e;return Kn(n,void 0===t?0:t,e,Uint16Array)}function qn(n,t,e){e=void 0===e?Infinity:e;return Kn(n,void 0===t?0:t,e,DataView)}function Kn(n,t,e,i){var r=ArrayBuffer.isView(n)?n.buffer:n,u=1;"BYTES_PER_ELEMENT"in i&&(u=i.BYTES_PER_ELEMENT);var a=((n.byteOffset||0)+n.byteLength)/u;n=Math.floor(Math.max(0,Math.min(((n.byteOffset||0)+t)/u,a)));return new i(r,n,Math.floor(Math.min(n+Math.max(e,0),a))-n)}t("shaka.util.BufferUtils",Hn);Hn.rn=qn;Hn.un=Gn;Hn.an=dt;Hn.on=Vn;Hn.sn=jn;function Wn(){}Wn.prototype.init=function(){};Wn.prototype.g=function(){};Wn.prototype.i=function(){};Wn.prototype.v=function(){};t("shaka.media.IClosedCaptionParser",Wn);function zn(n){this.l=new Xn;if(n=Yn[n.toLowerCase()])this.l=n();this.h=new Bn;if(n=$n)this.h=n()}zn.prototype.init=function(n,t){(void 0===t?0:t)||this.i();this.l.init(n)};zn.prototype.g=function(n){n=this.l.parse(n);n=lt(n);for(var t=n.next();!t.done;t=n.next()){t=t.value;var e=dt(t.fn);0<e.length&&this.h.tn(e,t.cn)}return this.h.decode()};zn.prototype.i=function(){this.h.clear()};zn.prototype.v=function(){return this.h.en()};t("shaka.media.ClosedCaptionParser",zn);zn.ln=function(){return $n};zn.hn=function(){$n=null};zn.dn=function(n){$n=n};zn.vn=function(n){return Yn[n]};zn.mn=function(n){delete Yn[n]};zn.pn=function(n,t){Yn[n]=t};var Yn={},$n=null;function Qn(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.wn=this.gn=this.bn=Jn;this.scroll=Zn}t("shaka.text.CueRegion",Qn);var Jn=1;Qn.units={yn:0,Tn:Jn,LINES:2};var Zn="";Qn.En={NONE:Zn,Sn:"up"};function nt(n,t){return"number"===typeof n&&"number"===typeof t&&isNaN(n)&&isNaN(t)?!0:n===t}function tt(n,t){t=n.indexOf(t);-1<t&&n.splice(t,1)}function et(n,t,e){e||(e=nt);if(n.length!=t.length)return!1;t=t.slice();n=lt(n);for(var i=n.next(),r={};!i.done;r={An:void 0},i=n.next()){r.An=i.value;i=t.findIndex(function(t){return function(n){return e(t.An,n)}}(r));if(-1==i)return!1;t[i]=t[t.length-1];t.pop()}return 0==t.length}function it(n,t,e){e||(e=nt);if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(!e(n[i],t[i]))return!1;return!0}function vt(n,t,e){var i=Z.apply(3,arguments);this.kn=n;this.category=t;this.code=e;this.data=i;this.Mn=!1;this.message="Shaka Error "+this.code;if(rt)try{throw Error(this.message||"Shaka Error")}catch(r){this.stack=r.stack}}vt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")};t("shaka.util.Error",vt);var rt=!0;vt.In={Nn:1,Pn:2};vt.Rn={Dn:1,Cn:2,_n:3,Ln:4,On:5,xn:6,Un:7,Fn:8,Bn:9,Xn:10};vt.Hn={jn:1e3,Vn:1001,Gn:1002,TIMEOUT:1003,qn:1004,Kn:1006,Wn:1007,zn:1008,Yn:1009,$n:1010,Qn:1011,Jn:2e3,Zn:2001,nt:2003,tt:2004,et:2005,it:2007,rt:2008,ut:2009,ot:2010,st:2011,ft:2012,ct:2013,lt:2014,ht:2015,dt:2017,vt:3e3,wt:3001,gt:3002,bt:3003,yt:3004,Tt:3005,Et:3006,St:3007,At:3008,kt:3009,Mt:3010,It:3011,Nt:3012,Pt:3013,Rt:3014,Dt:3015,Ct:3016,_t:3017,Lt:3018,Ot:3019,xt:3020,Ut:3022,Ft:3023,Bt:4e3,Xt:4001,Ht:4002,jt:4003,Vt:4004,Gt:4005,qt:4006,Kt:4007,Wt:4008,zt:4009,Yt:4010,$t:4012,Qt:4015,Jt:4016,Zt:4017,ne:4018,te:4020,ee:4023,ie:4024,re:4025,ue:4026,ae:4027,oe:4028,se:4032,fe:4033,ce:4036,le:4037,he:4038,de:4039,ve:4040,me:4041,pe:4042,we:4045,ge:4046,be:4047,ye:4048,Te:4049,Ee:4050,Se:4051,Ae:4052,ke:4053,Me:4054,Ie:5006,Ne:6e3,Pe:6001,Re:6002,De:6003,Ce:6004,_e:6005,Le:6006,Oe:6007,xe:6008,Ue:6010,Fe:6012,Be:6013,Xe:6014,He:6015,je:6016,Ve:6017,Ge:6018,qe:6019,Ke:7e3,We:7001,ze:7002,Ye:7003,$e:7004,Qe:7005,Je:8e3,Ze:8001,ni:8002,ti:8003,ei:8004,ii:8005,ri:8006,ui:9e3,ai:9001,oi:9002,si:9003,fi:9004,ci:9005,li:9007,hi:9008,di:9011,vi:9012,mi:9013,pi:9014,wi:9015,gi:9016,bi:9017,yi:1e4,Ti:10001,Ei:10002,Si:10003,Ai:10004,ki:10005,Mi:10006,Ii:10007};function ut(n){this.h=n;this.i=void 0}ut.prototype.value=function(){void 0==this.i&&(this.i=this.h());return this.i};function at(n,t){return n.length&&t.length&&n!==t?0<ot(n,t).length:!0}function ot(n,t){if(!n.length)return t;if(!t.length)return n;var e=[];n=lt(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;for(var r=lt(t),u=r.next();!u.done;u=r.next())if(u=u.value,i.keySystem==u.keySystem){r=new Map;for(var a=lt((i.initData||[]).concat(u.initData||[])),o=a.next();!o.done;o=a.next())o=o.value,r.set(o.Ni,o);r=Array.from(r.values());a=i.Pi&&u.Pi?new Set([].concat(ht(i.Pi),ht(u.Pi))):i.Pi||u.Pi;e.push({keySystem:i.keySystem,Ri:i.Ri||u.Ri,Di:i.Di||u.Di,Ci:i.Ci||u.Ci,_i:i._i||u._i,Li:i.Li||u.Li,Oi:i.Oi||u.Oi,xi:i.xi||u.xi,initData:r,Pi:a});break}}return e}function st(n){return n?!!n.match(/^com\.(microsoft|chromecast)\.playready/):!1}var ft=new ut(function(){return Vn(new Uint8Array([0]))}),ct=new Map;function mt(n){this.h=n;this.i=null}mt.prototype.Ui=function(n){var t=this;this.stop();var e=!0,i=null;this.i=function(){L.clearTimeout(i);e=!1};i=L.setTimeout(function(){e&&t.h()},1e3*n);return this};mt.prototype.stop=function(){this.i&&(this.i(),this.i=null)};function S(n){this.h=n;this.i=null}S.prototype.Fi=function(){this.stop();this.h();return this};S.prototype.Ui=function(n){var t=this;this.stop();this.i=new mt(function(){t.h()}).Ui(n);return this};S.prototype.Bi=function(n){var t=this;this.stop();this.i=new mt(function(){t.i.Ui(n);t.h()}).Ui(n);return this};S.prototype.stop=function(){this.i&&(this.i.stop(),this.i=null)};t("shaka.util.Timer",S);S.prototype.stop=S.prototype.stop;S.prototype.Xi=S.prototype.Bi;S.prototype.Hi=S.prototype.Ui;S.prototype.ji=S.prototype.Fi;function pt(){var n=L.ManagedMediaSource||L.MediaSource;return n&&n.isTypeSupported?!0:!1}function wt(n){return""!=Lt().canPlayType(n)}function gt(){return navigator.userAgent.match(/Edge?\//)?!0:!1}function bt(){return c("Xbox One")}function yt(){return c("Tizen")}function Tt(){return c("Tizen 3")}function Et(){return c("Web0S")}function St(){return c("CrKey")}function At(){if(!c("Chrome")||navigator.userAgent.match(/Edge\//))return null;var n=navigator.userAgent.match(/Chrome\/(\d+)/);return n?parseInt(n[1],10):null}function kt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!yt()&&!c("PC=EOS")&&!c("PC=APL")&&!c("VirginMedia")&&!Pt()&&!It()&&!c("AFT")&&!c("WPE")&&!c("DT_STB_BCM")&&!c("Sky_STB")}function Mt(){return c("PlayStation 5")}function It(){return c("PlayStation 4")}function Nt(){return c("Hisense")||c("VIDAA")}function Pt(){return c("SOPOpenBrowser")}function Rt(){if(!kt())return null;var n=navigator.userAgent.match(/Version\/(\d+)/);return n?parseInt(n[1],10):(n=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(n[1],10):null}function Dt(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}function Ct(){return c("Android")}function _t(){return yt()||Et()||bt()||It()||Mt()||c("AFT")||c("PC=EOS")||c("PC=APL")||c("VirginMedia")||Pt()||c("WPE")||St()||Nt()||c("DT_STB_BCM")?!0:!1}function c(n){return(navigator.userAgent||"").includes(n)}function Lt(){if(Ft)return Ft;Ut||(Ut=new S(function(){Ft=null}));(Ft=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Ft=document.createElement("video"));Ut.Ui(1);return Ft}function Ot(n){return n?n===L.Vi:!!L.Vi}function xt(){var e,i,r,u,a,o,s,f,c,l,h,d,v,m,p;return sn(function(n){switch(n.i){case 1:e={width:Infinity,height:Infinity};if(St()){d=L.cast&&cast.__platform__&&cast.__platform__.canDisplayType;e.width=1280;e.height=720;q(n,14);if(!(v=d)){n.k(16);break}return an(n,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),17)}if(yt()){e.width=1920;e.height=1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(i=webapis.systeminfo.getMaxVideoResolution(),e.width=i.width,e.height=i.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch(t){M("Tizen: Error detecting screen size, default screen size 1920x1080.")}n.k(3);break}if(Et()){try{r=JSON.parse(L.PalmSystem.deviceInfo),e.width=Math.max(1920,r.screenWidth),e.height=Math.max(1080,r.screenHeight)}catch(t){M("WebOS: Error detecting screen size, default screen size 1920x1080."),e.width=1920,e.height=1080}n.k(3);break}if(Nt()){L.Hisense_Get4KSupportState&&L.Hisense_Get4KSupportState()?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080);n.k(3);break}if(!It()&&!Mt()){u=void 0;try{u="undefined"!==typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows}catch(t){}if(u){e.width=1920;e.height=1080;try{a=new u.Media.Protection.ProtectionCapabilities;o=u.Media.Protection.ProtectionCapabilityResult;s=null;do{s=a.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(s===o.maybe);s===o.probably&&(e.width=3840,e.height=2160)}catch(t){M("Xbox: Error detecting screen size, default screen size 1920x1080.")}}else bt()&&(e.width=1920,e.height=1080,M("Xbox: Error detecting screen size, default screen size 1920x1080."));n.k(3);break}f=!1;q(n,8);return an(n,L.msdk.device.getDisplayInfo(),10);case 10:c=n.h;f="4K"===c.resolution;K(n,9);break;case 8:return W(n),q(n,11),an(n,L.msdk.device.getDisplayInfoImmediate(),13);case 13:l=n.h;f="4K"===l.resolution;K(n,9);break;case 11:h=W(n),M("PlayStation: Failed to get the display info:",h);case 9:f?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080);n.k(3);break;case 17:v=n.h;case 16:if(v){e.width=3840;e.height=2160;n.k(18);break}if(!(m=d)){n.k(19);break}return an(n,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),20);case 20:m=n.h;case 19:m&&(e.width=1920,e.height=1080);case 18:K(n,3);break;case 14:p=W(n),bn("Failed to check canDisplayType:",p);case 3:return n.A(e)}})}var Ut=null,Ft=null;function Bt(){}function Xt(n){if(!n)return"";n=dt(n);239==n[0]&&187==n[1]&&191==n[2]&&(n=n.subarray(3));if(L.TextDecoder&&!It())return n=(new TextDecoder).decode(n),n.includes("�")&&bn('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),n;for(var t="",e=0;e<n.length;++e){var i=65533;0==(n[e]&128)?i=n[e]:n.length>=e+2&&192==(n[e]&224)&&128==(n[e+1]&192)?(i=(n[e]&31)<<6|n[e+1]&63,e+=1):n.length>=e+3&&224==(n[e]&240)&&128==(n[e+1]&192)&&128==(n[e+2]&192)?(i=(n[e]&15)<<12|(n[e+1]&63)<<6|n[e+2]&63,e+=2):n.length>=e+4&&240==(n[e]&241)&&128==(n[e+1]&192)&&128==(n[e+2]&192)&&128==(n[e+3]&192)&&(i=(n[e]&7)<<18|(n[e+1]&63)<<12|(n[e+2]&63)<<6|n[e+3]&63,e+=3);if(65535>=i)t+=String.fromCharCode(i);else{i-=65536;var r=i&1023;t+=String.fromCharCode(55296+(i>>10));t+=String.fromCharCode(56320+r)}}return t}function Ht(n,t,e){if(!n)return"";if(!e&&0!=n.byteLength%2)throw new vt(2,2,2004);e=Math.floor(n.byteLength/2);var i=new Uint16Array(e);n=qn(n);for(var r=0;r<e;r++)i[r]=n.getUint16(2*r,t);return qt(i)}function jt(n){function t(n){return e.byteLength<=n||32<=e[n]&&126>=e[n]}if(!n)return"";var e=dt(n);if(239==e[0]&&187==e[1]&&191==e[2])return Xt(e);if(254==e[0]&&255==e[1])return Ht(e.subarray(2),!1);if(255==e[0]&&254==e[1])return Ht(e.subarray(2),!0);if(0==e[0]&&0==e[2])return Ht(n,!1);if(0==e[1]&&0==e[3])return Ht(n,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Xt(n);throw new vt(2,2,2003)}function Vt(n){if(L.TextEncoder&&!It()){var t=new TextEncoder;return Vn(t.encode(n))}n=encodeURIComponent(n);n=unescape(n);t=new Uint8Array(n.length);for(var e=0;e<n.length;e++)t[e]=n[e].charCodeAt(0);return Vn(t)}function Gt(n,t){for(var e=new ArrayBuffer(2*n.length),i=new DataView(e),r=0;r<n.length;++r)i.setUint16(2*r,n.charCodeAt(r),t);return e}function qt(n){return Wt.value()(n)}function Kt(n){var t={Gi:"&",qi:"<",Ki:">",Wi:'"',zi:"'",Yi:" ",$i:"‎",Qi:"‏"},e=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,i=RegExp(e.source);return n&&i.test(n)?n.replace(e,function(n){return"#"==n[1]?(n="x"==n[2]||"X"==n[2]?parseInt(n.substring(3),16):parseInt(n.substring(2),10),0<=n&&1114111>=n?String.fromCodePoint(n):""):t[n]||"'"}):n||""}t("shaka.util.StringUtils",Bt);Bt.Ji=function(){Wt.i=void 0};Bt.Zi=Gt;Bt.nr=Vt;Bt.tr=jt;Bt.er=Ht;Bt.ir=Xt;var Wt=new ut(function(){function n(n){try{var t=new Uint8Array(n);return 0<String.fromCharCode.apply(null,t).length}catch(e){return!1}}for(var t={rr:65536};0<t.rr;t={rr:t.rr},t.rr/=2)if(n(t.rr))return function(i){return function(n){for(var t="",e=0;e<n.length;e+=i.rr)t+=String.fromCharCode.apply(null,n.subarray(e,e+i.rr));return t}}(t);return null});function zt(n){this.h=n||"";this.i=0}function Yt(n){$t(n,/[ \t]+/gm)}function $t(n,t){t.lastIndex=n.i;t=t.exec(n.h);t=null==t?null:{position:t.index,length:t[0].length,results:t};if(n.i==n.h.length||null==t||t.position!=n.i)return null;n.i+=t.length;return t.results}function Qt(n){return n.i==n.h.length?null:(n=$t(n,/[^ \t\n]*/gm))?n[0]:null}function Jt(n){n=$t(n,ne);if(null==n)return null;var t=Number(n[2]),e=Number(n[3]);return 59<t||59<e?null:(Number(n[6])||0)/1e3+e+60*t+3600*(Number(n[1])||0)}function Zt(n){return n?Jt(new zt(n)):null}var ne=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function te(n){function r(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||ArrayBuffer.isView(n))return n;if(u.has(n))return null;var t=n.constructor==Array;if(n.constructor!=Object&&!t)return null;u.add(n);var e=t?[]:{},i;for(i in n)e[i]=r(n[i]);t&&(e.length=n.length);return e}}var u=new WeakSet;return r(n)}function ee(n){var t={},e;for(e in n)t[e]=n[e];return t}function ie(n){if(Array.isArray(n)){for(var t=[],e=0;e<n.length;e++){var i=e.toString(),r=n[e];void 0!==r&&(r=ie(r))&&t.push(i+":"+r)}n="["+t.join(",")+"]"}else if("function"==typeof n)n="";else if(n instanceof Object){e=Object.keys(n);e.sort();t=[];e=lt(e);for(i=e.next();!i.done;i=e.next())r=i.value,i=JSON.stringify(r),r=n[r],void 0!==r&&(r=ie(r))&&t.push(i+":"+r);n="{"+t.join(",")+"}"}else n=JSON.stringify(n);return n}function re(n,t){var e=void 0===e?!1:e;n=jt(n);return ue(n,t,e)}function ue(n,t,e){n=oe(n,void 0===e?!1:e);return!t&&n.length?n[0]:(n=n.find(function(n){return t.split(",").includes(n.tagName)}))?n:null}function ae(n){return _e.has(n)?_e.get(n):""}function oe(l,h){function d(n,t){t=void 0===t?!1:t;for(var e=[];l[m];)if(60==l.charCodeAt(m)){if(47===l.charCodeAt(m+1)){t=m+2;m=l.indexOf(">",m);t=l.substring(t,m);var i=t.indexOf(n);if(-1==i){var r=n.indexOf(".");0<r&&(i=t.indexOf(n.substring(0,r)))}if(-1==i)throw n=l.substring(0,m).split("\n"),Error("Unexpected close tag\nLine: "+(n.length-1)+"\nColumn: "+(n[n.length-1].length+1)+"\nChar: "+l[m]);m+1&&(m+=1);break}else if(33===l.charCodeAt(m+1)){if(45==l.charCodeAt(m+2)){for(;-1!==m&&(62!==l.charCodeAt(m)||45!=l.charCodeAt(m-1)||45!=l.charCodeAt(m-2)||-1==m);)m=l.indexOf(">",m+1);-1===m&&(m=l.length)}else if(91===l.charCodeAt(m+2)&&91===l.charCodeAt(m+8)&&"cdata"===l.substr(m+3,5).toLowerCase()){i=l.indexOf("]]>",m);-1==i?(e.push(l.substr(m+9)),m=l.length):(e.push(l.substring(m+9,i)),m=i+3);continue}m++;continue}n:{r=t;m++;var u=v(),a={};for(i=[];62!==l.charCodeAt(m)&&l[m];){var o=l.charCodeAt(m);if(64<o&&91>o||96<o&&123>o){o=v();for(var s=l.charCodeAt(m);s&&39!==s&&34!==s&&!(64<s&&91>s||96<s&&123>s)&&62!==s;)m++,s=l.charCodeAt(m);var f=m+1;m=l.indexOf(l[m],f);f=l.slice(f,m);if(39===s||34===s){if(-1===m){r={tagName:u,attributes:a,children:i,parent:null};if(h)for(u=0;u<i.length;u++)"string"!==typeof i[u]&&(i[u].parent=r);i=r;break n}}else f=null,m--;if(o.startsWith("xmlns:")){s=f;var c=o.split(":")[1];_e.set(s,c);Le.set(c,s)}"tt"===u&&"xml:space"===o&&"preserve"===f&&(r=!0);a[o]=f}m++}47!==l.charCodeAt(m-1)?(m++,i=d(u,r)):m++;r={tagName:u,attributes:a,children:i,parent:null};u=i.length;for(a=0;a<u;a++)o=i[a],"string"!==typeof o?h&&(o.parent=r):a==u-1&&"\n"==o&&i.pop();i=r}e.push(i);if("string"===typeof i)break;"?"===i.tagName[0]&&i.children&&(e.push.apply(e,ht(i.children)),i.children=[])}else i=m,m=l.indexOf("<",m)-1,-2===m&&(m=l.length),i=l.slice(i,m+1),t?0<i.length&&e.push(i):e.length&&1==i.length&&"\n"==i[0]?e.push(i):0<i.trim().length&&e.push(i),m++;return e}function v(){for(var n=m;-1==="\r\n\t>/= ".indexOf(l[m])&&l[m];)m++;return l.slice(n,m)}var m=0;return d("")}function se(n){return"string"===typeof n}function fe(n){var t=[];if(!n.children)return[];n=lt(n.children);for(var e=n.next();!e.done;e=n.next())e=e.value,"string"!==typeof e&&t.push(e);return t}function fn(n,t){var e=[];if(!n.children)return[];n=lt(n.children);for(var i=n.next();!i.done;i=n.next())i=i.value,i.tagName===t&&e.push(i);return e}function ce(n){if("string"===typeof n)return Kt(n);n=n.children.reduce(function(n,t){return"string"===typeof t?n+t:n},"");return""===n?null:Kt(n)}function le(n){if(!Array.from(n.children).every(function(n){return"string"===typeof n}))return null;(n=ce(n))&&(n=n.trim());return n}function he(n,t,e){e=void 0===e?[]:e;n.tagName===t&&e.push(n);if(n.children){n=lt(n.children);for(var i=n.next();!i.done;i=n.next())he(i.value,t,e)}return e}function de(n,t){n=fn(n,t);return 1!=n.length?null:n[0]}function ve(n,t,e){n=pe(n,t,e);return 1!=n.length?null:n[0]}function cn(n,t,e,i){i=void 0===i?null:i;var r=null;n=n.attributes[t];null!=n&&(r=e(n));return null==r?i:r}function me(n,t,e){t=ae(t);return n.attributes[t+":"+e]||null}function pe(n,t,e){t=ae(t);var i=[];if(n.children){n=lt(n.children);for(var r=n.next();!r.done;r=n.next())(r=r.value)&&r.tagName===t+":"+e&&i.push(r)}return i}function we(n,t,e){t=lt(t);for(var i=t.next();!i.done;i=t.next())if(i=me(n,i.value,e))return i;return null}function ge(n){if(!n)return null;/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z");n=Date.parse(n);return isNaN(n)?null:n/1e3}function be(n){if(!n)return null;n=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(n);if(!n)return null;n=31536e3*Number(n[1]||null)+2592e3*Number(n[2]||null)+86400*Number(n[3]||null)+3600*Number(n[4]||null)+60*Number(n[5]||null)+Number(n[6]||null);return isFinite(n)?n:null}function ye(n){var t=/([0-9]+)-([0-9]+)/.exec(n);if(!t)return null;n=Number(t[1]);if(!isFinite(n))return null;t=Number(t[2]);return isFinite(t)?{start:n,end:t}:null}function Te(n){n=Number(n);return 0===n%1?n:null}function Ee(n){n=Number(n);return 0===n%1&&0<n?n:null}function Se(n){n=Number(n);return 0===n%1&&0<=n?n:null}function Ae(n){n=Number(n);return isNaN(n)?null:n}function ke(n){return n?"true"===n.toLowerCase():!1}function Me(n){var t;var e=(t=n.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(n);return isNaN(e)?null:e}function Ie(n){var t=[];n=Kt(n).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/);n=lt(n);for(var e=n.next();!e.done;e=n.next()){e=e.value;var i=e.match(/^([\w]+)/);if(i){var r=e.match(/(@id='(.*?)')/),u=e.match(/(@t='(\d+)')/),a=e.match(/(@n='(\d+)')/),o=e.match(/\[(\d+)\]/);t.push({name:i[0],id:r?r[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,ur:u?Number(u[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:o?Number(o[1])-1:null,ar:e.split("/@")[1]||null})}else e.startsWith("@")&&t.length&&(t[t.length-1].ar=e.slice(1))}return t}function Ne(n,t){var e=Ie(t.attributes.sel||"");if(e.length){var i=e[e.length-1],r=t.attributes.pos||null;e=i.position;null==e&&(null!==i.ur&&(e=Pe(n,"t",i.ur)),null!==i.n&&(e=Pe(n,"n",i.n)));null===e?e="prepend"===r?0:n.length:"prepend"===r?--e:"after"===r&&++e;r=t.tagName;(i=i.ar)&&n[e]?Re(n[e],r,i,le(t)||""):("remove"!==r&&"replace"!==r||n.splice(e,1),"add"!==r&&"replace"!==r||n.splice.apply(n,[e,0].concat(ht(t.children))))}}function Pe(n,t,e){var i=0;n=lt(n);for(var r=n.next();!r.done;r=n.next()){if(Number(r.value.attributes[t])===e)return i;i++}return null}function Re(n,t,e,i){if("remove"===t)delete n.attributes[e];else if("add"===t||"replace"===t)n.attributes[e]=i}function De(n){var t="",e=n.tagName.split(":");0<e.length&&(t=e[0],t=Le.has(t)?Le.get(t):"");t=document.createElementNS(t,n.tagName);for(var i in n.attributes)t.setAttribute(i,n.attributes[i]);n=lt(n.children);for(i=n.next();!i.done;i=n.next())i=i.value,e=void 0,"string"==typeof i?e=new Text(i):e=De(i),t.appendChild(e);return t}function Ce(n){if(!n)return null;var t={tagName:n.tagName,attributes:ee(n.attributes),children:[],parent:null};n=lt(n.children);for(var e=n.next();!e.done;e=n.next())e=e.value,"string"===typeof e?t.children.push(e):(e=Ce(e),e.parent=t,t.children.push(e));return t}var _e=new Map,Le=new Map;function Oe(n,t,e){this.startTime=n;this.endTime=t;this.sr=e;this.region=new Qn;this.position=null;this.positionAlign=Ve;this.size=0;this.textAlign=Ge;this.direction=ze;this.writingMode=Ye;this.cr=$e;this.line=null;this.lineHeight="";this.lineAlign=Qe;this.lr=Ke;this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="";this.fontWeight=ti;this.fontStyle=ii;this.hr=this.letterSpacing=this.fontFamily="";this.opacity=1;this.textCombineUpright="";this.textDecoration=[];this.dr=this.vr=this.textShadow="";this.mr=!0;this.id="";this.pr=[];this.lineBreak=this.wr=!1;this.gr=null;this.br={yr:32,rows:15}}function xe(n,t){n=new Oe(n,t,"");n.lineBreak=!0;return n}Oe.prototype.clone=function(){var n=new Oe(0,0,""),t;for(t in this)n[t]=this[t],n[t]&&n[t].constructor==Array&&(n[t]=n[t].slice());return n};function Ue(n,t){if(n.startTime!=t.startTime||n.endTime!=t.endTime||n.sr!=t.sr)return!1;for(var e in n)if("startTime"!=e&&"endTime"!=e&&"payload"!=e)if("nestedCues"==e){if(!it(n.pr,t.pr,Ue))return!1}else if("region"==e||"cellResolution"==e)for(var i in n[e]){if(n[e][i]!=t[e][i])return!1}else if(Array.isArray(n[e])){if(!it(n[e],t[e]))return!1}else if(n[e]!=t[e])return!1;return!0}function Fe(n,t){t=void 0===t?new Map:t;var e=n.sr;if(e.includes("<")){0===t.size&&Be(t);var i=e;e=[];for(var r=-1,u=0;u<i.length;u++)"<"===i[u]?r=u+1:">"===i[u]&&0<r&&(r=i.substr(r,u-r),r.match(oi)&&e.push(r),r=-1);e=lt(e);for(u=e.next();!u.done;u=e.next())u=u.value,i=i.replace("<"+u+">",'<div time="'+u+'">'),i+="</div>";n:{u=i;r=[];var a=-1;e="";i=!1;for(var o=0;o<u.length;o++)if("/"===u[o]){var s=u.indexOf(">",o);if(-1===s){e=u;break n}if((s=u.substring(o+1,s))&&"v"==s){i=!0;var f=null;r.length&&(f=r[r.length-1]);if(f){if(f===s)e+="/"+s+">";else{if(!f.startsWith("v")){e+=u[o];continue}e+="/"+f+">"}o+=s.length+1}else e+=u[o]}else e+=u[o]}else"<"===u[o]?(a=o+1,"v"!=u[a]&&(a=-1)):">"===u[o]&&0<a&&(r.push(u.substr(a,o-a)),a=-1),e+=u[o];u=lt(r);for(r=u.next();!r.done;r=u.next())r=r.value,a=r.replace(" ",".voice-"),e=e.replace("<"+r+">","<"+a+">"),e=e.replace("</"+r+">","</"+a+">"),i||(e+="</"+a+">")}e=Xe(e);n.sr="";try{var c=ue("<span>"+e+"</span>","span")}catch(l){}if(c)if(c=c.children,1!=c.length||c[0].tagName)for(c=lt(c),e=c.next();!e.done;e=c.next())He(e.value,n,t);else n.sr=Kt(e);else n.sr=Kt(e)}else n.sr=Kt(e)}function Be(n){for(var t=lt(Object.entries(Ze)),e=t.next();!e.done;e=t.next()){var i=lt(e.value);e=i.next().value;i=i.next().value;var r=new Oe(0,0,"");r.color=i;n.set("."+e,r)}t=lt(Object.entries(ni));for(e=t.next();!e.done;e=t.next())i=lt(e.value),e=i.next().value,i=i.next().value,r=new Oe(0,0,""),r.backgroundColor=i,n.set("."+e,r)}function Xe(n){var t={Tr:"",Er:" &gt;"},e=/(< +>|<\s|\s>)/g,i=RegExp(e.source);return n&&i.test(n)?n.replace(e,function(n){return t[n]||""}):n||""}function He(n,t,e){var i=t.clone();i.pr=[];i.sr="";i.gr="";i.line=null;i.region=new Qn;i.position=null;i.size=0;i.textAlign=Ge;if(n.tagName)for(var r=lt(n.tagName.split(/(?=[ .])+/g)),u=r.next();!u.done;u=r.next()){var a=u=u.value;if(a.startsWith(".voice-")){var o=a.split("-").pop();a='v[voice="'+o+'"]';e.has(a)||(a="v[voice="+o+"]")}e.has(a)&&(o=i,a=e.get(a))&&(o.backgroundColor=je(a.backgroundColor,o.backgroundColor),o.color=je(a.color,o.color),o.fontFamily=je(a.fontFamily,o.fontFamily),o.fontSize=je(a.fontSize,o.fontSize),o.textShadow=je(a.textShadow,o.textShadow),o.fontWeight=a.fontWeight,o.fontStyle=a.fontStyle,o.opacity=a.opacity,o.gr=a.gr,o.textCombineUpright=a.textCombineUpright,o.mr=a.mr);switch(u){case"br":i=xe(i.startTime,i.endTime);t.pr.push(i);return;case"b":i.fontWeight=ei;break;case"i":i.fontStyle=ri;break;case"u":i.textDecoration.push(ai);break;case"font":if(u=n.attributes.color)i.color=u;break;case"div":u=n.attributes.time;if(!u)break;if(u=Zt(u))i.startTime=u;break;case"ruby":case"rp":case"rt":i.gr=u}}r=n.children;if(se(n)||1==r.length&&se(r[0]))for(e=ce(n).split("\n"),n=!0,e=lt(e),r=e.next();!r.done;r=e.next())r=r.value,n||(n=xe(i.startTime,i.endTime),t.pr.push(n)),0<r.length&&(n=i.clone(),n.sr=Kt(r),t.pr.push(n)),n=!1;else for(t.pr.push(i),t=lt(r),n=t.next();!n.done;n=t.next())He(n.value,i,e)}function je(n,t){return n&&0<n.length?n:t}t("shaka.text.Cue",Oe);Oe.Sr=Fe;Oe.sn=Ue;Oe.prototype.clone=Oe.prototype.clone;var Ve="auto";Oe.positionAlign={Ar:"line-left",kr:"line-right",Mr:"center",Ir:Ve};var Ge="center",qe={Ar:"left",kr:"right",Mr:Ge,Nr:"start",Pr:"end"};Oe.textAlign=qe;var Ke="after",We={Rr:"before",Mr:"center",Dr:Ke};Oe.lr=We;var ze="ltr";Oe.direction={Cr:ze,_r:"rtl"};var Ye="horizontal-tb";Oe.writingMode={Lr:Ye,Or:"vertical-lr",Ur:"vertical-rl"};var $e=0;Oe.cr={Fr:$e,Tn:1};var Qe="start",Je={Mr:"center",Nr:Qe,Pr:"end"};Oe.lineAlign=Je;var Ze={Br:"white",Xr:"lime",Hr:"cyan",red:"red",jr:"yellow",Vr:"magenta",blue:"blue",Gr:"black"};Oe.qr=Ze;var ni={Kr:"white",Wr:"lime",zr:"cyan",Yr:"red",$r:"yellow",Qr:"magenta",Jr:"blue",Zr:"black"};Oe.nu=ni;var ti=400,ei=700;Oe.fontWeight={tu:ti,eu:ei};var ii="normal",ri="italic",ui={tu:ii,iu:ri,ru:"oblique"};Oe.fontStyle=ui;var ai="underline";Oe.textDecoration={uu:ai,au:"lineThrough",ou:"overline"};var oi=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function si(){}si.prototype.su=function(){};function fi(n,t,e){li[n.toLowerCase().split(";")[0]+"-"+e]={priority:e,fu:t}}function ci(n,t){for(var e=n.toLowerCase().split(";")[0],i=lt([mi,vi,di,hi]),r=i.next();!r.done;r=i.next())if(r=li[e+"-"+r.value]){var u=r.fu(),a=u.isSupported(n,t);u.su();if(a)return r.fu}return null}t("shaka.transmuxer.TransmuxerEngine",si);si.cu=ci;si.lu=function(n,t){delete li[n.toLowerCase().split(";")[0]+"-"+t]};si.hu=fi;si.prototype.su=si.prototype.su;var li={},hi=1,di=2,vi=3,mi=4;si.du={vu:hi,mu:di,pu:vi,wu:mi};var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function wi(n){var t;n instanceof wi?(gi(this,n.gu),this.bu=n.bu,bi(this,n.yu),yi(this,n.Tu),this.Eu=n.Eu,Ti(this,n.i.clone()),this.Su=n.Su):n&&(t=String(n).match(pi))?(gi(this,t[1]||"",!0),this.bu=Ei(t[2]||""),bi(this,t[3]||"",!0),yi(this,t[4]),this.Eu=Ei(t[5]||"",!0),Ti(this,t[6]||"",!0),this.Su=Ei(t[7]||"")):this.i=new Ri(null)}n=wi.prototype;n.gu="";n.bu="";n.yu="";n.Tu=null;n.Eu="";n.Su="";n.toString=function(){var n=[],t=this.gu;t&&n.push(Si(t,ki,!0),":");if(t=this.yu){n.push("//");var e=this.bu;e&&n.push(Si(e,ki,!0),"@");n.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));t=this.Tu;null!=t&&n.push(":",String(t))}if(t=this.Eu)this.yu&&"/"!=t.charAt(0)&&n.push("/"),n.push(Si(t,"/"==t.charAt(0)?Ii:Mi,!0));(t=this.i.toString())&&n.push("?",t);(t=this.Su)&&n.push("#",Si(t,Pi));return n.join("")};n.resolve=function(n){var t=this.clone();"data"===t.gu&&(t=new wi);var e=!!n.gu;e?gi(t,n.gu):e=!!n.bu;e?t.bu=n.bu:e=!!n.yu;e?bi(t,n.yu):e=null!=n.Tu;var i=n.Eu;if(e)yi(t,n.Tu);else if(e=!!n.Eu){if("/"!=i.charAt(0))if(this.yu&&!this.Eu)i="/"+i;else{var r=t.Eu.lastIndexOf("/");-1!=r&&(i=t.Eu.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0);i=i.split("/");for(var u=[],a=0;a<i.length;){var o=i[a++];"."==o?r&&a==i.length&&u.push(""):".."==o?((1<u.length||1==u.length&&""!=u[0])&&u.pop(),r&&a==i.length&&u.push("")):(u.push(o),r=!0)}i=u.join("/")}}e?t.Eu=i:e=""!==n.i.toString();e?Ti(t,n.i.clone()):e=!!n.Su;e&&(t.Su=n.Su);return t};n.clone=function(){return new wi(this)};function gi(n,t,e){n.gu=e?Ei(t,!0):t;n.gu&&(n.gu=n.gu.replace(/:$/,""))}function bi(n,t,e){n.yu=e?Ei(t,!0):t}function yi(n,t){if(t){t=Number(t);if(isNaN(t)||0>t)throw Error("Bad port number "+t);n.Tu=t}else n.Tu=null}function Ti(n,t,e){t instanceof Ri?n.i=t:(e||(t=Si(t,Ni)),n.i=new Ri(t))}function Ei(n,t){return n?t?decodeURI(n):decodeURIComponent(n):""}function Si(n,t,e){return null!=n?(n=encodeURI(n).replace(t,Ai),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ai(n){n=n.charCodeAt(0);return"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var ki=/[#\/\?@]/g,Mi=/[#\?:]/g,Ii=/[#\?]/g,Ni=/[#\?@]/g,Pi=/#/g;function Ri(n){this.i=n||null}function Di(n){if(!n.Au&&(n.Au={},n.ku=0,n.i))for(var t=n.i.split("&"),e=0;e<t.length;e++){var i=t[e].indexOf("="),r=null;if(0<=i){var u=t[e].substring(0,i);r=t[e].substring(i+1)}else u=t[e];u=decodeURIComponent(u.replace(/\+/g," "));r=r||"";n.add(u,decodeURIComponent(r.replace(/\+/g," ")))}}n=Ri.prototype;n.Au=null;n.ku=null;function Ci(n){Di(n);return n.ku}n.add=function(n,t){Di(this);this.i=null;var e=this.Au.hasOwnProperty(n)?this.Au[n]:null;e||(this.Au[n]=e=[]);e.push(t);this.ku++;return this};n.set=function(n,t){Di(this);this.i=null;this.Au.hasOwnProperty(n)?this.Au[n]=[t]:this.add(n,t);return this};n.get=function(n){Di(this);return this.Au[n]||[]};n.toString=function(){if(this.i)return this.i;if(!this.Au)return"";var n=[],t;for(t in this.Au)for(var e=encodeURIComponent(t),i=this.Au[t],r=0;r<i.length;r++){var u=e;""!==i[r]&&(u+="="+encodeURIComponent(i[r]));n.push(u)}return this.i=n.join("&")};n.clone=function(){var n=new Ri;n.i=this.i;if(this.Au){var t={},e;for(e in this.Au)t[e]=this.Au[e].concat();n.Au=t;n.ku=this.ku}return n};function _i(){}function Li(n){n=qt(dt(n));return btoa(n)}function Oi(n,t){t=void 0==t?!0:t;n=Li(n).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/[=]*$/,"")}function xi(n){n=L.atob(n.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(n.length),e=0;e<n.length;++e)t[e]=n.charCodeAt(e);return t}function Ui(n){for(var t=n.length/2,e=new Uint8Array(t),i=0;i<t;i++)e[i]=L.parseInt(n.substr(2*i,2),16);return e}function Fi(n){var t=dt(n);n="";t=lt(t);for(var e=t.next();!e.done;e=t.next())e=e.value,e=e.toString(16),1==e.length&&(e="0"+e),n+=e;return n}function Bi(){for(var n=Z.apply(0,arguments),t=0,e=0;e<n.length;++e)t+=n[e].byteLength;t=new Uint8Array(t);for(var i=e=0;i<n.length;++i){var r=n[i];ArrayBuffer.isView(r)&&1===r.BYTES_PER_ELEMENT?t.set(r,e):t.set(dt(r),e);e+=r.byteLength}return t}t("shaka.util.Uint8ArrayUtils",_i);_i.concat=Bi;_i.Mu=Fi;_i.Iu=Ui;_i.Nu=xi;_i.Pu=Oi;_i.Ru=Li;function Xi(n,t,e){e=void 0===e?"":e;if(0==t.length)return n;if(1==n.length&&1==t.length){var i=new wi(n[0]);t=new wi(t[0]);t=i.resolve(t);e&&Ti(t,e);return[t.toString()]}t=t.map(function(n){return new wi(n)});i=[];n=lt(n);for(var r=n.next();!r.done;r=n.next()){r=new wi(r.value);for(var u=lt(t),a=u.next();!a.done;a=u.next())a=r.resolve(a.value),e&&Ti(a,e),i.push(a.toString())}return i}function Hi(n,t,e,i){n={keySystem:n,Du:t,Ri:"",Di:!1,Ci:!1,Li:"",_i:"",Oi:null,xi:"",Cu:"",initData:e||[],Pi:new Set};i&&(n._u=new Set([i]));return n}function ji(n,t){t=void 0===t?"cenc":t;var r=[],u=[],a=[];n.forEach(function(n,t){var e=t;22!=e.length&&(e=Oi(Ui(t),!1));var i=n;22!=i.length&&(i=Oi(Ui(n),!1));n={Lu:"oct",Ou:e,xu:i};r.push(n);u.push(n.Ou);a.push(t)});n=JSON.stringify({keys:r});var e=JSON.stringify({Uu:u});e=[{initData:dt(Vt(e)),initDataType:"keyids"}];return{keySystem:"org.w3.clearkey",Du:t,Ri:"data:application/json;base64,"+L.btoa(n),Di:!1,Ci:!1,Li:"",_i:"",Oi:null,xi:"",Cu:"",initData:e,Pi:new Set(a)}}function Vi(n,t){if(1==t.length)return t[0];n=Gi(n,t);if(null!=n)return n;throw new vt(2,4,4025,t)}function Gi(n,t){for(var e=lt(zi[n]),i=e.next();!i.done;i=e.next()){i=i.value;for(var r=lt(t),u=r.next();!u.done;u=r.next())if(u=u.value,i.test(u.trim()))return u.trim()}return n==z?"":null}function qi(n,t){var e=[];n=lt(zi[n]);for(var i=n.next();!i.done;i=n.next()){i=i.value;for(var r=lt(t),u=r.next();!u.done;u=r.next())u=u.value,i.test(u.trim())&&e.push(u.trim())}return e}var z="text",Ki={Fu:"video",Bu:"audio",Xu:z,Hu:"image",ju:"application"},Wi=1/15,zi={Vu:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],Gu:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function Yi(){}function $i(n,t){var e=n;t&&!sr.includes(n)&&(e+='; codecs="'+t+'"');return e}function Qi(n,t){t&&(n+='; codecs="'+t+'"');return n}function Ji(n,t,e){var i=$i(n,t);t=Qi(n,t);ci(t)?(n=ci(t))?(n=n(),e=n.qu(e,t),n.su()):e=t:e="video/mp2t"!=n&&"audio"==e?i.replace("video","audio"):i;return e}function Zi(i,n,r){var u=[n];or.forEach(function(n,t){var e=i[t];"codecs"==t?sr.includes(i.mimeType)||u.push('codecs="'+r+'"'):e&&u.push(n+'="'+e+'"')});"PQ"==i.Ku&&u.push('eotf="smpte2084"');return u.join(";")}function nr(n){return n.split(";")[0].split("/")[1]}function tr(n){var t=ar(n);n=t[0];t=t[1].toLowerCase();switch(!0){case"mp4a"===n&&"69"===t:case"mp4a"===n&&"6b"===t:case"mp4a"===n&&"40.34"===t:return"mp3";case"mp4a"===n&&"66"===t:case"mp4a"===n&&"67"===t:case"mp4a"===n&&"68"===t:case"mp4a"===n&&"40.2"===t:case"mp4a"===n&&"40.02"===t:case"mp4a"===n&&"40.5"===t:case"mp4a"===n&&"40.05"===t:case"mp4a"===n&&"40.29"===t:case"mp4a"===n&&"40.42"===t:return"aac";case"mp4a"===n&&"a5"===t:return"ac-3";case"mp4a"===n&&"a6"===t:return"ec-3";case"mp4a"===n&&"b2"===t:return"dtsx";case"mp4a"===n&&"a9"===t:return"dtsc";case"vp09"===n:return"vp9";case"avc1"===n:case"avc3"===n:return"avc";case"hvc1"===n:case"hev1"===n:return"hevc";case"vvc1"===n:case"vvi1"===n:return"vvc";case"dvh1"===n:case"dvhe"===n:return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case"dvav"===n:case"dva1"===n:return"dovi-avc";case"dav1"===n:return"dovi-av1";case"dvc1"===n:case"dvi1"===n:return"dovi-vvc"}return n}function er(n){var t=[];n=lt(n.split(","));for(var e=n.next();!e.done;e=n.next())e=ar(e.value),t.push(e[0]);return t.sort().join(",")}function ir(n){return n.split(";")[0]}function rr(n){n=n.split(/ *; */);n.shift();return(n=n.find(function(n){return n.startsWith("codecs=")}))?n.split("=")[1].replace(/^"|"$/g,""):""}function ur(n){return"application/x-mpegurl"===n||"application/vnd.apple.mpegurl"===n}function ar(n){n=n.split(".");var t=n[0];n.shift();return[t,n.join(".")]}t("shaka.util.MimeUtils",Yi);Yi.Wu=Qi;Yi.zu=$i;var or=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),sr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function fr(n){this.g=null;this.v=n;this.C=!1;this.l=this.s=0;this.m=Infinity;this.h=this.i=null;this.P="";this.p=function(){};this.o=new Map}function cr(n){return pr[n]?!0:"application/cea-608"==n||"application/cea-708"==n?!!$n:!1}fr.prototype.su=function(){this.v=this.g=null;this.o.clear();return Promise.resolve()};function lr(t,e,i,r,u){var a,o,s,f,c,l,h;return sn(function(n){if(1==n.i)return an(n,Promise.resolve(),2);if(!t.g||!t.v)return n.A();if(null==i||null==r)return t.g.Yu(dt(e)),n.A();a=t.C?i:t.s;o={$u:t.s,Qu:i,Ju:r,Zu:a};s=t.g.na(dt(e),o,u,[]);f=lt(s);for(c=f.next();!c.done;c=f.next())l=c.value,t.p(l,u||null,o);h=s.filter(function(n){return n.startTime>=t.l&&n.startTime<t.m});t.v.append(h);null==t.i&&(t.i=Math.max(i,t.l));t.h=Math.min(r,t.m);on(n)})}fr.prototype.remove=function(t,e){var i=this;return sn(function(n){if(1==n.i)return an(n,Promise.resolve(),2);!i.v||!i.v.remove(t,e)||null==i.i||e<=i.i||t>=i.h||(t<=i.i&&e>=i.h?i.i=i.h=null:t<=i.i&&e<i.h?i.i=e:t>i.i&&e>=i.h&&(i.h=t));on(n)})};function hr(n,t,e){n.l=t;n.m=e}function dr(n,t,e){n.P=t;if(t=n.o.get(t))for(var i=lt(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter(function(n){return n.endTime<=e}))&&n.v.append(r)}function vr(n,t,e){t.startTime+=e;t.endTime+=e;t=lt(t.pr);for(var i=t.next();!i.done;i=t.next())vr(n,i.value,e)}function mr(n,t,e,i,r){var u=e+" "+i,a=new Map;t=lt(t);for(var o=t.next();!o.done;o=t.next()){var s=o.value;o=s.stream;s=s.ta;a.has(o)||a.set(o,new Map);a.get(o).has(u)||a.get(o).set(u,[]);vr(n,s,r);s.startTime>=n.l&&s.startTime<n.m&&(a.get(o).get(u).push(s),o==n.P&&n.v.append([s]))}r=lt(a.keys());for(u=r.next();!u.done;u=r.next())for(u=u.value,n.o.has(u)||n.o.set(u,new Map),t=lt(a.get(u).keys()),o=t.next();!o.done;o=t.next())o=o.value,s=a.get(u).get(o),n.o.get(u).set(o,s);n.i=null==n.i?Math.max(e,n.l):Math.min(n.i,Math.max(e,n.l));n.h=Math.max(n.h,Math.min(i,n.m))}t("shaka.text.TextEngine",fr);fr.prototype.su=fr.prototype.su;fr.vn=function(n){return pr[n]};fr.mn=function(n){delete pr[n]};fr.pn=function(n,t){pr[n]=t};var pr={};function wr(n,t){return n.concat(t)}function gr(){}function br(n){return null!=n}function yr(e,n){return Promise.race([n,new Promise(function(n,t){new S(t).Ui(e)})])}function Tr(){}function Er(n,t){n=kr(n);t=kr(t);return n.split("-")[0]==t.split("-")[0]}function Sr(n,t){n=kr(n);t=kr(t);n=n.split("-");t=t.split("-");return n[0]==t[0]&&1==n.length&&2==t.length}function Ar(n,t){n=kr(n);t=kr(t);n=n.split("-");t=t.split("-");return 2==n.length&&2==t.length&&n[0]==t[0]}function kr(n){n=lt(n.split("-x-"));var t=n.next().value;t=void 0===t?"":t;n=n.next().value;n=void 0===n?"":n;var e=lt(t.split("-"));t=e.next().value;t=void 0===t?"":t;e=e.next().value;e=void 0===e?"":e;n=n?"x-"+n:"";t=t.toLowerCase();t=Rr.get(t)||t;e=e.toUpperCase();return(e?t+"-"+e:t)+(n?"-"+n:"")}function Mr(n,t){n=kr(n);t=kr(t);return t==n?4:Sr(t,n)?3:Ar(t,n)?2:Sr(n,t)?1:0}function Ir(n){var t=n.indexOf("-");n=0<=t?n.substring(0,t):n;n=n.toLowerCase();return n=Rr.get(n)||n}function Nr(n){return n.language?kr(n.language):n.Vu&&n.Vu.language?kr(n.Vu.language):n.Gu&&n.Gu.language?kr(n.Gu.language):"und"}function Pr(n,t){n=kr(n);var e=new Set;t=lt(t);for(var i=t.next();!i.done;i=t.next())e.add(kr(i.value));t=lt(e);for(i=t.next();!i.done;i=t.next())if(i=i.value,i==n)return i;t=lt(e);for(i=t.next();!i.done;i=t.next())if(i=i.value,Sr(i,n))return i;t=lt(e);for(i=t.next();!i.done;i=t.next())if(i=i.value,Ar(i,n))return i;e=lt(e);for(t=e.next();!t.done;t=e.next())if(t=t.value,Sr(n,t))return t;return null}t("shaka.util.LanguageUtils",Tr);Tr.ea=Pr;Tr.ia=Nr;Tr.ra=function(n){return kr(n.language||"und")};Tr.ua=Ir;Tr.aa=Mr;Tr.oa=function(n,t){var e=Ir(n),i=Ir(t);return n!=e&&t!=i&&e==i};Tr.normalize=kr;Tr.sa=Ar;Tr.fa=Sr;Tr.ca=Er;Tr.la=function(n,t){n=kr(n);t=kr(t);return n==t};var Rr=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Dr(){}function Cr(n,t,e,u,i){if(i.length){var r=n.ha;i=lt(i);for(var a=i.next(),o={};!a.done;o={da:void 0},a=i.next())if(o.da=a.value,a=r.filter(function(t){return function(n){return n.va.startsWith(t.da)||n.mimeType.startsWith(t.da)?!0:!1}}(o)),a.length){r=a;break}n.ha=r}r=n.ma;if(t.length||e.length)r=_r(r,t,e);if(u.length){t=new kn;e=lt(r);for(r=e.next();!r.done;r=e.next())r=r.value,t.push(String(r.Gu.width||0),r);var s=[];t.forEach(function(n,t){n=0;var e=[];t=lt(t);for(var i=t.next(),r={};!i.done;r={pa:void 0},i=t.next())r.pa=i.value,i=u.filter(function(t){return function(n){return t.pa.wa[0][n]}}(r)).length,i>n?(n=i,e=[r.pa]):i==n&&e.push(r.pa);s.push.apply(s,ht(e))});r=s}e=new Set;t=new Set;r=lt(r);for(i=r.next();!i.done;i=r.next())i=i.value,i.Vu&&e.add(i.Vu),i.Gu&&t.add(i.Gu);r=Array.from(e).sort(function(n,t){return n.ga-t.ga});var f=[];e=new Map;r=lt(r);for(i=r.next();!i.done;i=r.next()){i=i.value;a=i.language+(i.ba||0)+(i.ya||0)+i.Ta.join(",")+i.label+i.groupId+i.Ea;o=e.get(a)||[];if(o.length){var c=o[o.length-1],l=tr(c.va),h=tr(i.va);l!=h||i.ga&&c.ga&&!(i.ga>c.ga)||(o.push(i),f.push(i.id))}else o.push(i),f.push(i.id);e.set(a,o)}var d={Sa:1,Aa:1,ka:.95,Ma:.9,Ia:.9,Na:.85,Pa:.8,Ra:.75,Da:.7,Ca:.65,_a:.6};r=Array.from(t).sort(function(n,t){if(!n.ga||!t.ga||n.ga==t.ga){if(n.va&&t.va&&n.va!=t.va&&n.width==t.width){var e=tr(n.va),i=tr(t.va);if(e!=i)return(d[e]||1)-(d[i]||1)}return n.width-t.width}return n.ga-t.ga});t=Cn();var v=[];e=new Map;r=lt(r);for(i=r.next();!i.done;i=r.next()){i=i.value;a=Math.round(i.La||0)+(i.Ku||"")+i.Ea;o=e.get(a)||[];if(o.length){c=o[o.length-1];if(!t&&(l=tr(c.va),h=tr(i.va),l!==h))continue;i.width>c.width||i.height>c.height?(o.push(i),v.push(i.id)):i.width==c.width&&i.height==c.height&&(l=tr(c.va),h=tr(i.va),l!=h||i.ga&&c.ga&&!(i.ga>c.ga)||(o.push(i),v.push(i.id)))}else o.push(i),v.push(i.id);e.set(a,o)}n.ma=n.ma.filter(function(n){var t=n.Vu;n=n.Gu;return t&&!f.includes(t.id)||n&&!v.includes(n.id)?!1:!0})}function _r(n,t,e){t=lt(t);for(var i=t.next(),r={};!i.done;r={Oa:void 0},i=t.next())if(r.Oa=i.value,i=n.filter(function(t){return function(n){return n.Gu&&n.Gu.va.startsWith(t.Oa)}}(r)),i.length){n=i;break}e=lt(e);t=e.next();for(i={};!t.done;i={xa:void 0},t=e.next())if(i.xa=t.value,t=n.filter(function(t){return function(n){return n.Vu&&n.Vu.va.startsWith(t.xa)}}(i)),t.length){n=t;break}return n}function Lr(n,t,e){n.ma=n.ma.filter(function(n){return Or(n,t,e)})}function Or(n,t,e){function i(n,t,e){return n>=t&&n<=e}var r=n.Gu;if(r&&r.width&&r.height){var u=r.width,a=r.height;a>u&&(a=lt([a,u]),u=a.next().value,a=a.next().value);if(!i(u,t.minWidth,Math.min(t.maxWidth,e.width))||!i(a,t.minHeight,Math.min(t.maxHeight,e.height))||!i(r.width*r.height,t.Ua,t.Fa))return!1}return n&&n.Gu&&n.Gu.La&&!i(n.Gu.La,t.Ba,t.Xa)||n&&n.Vu&&n.Vu.ba&&!i(n.Vu.ba,t.Ha,t.ja)||!i(n.ga,t.Va,t.Ga)?!1:!0}function xr(t,e,i,r){i=void 0===i?[]:i;r=void 0===r?{}:r;return sn(function(n){if(1==n.i)return an(n,Ur(t,e,0<e.qa.length,i,r),2);Kr(e);return an(n,Wr(e),0)})}function Ur(t,e,i,r,u){var a,o;return sn(function(n){if(1==n.i)return bt()&&Fr(e.ma),an(n,jr(e.ma,i,!1,r),2);a=null;t&&(o=t.i)&&(a=o.keySystem);e.ma=e.ma.filter(function(n){var t=Br(n,a,u);if(!t){var e=[];n.Vu&&e.push(ou(n.Vu));n.Gu&&e.push(ou(n.Gu))}return t});on(n)})}function Fr(n){var t={Ka:"avc3",Wa:"avc1",za:"hev1",Ya:"hvc1",$a:"vvc1",Qa:"vvi1"},e=new Set;n=lt(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.Gu&&e.add(i.Gu);e=lt(e);for(n=e.next();!n.done;n=e.next()){n=n.value;i=lt(Object.keys(t));for(var r=i.next();!r.done;r=i.next())if(r=r.value,n.va.includes(r)){n.va=n.va.replace(r,t[r]);break}}}function Br(n,t,e){if(!n.wa.some(function(n){return!n.supported||t&&(n=n.Ja)&&(e[n.keySystem]||n.keySystem)!=t?!1:!0}))return!1;var i=bt(),r=c("Firefox")&&Ct(),u=n.Gu,a=u&&u.width||0,o=u&&u.height||0;if(i&&u&&(1920<a||1080<o)&&(u.va.includes("avc1.")||u.va.includes("avc3.")))return!1;n=n.Vu;return r&&n&&n.Za&&n.va.toLowerCase().includes("opus")?!1:!0}function Xr(t,e){var r,u,i,a,o,s,f;return sn(function(n){if(1==n.i){r=function(n,t){if(n){var e=ee(n);e.supported=n.supported&&t.supported;e.powerEfficient=n.powerEfficient&&t.powerEfficient;e.smooth=n.smooth&&t.smooth;t.Ja&&!e.Ja&&(e.Ja=t.Ja);return e}return t};u=null;i=[];a=lt(e);o=a.next();for(s={};!o.done;s={cache:void 0,no:void 0},o=a.next())f=o.value,s.no=ie(f),s.cache=su,s.cache[s.no]?u=r(u,s.cache[s.no]):i.push(Hr(f).then(function(i){return function(n){var t=null;n=lt(n||[]);for(var e=n.next();!e.done;e=n.next())t=r(t,e.value);t&&(i.cache[i.no]=t,u=r(u,t))}}(s)));return an(n,Promise.all(i),2)}u&&t.wa.push(u);on(n)})}function Hr(n){var t=[""];n.Gu&&(t=rr(n.Gu.contentType).split(","));var e=[""];n.Vu&&(e=rr(n.Vu.contentType).split(","));var i=[];t=lt(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;for(var u=lt(e),a=u.next(),o={};!a.done;o={eo:void 0},a=u.next())a=a.value,o.eo=te(n),n.Gu&&(o.eo.Gu.contentType=$i(ir(o.eo.Gu.contentType),r)),n.Vu&&(o.eo.Vu.contentType=$i(ir(o.eo.Vu.contentType),a)),i.push(new Promise(function(e){return function(t,n){yr(1,navigator.mediaCapabilities.decodingInfo(e.eo)).then(function(n){t(n)})["catch"](n)}}(o)))}return Promise.all(i)["catch"](function(){JSON.stringify(n);return null})}function jr(t,e,i,r){var u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S;return sn(function(n){switch(n.i){case 1:if(u=t.some(function(n){return n.wa.length}))return n.A();a=lt(r);o=a.next();s={};case 2:if(o.done){n.k(4);break}s.io=o.value;f=!1;c=lt(t);l=c.next();case 5:if(l.done){n.k(7);break}h=l.value;d=Vr(h,e,i).filter(function(t){return function(n){n=n[0];return(n.ro&&n.ro.keySystem)===t.io}}(s));v=lt(d);m=v.next();case 8:if(m.done){n.k(10);break}p=m.value;return an(n,Xr(h,p),9);case 9:m=v.next();n.k(8);break;case 10:h.wa.length&&(f=!0);l=c.next();n.k(5);break;case 7:if(f)return n.A();s={io:void 0};o=a.next();n.k(2);break;case 4:w=lt(t),g=w.next();case 12:if(g.done){n.k(0);break}b=g.value;y=Vr(b,e,i).filter(function(n){n=n[0];n=n.ro&&n.ro.keySystem;return!n||!r.includes(n)});T=lt(y);E=T.next();case 15:if(E.done){g=w.next();n.k(12);break}S=E.value;return an(n,Xr(b,S),16);case 16:E=T.next(),n.k(15)}})}function Vr(n,t,e){var i=n.Vu,r=n.Gu,u=[],a=[];if(r)for(var o=lt(r.uo),s=o.next();!s.done;s=o.next()){s=s.value;var f=rr(s);if(f.includes(",")&&!i){var c=f.split(","),l=ir(s);f=Vi("video",c);c=Vi("audio",c);c=Gr(c,l);l=Ji(l,c,"audio");a.push({contentType:l,ao:2,oo:n.ga||1,so:1,fo:!1})}f=qr(f);s={contentType:Ji(ir(s),f,"video"),width:r.width||64,height:r.height||64,oo:r.ga||n.ga||1,co:r.La||1};if(r.Ku)switch(r.Ku){case"SDR":s.lo="srgb";break;case"PQ":s.lo="pq";break;case"HLG":s.lo="hlg"}r.ho&&(s.ho=r.ho);u.push(s)}if(i)for(o=lt(i.uo),s=o.next();!s.done;s=o.next())f=s.value,s=ir(f),f=Gr(rr(f),s),s=Ji(s,f,"audio"),a.push({contentType:s,ao:i.ba||2,oo:i.ga||n.ga||1,so:i.ya||1,fo:i["do"]});o=[];0==u.length&&u.push(null);0==a.length&&a.push(null);u=lt(u);for(s=u.next();!s.done;s=u.next())for(s=s.value,f=lt(a),l=f.next();!l.done;l=f.next())l=l.value,c={type:e?"file":"media-source"},s&&(c.Gu=s),l&&(c.Vu=l),o.push(c);a=(n.Gu?n.Gu.vo:[]).concat(n.Vu?n.Vu.vo:[]);if(!a.length)return[o];n=[];e=new Map;a=lt(a);for(u=a.next();!u.done;u=a.next())u=u.value,e.get(u.keySystem)||e.set(u.keySystem,[]),e.get(u.keySystem).push(u);a=t?"required":"optional";t=t?["persistent-license"]:["temporary"];u=lt(e.keys());for(s=u.next();!s.done;s=u.next()){s=s.value;f=[];l=lt(o);for(c=l.next();!c.done;c=l.next()){c=Object.assign({},c.value);var h=e.get(s),d={keySystem:s,initDataType:"cenc",mo:a,po:"optional",wo:t};h=lt(h);for(var v=h.next();!v.done;v=h.next()){v=v.value;if(v.initData&&v.initData.length){for(var m=new Set,p=lt(v.initData),w=p.next();!w.done;w=p.next())m.add(w.value.initDataType);d.initDataType=v.initData[0].initDataType}v.Di&&(d.po="required");v.Ci&&(d.mo="required");v.Cu&&(d.wo=[v.Cu]);i&&(d.Vu?(v.Du&&(d.Vu.Du=d.Vu.Du||v.Du),d.Vu.bo=d.Vu.bo||v.Li):(d.Vu={bo:v.Li},v.Du&&(d.Vu.Du=v.Du)),""==d.Vu.bo&&delete d.Vu.bo);r&&(d.Gu?(v.Du&&(d.Gu.Du=d.Gu.Du||v.Du),d.Gu.bo=d.Gu.bo||v._i):(d.Gu={bo:v._i},v.Du&&(d.Gu.Du=v.Du)),""==d.Gu.bo&&delete d.Gu.bo)}c.ro=d;f.push(c)}n.push(f)}return n}function Gr(n,t){return"flac"==n.toLowerCase()?Rt()?"fLaC":"flac":"opus"===n.toLowerCase()?Rt()?"mp4"==nr(t)?"Opus":"opus":"opus":n}function qr(n){if(n.includes("avc1")){var t=n.split(".");if(3==t.length)return n=t.shift()+".",n+=parseInt(t.shift(),10).toString(16),n+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==n)return"vp09.00.41.08";return n}function Kr(n){n.ha=n.ha.filter(function(n){n=$i(n.mimeType,n.va);return cr(n)})}function Wr(t){var e,i,r,u,a,o,s,f;return sn(function(n){switch(n.i){case 1:e=[],i=lt(t.yo),r=i.next();case 2:if(r.done){n.k(4);break}u=r.value;a=u.mimeType;"application/mp4"==a&&"mjpg"==u.va&&(a="image/jpg");if(cu.has(a)){n.k(5);break}o=lu.get(a);if(!o){cu.set(a,!1);n.k(5);break}return an(n,zr(o),7);case 7:s=n.h,cu.set(a,s);case 5:(f=cu.get(a))&&e.push(u);r=i.next();n.k(2);break;case 4:t.yo=e,on(n)}})}function zr(e){return new Promise(function(n){var t=new Image;t.src=e;"decode"in t?t.decode().then(function(){n(!0)})["catch"](function(){n(!1)}):t.onload=t.onerror=function(){n(2===t.height)}})}function Yr(n){var t=n.Vu,e=n.Gu,i=t?t.mimeType:null,r=e?e.mimeType:null,u=t?t.va:null,a=e?e.va:null,o=[];a&&o.push(a);u&&o.push(u);var s=[];e&&s.push(e.mimeType);t&&s.push(t.mimeType);s=s[0]||null;var f=[];t&&f.push(t.kind);e&&f.push(e.kind);f=f[0]||null;var c=new Set;if(t)for(var l=lt(t.Ta),h=l.next();!h.done;h=l.next())c.add(h.value);if(e)for(l=lt(e.Ta),h=l.next();!h.done;h=l.next())c.add(h.value);n={id:n.id,active:!1,type:"variant",ga:n.ga,language:n.language,label:null,kind:f,width:null,height:null,La:null,To:null,Ku:null,ho:null,Eo:null,mimeType:s,So:i,Ao:r,va:o.join(", "),ko:u,Mo:a,Io:n.Io,Ta:Array.from(c),No:null,Po:!1,Ro:null,Do:null,ba:null,ya:null,"do":!1,Co:null,_o:null,Lo:null,Oo:null,xo:null,Uo:null,Fo:null,Bo:null,Xo:null};e&&(n.Ro=e.id,n.Oo=e.Ho,n.width=e.width||null,n.height=e.height||null,n.La=e.La||null,n.To=e.To||null,n.Lo=e.ga||null,n.Ku=e.Ku||null,n.ho=e.ho||null,n.Eo=e.Eo||null,a.includes(",")&&(n.ba=e.ba,n.ya=e.ya,n["do"]=e["do"],n.Xo=e.Xo));t&&(n.Do=t.id,n.xo=t.Ho,n.ba=t.ba,n.ya=t.ya,n._o=t.ga||null,n["do"]=t["do"],n.label=t.label,n.No=t.Ta,n.Bo=t.Bo,n.Xo=t.Xo);return n}function $r(n){return{id:n.id,active:!1,type:z,ga:0,language:n.language,label:n.label,kind:n.kind||null,width:null,height:null,La:null,To:null,Ku:null,ho:null,Eo:null,mimeType:n.mimeType,So:null,Ao:null,va:n.va||null,ko:null,Mo:null,Io:n.Io,Ta:n.Ta,No:null,Po:n.Po,Ro:null,Do:null,ba:null,ya:null,"do":!1,Co:null,_o:null,Lo:null,Oo:null,xo:null,Uo:n.Ho,Fo:null,Bo:n.Bo,Xo:n.Xo}}function Qr(n){var t=n.width||null,e=n.height||null,i=null;n.jo&&(i=Df(n.jo));var r=n.Co;i&&(r=i.Co||r);r&&null!=t&&(t/=Number(r.split("x")[0]));r&&null!=e&&(e/=Number(r.split("x")[1]));return{id:n.id,active:!1,type:"image",ga:n.ga||0,language:"",label:null,kind:null,width:t,height:e,La:null,To:null,Ku:null,ho:null,Eo:null,mimeType:n.mimeType,So:null,Ao:null,va:n.va||null,ko:null,Mo:null,Io:!1,Ta:[],No:null,Po:!1,Ro:null,Do:null,ba:null,ya:null,"do":!1,Co:r||null,_o:null,Lo:null,Oo:null,xo:null,Uo:null,Fo:n.Ho,Bo:null,Xo:null}}function Jr(n){n.Vo||(n.Vo=fu++);return n.Vo}function Zr(n){var t=tu(n);t.active="disabled"!=n.mode;t.type="text";t.Uo=n.id;"captions"==n.kind&&(t.mimeType="unknown");"subtitles"==n.kind&&(t.mimeType="text/vtt");n.kind&&(t.Ta=[n.kind]);"forced"==n.kind&&(t.Po=!0);return t}function nu(n){var t=tu(n);t.active=n.enabled;t.type="variant";t.xo=n.id;"main"==n.kind&&(t.Io=!0);n.kind&&(t.Ta=[n.kind],t.No=[n.kind],t.label=n.label);return t}function tu(n){var t=n.language;return{id:Jr(n),active:!1,type:"",ga:0,language:kr(t||"und"),label:n.label,kind:n.kind,width:null,height:null,La:null,To:null,Ku:null,ho:null,Eo:null,mimeType:null,So:null,Ao:null,va:null,ko:null,Mo:null,Io:!1,Ta:[],Po:!1,No:null,Ro:null,Do:null,ba:null,ya:null,"do":!1,Co:null,_o:null,Lo:null,Oo:null,xo:null,Uo:null,Fo:null,Bo:null,Xo:t}}function eu(n){return n.Go&&n.qo&&0==n.Ko}function iu(n){return n.filter(function(n){return eu(n)})}function ru(n,t,e,i){var r=n,u=n.filter(function(n){return n.Io});u.length&&(r=u);var a=r.length?r[0].language:"";r=r.filter(function(n){return n.language==a});if(t){var o=Pr(kr(t),n.map(function(n){return n.language}));o&&(r=n.filter(function(n){return kr(n.language)==o}))}r=r.filter(function(n){return n.Po==i});if(e){if(n=uu(r,e),n.length)return n}else if(n=r.filter(function(n){return 0==n.Ta.length}),n.length)return n;n=r.map(function(n){return n.Ta}).reduce(wr,[]);return n.length?uu(r,n[0]):r}function uu(n,t){return n.filter(function(n){return n.Ta.includes(t)})}function au(t,n){n.length&&(n=n.filter(function(n){return tr(t.va)==tr(n.va)}).sort(function(n,t){return n.ga&&t.ga&&n.ga!=t.ga?n.ga-t.ga:(n.width||0)-(t.width||0)}),t.Wo=n[0],1<n.length&&(n=n.find(function(n){return t.width==n.width&&t.height==n.height})))&&(t.Wo=n)}function ou(n){return"audio"==n.type?"type=audio codecs="+n.va+" bandwidth="+n.ga+" channelsCount="+n.ba+" audioSamplingRate="+n.ya:"video"==n.type?"type=video codecs="+n.va+" bandwidth="+n.ga+" frameRate="+n.La+" width="+n.width+" height="+n.height:"unexpected stream type"}t("shaka.util.StreamUtils",Dr);Dr.zo=Or;var su={},fu=0,cu=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),lu=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function hu(){var t=this;this.p=null;this.v=!1;this.g=new wn;this.I=new Mn;navigator.connection&&navigator.connection.addEventListener&&this.I.K(navigator.connection,"change",function(){if(t.v&&t.i.Yo){t.g=new wn;t.i&&t.g.B(t.i.$o);var n=t.Qo();n&&navigator.onLine&&t.p(n,t.i.Jo,t.i.Zo)}});this.s=[];this.C=1;this.D=!1;this.h=this.o=this.i=this.l=null;this.P=new S(function(){if(t.v&&t.i.ns){var n=t.Qo();n&&t.p(n,t.i.Jo,t.i.Zo)}});this.m=null}n=hu.prototype;n.stop=function(){this.p=null;this.v=!1;this.s=[];this.C=1;this.o=this.l=null;this.h&&(this.h.disconnect(),this.h=null);this.P.stop();this.m=null};n.release=function(){this.I.release();this.P=null};n.init=function(n){this.p=n};n.Qo=function(){var n=Infinity,t=Infinity;if(this.i.ts){var e=this.i.es?1:L.devicePixelRatio;n=L.screen.height*e;t=L.screen.width*e}this.h&&this.i.ns&&(e=this.i.es?1:L.devicePixelRatio,n=Math.min(n,this.o.clientHeight*e),t=Math.min(t,this.o.clientWidth*e));e=this.s.filter(function(n){return n&&!(n.Vu&&n.Vu.Ea||n.Gu&&n.Gu.Ea)});e.length||(e=this.s);var i=e;e.length!=this.s.length&&(i=this.s.filter(function(n){return n&&(n.Vu&&n.Vu.Ea||n.Gu&&n.Gu.Ea?!0:!1)}));e=vu(this,this.i.rs,i,Infinity,Infinity);if(Infinity!=n||Infinity!=t){e=mu(e);e=lt(e);for(var r=e.next();!r.done;r=e.next())if(r=r.value,r.height>=n&&r.width>=t){n=r.height;t=r.width;break}e=vu(this,this.i.rs,i,n,t)}n=this.G();i.length&&!e.length&&(e=vu(this,null,i,Infinity,Infinity),e=[e[0]]);t=e[0]||null;for(i=0;i<e.length;i++){r=e[i];for(var u=isNaN(this.C)?1:Math.abs(this.C),a=u*r.ga/this.i.us,o={ga:Infinity},s=i+1;s<e.length;s++)if(r.ga!=e[s].ga){o=e[s];break}u=u*o.ga/this.i.os;n>=a&&n<=u&&(t.ga!=r.ga||t.ga==r.ga&&t.Gu&&r.Gu&&(t.Gu.width<r.Gu.width||t.Gu.height<r.Gu.height))&&(t=r)}this.l=Date.now();return t};n.enable=function(){this.v=!0};n.disable=function(){this.v=!1};n.ss=function(n,t,e){n<this.i.fs||(this.g.sample(n,t),e&&null!=this.l&&this.v&&du(this))};n.cs=function(){null!=this.l&&this.v&&du(this)};n.G=function(){var n=this.i.ls;navigator.connection&&navigator.connection.downlink&&this.i.Yo&&(n=1e6*navigator.connection.downlink);if(navigator.connection&&navigator.connection.downlink&&this.i.Yo&&this.i.hs)return n;n=this.g.G(n);return this.m?this.m.G(n):n};n.ds=function(n){this.s=n};n.vs=function(n){this.C=n};n.ps=function(n){var t=this;this.o=n;this.h&&(this.h.disconnect(),this.h=null);this.o&&"ResizeObserver"in L&&(this.h=new ResizeObserver(function(){t.P.Ui(pu)}),this.h.observe(this.o))};n.ws=function(n){this.m=n};n.B=function(n){this.i=n;this.g&&this.i&&this.g.B(this.i.$o)};function du(n){if(!n.D){var t=n.g;if(!(t.i>=t.g))return;n.D=!0;n.l-=1e3*(n.i.gs-n.i.bs)}Date.now()-n.l<1e3*n.i.gs||(t=n.Qo(),n.G(),t&&n.p(t,n.i.Jo,n.i.Zo))}function vu(n,t,e,i,r){if(n.m){var u=n.m.ys();u&&(e=e.filter(function(n){return n.ga&&u?n.ga<=u:!0}))}t&&(e=e.filter(function(n){return Or(n,t,{width:r,height:i})}));return e.sort(function(n,t){return n.ga-t.ga})}function mu(n){var t=[];n=lt(n);for(var e=n.next();!e.done;e=n.next())(e=e.value.Gu)&&e.height&&e.width&&t.push({height:e.height,width:e.width});return t.sort(function(n,t){return n.width-t.width})}t("shaka.abr.SimpleAbrManager",hu);hu.prototype.B=hu.prototype.B;hu.prototype.ws=hu.prototype.ws;hu.prototype.ps=hu.prototype.ps;hu.prototype.vs=hu.prototype.vs;hu.prototype.ds=hu.prototype.ds;hu.prototype.G=hu.prototype.G;hu.prototype.cs=hu.prototype.cs;hu.prototype.ss=hu.prototype.ss;hu.prototype.disable=hu.prototype.disable;hu.prototype.enable=hu.prototype.enable;hu.prototype.Qo=hu.prototype.Qo;hu.prototype.init=hu.prototype.init;hu.prototype.release=hu.prototype.release;hu.prototype.stop=hu.prototype.stop;var pu=1;t("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,Ts:2,Es:3});t("shaka.config.CodecSwitchingStrategy",{Ss:"reload",As:"smooth"});function wu(n,t,e){e=void 0===e?!0:e;this.h=n;this.i=new Set([n]);t=t||[];n=lt(t);for(t=n.next();!t.done;t=n.next())this.add(t.value,e)}wu.prototype.add=function(n,t){var e=this.h;t=void 0===t?!0:t;var i;if(!(i=!!e.Vu!=!!n.Vu||!!e.Gu!=!!n.Gu||e.language!=n.language)&&(i=e.Vu&&n.Vu)){i=e.Vu;var r=n.Vu;i=!(!((!i.ba||!r.ba||2<i.ba||2<r.ba)&&i.ba!=r.ba||i["do"]!==r["do"]||t&&!gu(i,r))&&bu(i.Ta,r.Ta)&&i.groupId===r.groupId)}!i&&(i=e.Gu&&n.Gu)&&(e=e.Gu,i=n.Gu,i=!((!t||gu(e,i))&&bu(e.Ta,i.Ta)));return i?!1:(this.i.add(n),!0)};wu.prototype.values=function(){return this.i.values()};function gu(n,t){if(n.mimeType!=t.mimeType)return!1;n=n.va.split(",").map(function(n){return er(n)});t=t.va.split(",").map(function(n){return er(n)});if(n.length!=t.length)return!1;n.sort();t.sort();for(var e=0;e<n.length;e++)if(n[e]!=t[e])return!1;return!0}function bu(n,t){n=new Set(n);t=new Set(t);n["delete"]("main");t["delete"]("main");if(n.size!=t.size)return!1;n=lt(n);for(var e=n.next();!e.done;e=n.next())if(!t.has(e.value))return!1;return!0}function yu(n,t){this.i=new Tu(n.language,"",n.Vu&&n.Vu.ba?n.Vu.ba:0,n.Gu&&n.Gu.Ku?n.Gu.Ku:"",n.Vu&&n.Vu["do"]?n.Vu["do"]:!1,n.Gu&&n.Gu.Eo?n.Gu.Eo:"","","",t,n.Vu&&n.Vu.va?n.Vu.va:"")}yu.prototype.create=function(n){return this.i.create(n)};function Tu(n,t,e,i,r,u,a,o,s,f){this.s=n;this.p=t;this.g=e;this.v=i;this.C=r;this.m=u;this.h=a;this.l=o;this.o=s;this.i=f}Tu.prototype.create=function(n){var t=[];t=Eu(n,this.s);var e=n.filter(function(n){return n.Io});t=t.length?t:e.length?e:n;n=Su(t,this.p);n.length&&(t=n);this.m&&(n=Nu(t,this.m),n.length&&(t=n));this.v&&(n=Iu(t,this.v),n.length&&(t=n));this.g&&(n=Mu(t,this.g),n.length&&(t=n));this.h&&(n=Au(t,this.h),n.length&&(t=n));this.l&&(n=ku(t,this.l),n.length&&(t=n));n=Pu(t,this.C);n.length&&(t=n);this.i&&(n=Ru(t,this.i),n.length&&(t=n));return new wu(t[0],t,!("smooth"==this.o&&Cn()))};function Eu(n,t){t=kr(t);var e=Pr(t,n.map(function(n){return Nr(n)}));return e?n.filter(function(n){return e==Nr(n)}):[]}function Su(n,t){return n.filter(function(n){return n.Vu?t?n.Vu.Ta.includes(t):0==n.Vu.Ta.length:!1})}function Au(n,t){return n.filter(function(n){return n.Vu&&n.Vu.label?n.Vu.label.toLowerCase()==t.toLowerCase():!1})}function ku(n,t){return n.filter(function(n){return n.Gu&&n.Gu.label?n.Gu.label.toLowerCase()==t.toLowerCase():!1})}function Mu(n,t){return n.filter(function(n){return n.Vu&&n.Vu.ba&&n.Vu.ba!=t?!1:!0})}function Iu(n,t){"AUTO"==t&&(t=L.matchMedia("(color-gamut: p3)").matches?n.some(function(n){return n.Gu&&n.Gu.Ku&&"HLG"==n.Gu.Ku?!0:!1})?"HLG":"PQ":"SDR");return n.filter(function(n){return n.Gu&&n.Gu.Ku&&n.Gu.Ku!=t?!1:!0})}function Nu(n,t){return n.filter(function(n){return n.Gu&&n.Gu.Eo&&n.Gu.Eo!=t?!1:!0})}function Pu(n,t){return n.filter(function(n){return n.Vu&&n.Vu["do"]!=t?!1:!0})}function Ru(n,t){return n.filter(function(n){return n.Vu&&n.Vu.va!=t?!1:!0})}function Du(){this.i=Lu;this.g=(new Map).set(Lu,2).set(_u,1);this.h=0}function Cu(n,t,e){n.g.set(Lu,e).set(_u,t)}var _u=0,Lu=1;function Ou(n,t){var e=Uu();this.l=null==n.ks?e.ks:n.ks;this.v=null==n.Ms?e.Ms:n.Ms;this.o=null==n.Is?e.Is:n.Is;this.m=null==n.Ns?e.Ns:n.Ns;this.i=0;this.h=this.v;if(this.g=void 0===t?!1:t)this.i=1}function xu(t){var e,i;return sn(function(n){if(1==n.i){if(t.i>=t.l)if(t.g)t.i=1,t.h=t.v;else throw new vt(2,7,1010);e=t.i;t.i++;if(0==e)return n.A();i=t.h*(1+(2*Math.random()-1)*t.o);return an(n,new Promise(function(n){new S(n).Ui(i/1e3)}),2)}t.h*=t.m;on(n)})}function Uu(){return{ks:2,Ms:1e3,Ns:2,Is:.5,timeout:3e4,Ps:5e3,Rs:1e4}}function Fu(){var e,i,n=new Promise(function(n,t){e=n;i=t});n.resolve=e;n.reject=i;return n}Fu.prototype.resolve=function(){};Fu.prototype.reject=function(){};function Bu(n,t){this.promise=n;this.g=t;this.i=null}function Xu(n){return new Bu(Promise.reject(n),function(){return Promise.resolve()})}function Hu(){var n=Promise.reject(new vt(2,7,7001));n["catch"](function(){});return new Bu(n,function(){return Promise.resolve()})}function ju(n){return new Bu(Promise.resolve(n),function(){return Promise.resolve()})}function Vu(n){return new Bu(n,function(){return n["catch"](function(){})})}Bu.prototype.abort=function(){this.i||(this.i=this.g());return this.i};function Gu(n){return new Bu(Promise.all(n.map(function(n){return n.promise})),function(){return Promise.all(n.map(function(n){return n.abort()}))})}Bu.prototype["finally"]=function(n){this.promise.then(function(){return n(!0)},function(){return n(!1)});return this};Bu.prototype.Ds=function(i,r){function n(e){return function(n){if(a.i&&e)o.reject(s);else{var t=e?i:r;t?u=qu(t,n,o):(e?o.resolve:o.reject)(n)}}}function u(){o.reject(s);return a.abort()}var a=this,o=new Fu;o["catch"](function(){});var s=new vt(2,7,7001);this.promise.then(n(!0),n(!1));return new Bu(o,function(){return u()})};function qu(n,t,e){try{var i=n(t);if(i&&i.promise&&i.abort)return e.resolve(i.promise),function(){return i.abort()};e.resolve(i);return function(){return Promise.resolve(i).then(function(){},function(){})}}catch(r){return e.reject(r),function(){return Promise.resolve()}}}d.Object.defineProperties(Bu.prototype,{aborted:{t:!0,Cs:!0,get:function(){return null!==this.i}}});t("shaka.util.AbortableOperation",Bu);Bu.prototype.chain=Bu.prototype.Ds;Bu.prototype["finally"]=Bu.prototype["finally"];Bu.all=Gu;Bu.prototype.abort=Bu.prototype.abort;Bu._s=Vu;Bu.Ls=ju;Bu.aborted=Hu;Bu.Os=Xu;function A(n,t){if(t)if(t instanceof Map)for(var e=lt(t.keys()),i=e.next();!i.done;i=e.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,Cs:!0});else for(e in t)Object.defineProperty(this,e,{value:t[e],writable:!0,Cs:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=L.performance&&L.performance.now?L.performance.now():Date.now();this.type=n;this.isTrusted=!1;this.target=this.currentTarget=null;this.i=!1}function Ku(n){var t=new A(n.type),e;for(e in n)Object.defineProperty(t,e,{value:n[e],writable:!0,Cs:!0});return t}A.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};A.prototype.stopImmediatePropagation=function(){this.i=!0};A.prototype.stopPropagation=function(){};t("shaka.util.FakeEvent",A);var Wu={xs:"abrstatuschanged",Us:"adaptation",Fs:"audiotrackchanged",Bs:"buffering",Xs:"complete",Hs:"downloadfailed",js:"downloadheadersreceived",Vs:"drmsessionupdate",Gs:"emsg",qs:"prft",Error:"error",Ks:"expirationupdated",Ws:"firstquartile",zs:"gapjumped",Ys:"keystatuschanged",$s:"loaded",Qs:"loading",Js:"manifestparsed",Zs:"manifestupdated",nf:"mediaqualitychanged",tf:"mediasourcerecovered",ef:"metadata","if":"midpoint",rf:"nospatialvideoinfo",uf:"onstatechange",af:"ratechange",sf:"segmentappended",ff:"sessiondata",cf:"spatialvideoinfo",lf:"stalldetected",hf:"started",df:"statechanged",vf:"streaming",mf:"textchanged",pf:"texttrackvisibility",wf:"thirdquartile",gf:"timelineregionadded",bf:"timelineregionenter",yf:"timelineregionexit",Tf:"trackschanged",Ef:"unloading",Sf:"variantchanged"};function zu(){this.Af=new kn;this.kf=this}zu.prototype.addEventListener=function(n,t){this.Af&&this.Af.push(n,t)};zu.prototype.removeEventListener=function(n,t){this.Af&&this.Af.remove(n,t)};zu.prototype.dispatchEvent=function(n){if(!this.Af)return!0;var t=this.Af.get(n.type)||[],e=this.Af.get("All");e&&(t=t.concat(e));t=lt(t);for(e=t.next();!e.done;e=t.next()){e=e.value;n.target=this.kf;n.currentTarget=this.kf;try{e.handleEvent?e.handleEvent(n):e.call(this,n)}catch(i){}if(n.i)break}return n.defaultPrevented};zu.prototype.release=function(){this.Af=null};function Yu(){this.i=[]}function $u(n,t){n.i.push(t["finally"](function(){tt(n.i,t)}))}Yu.prototype.su=function(){for(var n=[],t=lt(this.i),e=t.next();!e.done;e=t.next())e=e.value,e.promise["catch"](function(){}),n.push(e.abort());this.i=[];return Promise.all(n)};function Qu(n,t,e,i,r,u){zu.call(this);this.g=!1;this.o=new Yu;this.i=new Set;this.h=new Set;this.l=n||null;this.v=t||null;this.C=e||null;this.P=i||null;this.D=r||null;this.I=u||null;this.s=this.p=!1;this.m=16e3}N(Qu,zu);n=Qu.prototype;n.Mf=function(n){this.p=n};n.If=function(n){this.s=n};function Ju(n,t,e,i){e=e||sa;var r=fa[n];if(!r||e>=r.priority)fa[n]={priority:e,fu:t,Nf:void 0===i?!1:i}}function Zu(n,t){for(var e=lt(n.i),i=e.next();!i.done;i=e.next())t.i.add(i.value);n=lt(n.h);for(e=n.next();!e.done;e=n.next())t.h.add(e.value)}n.Pf=function(n){this.i.add(n)};n.Rf=function(n){this.i["delete"](n)};n.Df=function(){this.i.clear()};n.Cf=function(n){this.h.add(n)};n._f=function(n){this.h["delete"](n)};n.Lf=function(){this.h.clear()};function na(n,t,e){return{Of:n,method:"GET",body:null,headers:{},xf:!1,Uf:t,Ff:null,sessionId:null,Bf:null,initData:null,initDataType:null,Xf:void 0===e?null:e}}n.su=function(){this.g=!0;this.i.clear();this.h.clear();zu.prototype.release.call(this);return this.o.su()};n.request=function(i,r,u){var a=this,n=new ua;if(this.g){var t=Promise.reject(new vt(2,7,7001));t["catch"](function(){});return new aa(t,function(){return Promise.resolve()},n)}r.method=r.method||"GET";r.headers=r.headers||{};r.Uf=r.Uf?te(r.Uf):Uu();r.Of=te(r.Of);t=ta(this,i,r,u);var e=t.Ds(function(){return ea(a,i,r,u,new Ou(r.Uf,!1),0,null,n)}),o=e.Ds(function(n){return ia(a,i,n,u)}),s=Date.now(),f=0;t.promise.then(function(){f=Date.now()-s},function(){});var c=0;e.promise.then(function(){c=Date.now()},function(){});var l=o.Ds(function(n){var t=Date.now()-c,e=n.response;e.Hf+=f;e.Hf+=t;n.jf||!a.l||e.Vf||"HEAD"==r.method||i!=oa||a.l(e.Hf,e.data.byteLength,ra(u));a.I&&a.I(i,e,u);return e},function(n){n&&(n.kn=2);throw n});t=new aa(l.promise,function(){return l.abort()},n);$u(this.o,t);return t};function ta(n,t,e,i){function r(n){u=u.Ds(function(){e.body&&(e.body=Vn(e.body));return n(t,e,i)})}var u=ju(void 0);n.P&&r(n.P);n=lt(n.i);for(var a=n.next();!a.done;a=n.next())r(a.value);return u.Ds(void 0,function(n){if(n instanceof vt&&7001==n.code)throw n;throw new vt(2,1,1006,n)})}function ea(u,a,o,s,i,f,r,c){u.p&&(o.Of[f]=o.Of[f].replace("https://","http://"));u.s&&(o.Of[f]=o.Of[f].replace("http://","https://"));0<f&&u.D&&u.D(a,s,o.Of[f],o.Of[f-1]);var n=new wi(o.Of[f]),t=n.gu,l=!1;t||(t=location.protocol,t=t.slice(0,-1),gi(n,t),o.Of[f]=n.toString());t=t.toLowerCase();var e=(t=fa[t])?t.fu:null;if(!e)return Xu(new vt(2,1,1e3,n));var h=t.Nf,d=null,v=null,m=!1,p=!1,w;return Vu(xu(i)).Ds(function(){if(u.g)return Hu();w=Date.now();var i=0;o.Gf=Date.now();var n=e(o.Of[f],o,a,function(n,t,e){d&&d.stop();v&&v.Ui(r/1e3);u.l&&a==oa&&(i++,o.qf=i,u.l(n,t,ra(s),o),l=!0,c.i=e)},function(n){p=!0;o.Kf=Date.now()-o.Gf;u.v&&u.v(n,o,a)},{Wf:u.m});if(!h)return n;var t=o.Uf.Rs;t&&(d=new S(function(){m=!0;n.abort()}),d.Ui(t/1e3));var r=o.Uf.Ps;r&&(v=new S(function(){m=!0;n.abort()}));return n}).Ds(function(n){d&&d.stop();v&&v.stop();void 0==n.Hf&&(n.Hf=Date.now()-w);var t={response:n,jf:l};!p&&u.v&&u.v(n.headers,o,a);return t},function(n){d&&d.stop();v&&v.stop();if(u.C){var t=null,e=0;n instanceof vt&&(t=n,1001==n.code&&(e=n.data[1]));u.C(o,t,e,m)}if(u.g)return Hu();m&&(n=new vt(1,1,1003,o.Of[f],a));if(n instanceof vt){if(7001==n.code)throw n;if(1010==n.code)throw r;if(1==n.kn)return t=(new Map).set("error",n),t=new A("retry",t),u.dispatchEvent(t),f=(f+1)%o.Of.length,ea(u,a,o,s,i,f,n,c)}throw n})}function ia(n,e,i,r){var t=ju(void 0);n=lt(n.h);for(var u=n.next(),a={};!u.done;a={zf:void 0},u=n.next())a.zf=u.value,t=t.Ds(function(t){return function(){var n=i.response;n.data&&(n.data=Vn(n.data));return(0,t.zf)(e,n,r)}}(a));return t.Ds(function(){return i},function(n){var t=2;if(n instanceof vt){if(7001==n.code)throw n;t=n.kn}throw new vt(t,1,1007,n)})}function ra(n){if(n){var t=n.Yf;n=n.stream;if(t&&n&&n.Ea&&t.o)return!1}return!0}t("shaka.net.NetworkingEngine",Qu);Qu.prototype.request=Qu.prototype.request;Qu.prototype.su=Qu.prototype.su;Qu.$f=na;Qu.Qf=function(){return Uu()};Qu.prototype.Jf=Qu.prototype.Lf;Qu.prototype.Zf=Qu.prototype._f;Qu.prototype.nc=Qu.prototype.Cf;Qu.prototype.tc=Qu.prototype.Df;Qu.prototype.ec=Qu.prototype.Rf;Qu.prototype.ic=Qu.prototype.Pf;Qu.rc=function(n){delete fa[n]};Qu.uc=Ju;Qu.prototype.ac=Qu.prototype.If;Qu.prototype.oc=Qu.prototype.Mf;function ua(){this.i=0}Qu.sc=ua;function aa(n,t,e){Bu.call(this,n,t);this.h=e}N(aa,Bu);Qu.fc=aa;var oa=1;Qu.cc={Ln:0,lc:oa,hc:2,dc:3,vc:4,mc:5,wc:6,Xn:7,gc:8};Qu.bc={yc:0,Tc:1,Ec:2,Sc:3,Ac:4,kc:5,Mc:6,Ic:7,Nc:8,Pc:9,Rc:10,Dc:11,Cc:12};var sa=3;Qu.du={vu:1,pu:2,wu:sa};var fa={};function ca(n){this.i=!1;this.h=new Fu;this.g=n}ca.prototype.su=function(){var n=this;if(this.i)return this.h;this.i=!0;return this.g().then(function(){n.h.resolve()},function(){n.h.resolve()})};function la(n,t){if(n.i){if(t instanceof vt&&7003==t.code)throw t;throw new vt(2,7,7003,t)}}function ha(n,t){var e=[];n=lt(n);for(var i=n.next();!i.done;i=n.next())e.push(t(i.value));return e}function da(n,t){n=lt(n);for(var e=n.next();!e.done;e=n.next())if(!t(e.value))return!1;return!0}function va(n){for(var t=new Map,e=lt(Object.keys(n)),i=e.next();!i.done;i=e.next())i=i.value,t.set(i,n[i]);return t}function ma(n){var e={};n.forEach(function(n,t){e[t]=n});return e}function pa(n,t){this.h=qn(n);this.g=t==ga;this.i=0}n=pa.prototype;n._c=function(){return this.i<this.h.byteLength};n.Lc=function(){return this.i};n.Oc=function(){return this.h.byteLength};n.xc=function(){try{var n=this.h.getUint8(this.i);this.i+=1;return n}catch(t){throw wa()}};n.Uc=function(){try{var n=this.h.getUint16(this.i,this.g);this.i+=2;return n}catch(t){throw wa()}};n.Fc=function(){try{var n=this.h.getUint32(this.i,this.g);this.i+=4;return n}catch(t){throw wa()}};n.Bc=function(){try{var n=this.h.getInt32(this.i,this.g);this.i+=4;return n}catch(t){throw wa()}};n.Xc=function(){try{if(this.g){var n=this.h.getUint32(this.i,!0);var t=this.h.getUint32(this.i+4,!0)}else t=this.h.getUint32(this.i,!1),n=this.h.getUint32(this.i+4,!1)}catch(e){throw wa()}if(2097151<t)throw new vt(2,3,3001);this.i+=8;return t*Math.pow(2,32)+n};n.Hc=function(n){if(this.i+n>this.h.byteLength)throw wa();var t=dt(this.h,this.i,n);this.i+=n;return t};n.jc=function(n){if(this.i+n>this.h.byteLength)throw wa();this.i+=n};n.Vc=function(n){if(this.i<n)throw wa();this.i-=n};n.Gc=function(n){if(0>n||n>this.h.byteLength)throw wa();this.i=n};n.qc=function(){for(var n=this.i;this._c()&&0!=this.h.getUint8(this.i);)this.i+=1;n=dt(this.h,n,this.i-n);this.i+=1;return Xt(n)};function wa(){return new vt(2,3,3e3)}t("shaka.util.DataViewReader",pa);pa.prototype.Kc=pa.prototype.qc;pa.prototype.Gc=pa.prototype.Gc;pa.prototype.Wc=pa.prototype.Vc;pa.prototype.jc=pa.prototype.jc;pa.prototype.zc=pa.prototype.Hc;pa.prototype.Yc=pa.prototype.Xc;pa.prototype.$c=pa.prototype.Bc;pa.prototype.Qc=pa.prototype.Fc;pa.prototype.Jc=pa.prototype.Uc;pa.prototype.Zc=pa.prototype.xc;pa.prototype.Oc=pa.prototype.Oc;pa.prototype.nl=pa.prototype.Lc;pa.prototype.tl=pa.prototype._c;var ga=1;pa.el={il:0,rl:ga};function ba(){this.g=[];this.h=[];this.i=!1}n=ba.prototype;n.ul=function(n,t){n=Aa(n);this.g[n]=Ia;this.h[n]=t;return this};n.al=function(n,t){n=Aa(n);this.g[n]=Na;this.h[n]=t;return this};n.stop=function(){this.i=!0};n.parse=function(n,t,e){n=new pa(n,0);for(this.i=!1;n._c()&&!this.i;)this.ol(0,n,t,e)};n.ol=function(n,t,e,i){var r=t.Lc();if(i&&r+8>t.Oc())this.i=!0;else{var u=t.Fc(),a=t.Fc(),o=ka(a),s=!1;switch(u){case 0:u=t.Oc()-r;break;case 1:if(i&&t.Lc()+8>t.Oc()){this.i=!0;return}u=t.Xc();s=!0}var f=this.h[a];if(f){var c=null,l=null;if(this.g[a]==Na){if(i&&t.Lc()+4>t.Oc()){this.i=!0;return}l=t.Fc();c=l>>>24;l&=16777215}a=r+u;e&&a>t.Oc()&&(a=t.Oc());i&&a>t.Oc()?this.i=!0:(i=a-t.Lc(),t=0<i?t.Hc(i):new Uint8Array(0),t=new pa(t,0),f({name:o,sl:this,fl:e||!1,version:c,flags:l,cl:t,size:u,start:r+n,ll:s}))}else t.jc(Math.min(r+u-t.Lc(),t.Oc()-t.Lc()))}};function k(n){for(var t=Ma(n);n.cl._c()&&!n.sl.i;)n.sl.ol(n.start+t,n.cl,n.fl)}function ya(n){for(var t=Ma(n),e=n.cl.Fc(),i=0;i<e&&(n.sl.ol(n.start+t,n.cl,n.fl),!n.sl.i);i++);}function Ta(n){var t=Ma(n);for(n.cl.jc(78);n.cl._c()&&!n.sl.i;)n.sl.ol(n.start+t,n.cl,n.fl)}function Ea(n){var t=Ma(n);n.cl.jc(8);var e=n.cl.Uc();n.cl.jc(6);2==e?n.cl.jc(48):n.cl.jc(12);for(1==e&&n.cl.jc(16);n.cl._c()&&!n.sl.i;)n.sl.ol(n.start+t,n.cl,n.fl)}function Sa(t){return function(n){t(n.cl.Hc(n.cl.Oc()-n.cl.Lc()))}}function Aa(n){var t=0;n=lt(n);for(var e=n.next();!e.done;e=n.next())t=t<<8|e.value.charCodeAt(0);return t}function ka(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Ma(n){return 8+(n.ll?8:0)+(null!=n.flags?4:0)}t("shaka.util.Mp4Parser",ba);ba.hl=Ma;ba.dl=ka;ba.vl=Sa;ba.ml=Ea;ba.pl=Ta;ba.wl=ya;ba.children=k;ba.prototype.gl=ba.prototype.ol;ba.prototype.parse=ba.prototype.parse;ba.prototype.stop=ba.prototype.stop;ba.prototype.bl=ba.prototype.al;ba.prototype.ul=ba.prototype.ul;var Ia=0,Na=1;function Pa(n){var r=this;this.i=[];this.h=[];this.data=[];(new ba).ul("moov",k).ul("moof",k).al("pssh",function(n){if(!(1<n.version)){var t=dt(n.cl.h,-12,n.size);r.data.push(t);r.i.push(Fi(n.cl.Hc(16)));if(0<n.version){t=n.cl.Fc();for(var e=0;e<t;e++){var i=Fi(n.cl.Hc(16));r.h.push(i)}}}}).parse(n)}function Ra(n,t,e,i){var r=n.length,u=t.length+16+r;0<i&&(u+=4+16*e.size);var a=new Uint8Array(u),o=qn(a),s=0;o.setUint32(s,u);s+=4;o.setUint32(s,1886614376);s+=4;1>i?o.setUint32(s,0):o.setUint32(s,16777216);s+=4;a.set(t,s);s+=t.length;if(0<i)for(o.setUint32(s,e.size),s+=4,t=lt(e),e=t.next();!e.done;e=t.next())e=Ui(e.value),a.set(e,s),s+=e.length;o.setUint32(s,r);a.set(n,s+4);return a}function Da(t){var e=this;this.P=t;this.l=this.p=null;this.yl=this.Tl=!1;this.N=0;this.i=null;this.o=new Mn;this.g=new Map;this.El=[];this.C=new Map;this.Sl=!1;this.m=new Fu;this.h=null;this.s=function(n){2==n.kn&&e.m.reject(n);t.Al(n)};this.kl=new Map;this.Ml=new Map;this.Il=new S(function(){return to(e)});this.Nl=!1;this.Pl=[];this.Rl=!1;this.R=new S(function(){ao(e)});this.m["catch"](function(){});this.v=new ca(function(){return Ca(e)});this.Dl=!1;this.I=this.D=null;this.Cl=function(){return!1}}n=Da.prototype;n.su=function(){return this.v.su()};function Ca(t){return sn(function(n){switch(n.i){case 1:return t.o.release(),t.o=null,t.m.reject(),t.R.stop(),t.R=null,t.Il.stop(),t.Il=null,an(n,ro(t),2);case 2:if(!t.l){n.k(3);break}q(n,4);return an(n,t.l.setMediaKeys(null),6);case 6:K(n,5);break;case 4:W(n);case 5:t.l=null;case 3:t.i=null,t.p=null,t.C=new Map,t.h=null,t.s=function(){},t.P=null,t.Dl=!1,t.D=null,on(n)}})}n.B=function(n,t){this.h=n;t&&(this.Cl=t);this.R&&this.R.Bi(this.h._l)};function _a(n,t,e){n.yl=!0;n.C=new Map;n.Nl=e;return xa(n,t)}function La(n,t,e){n.C=new Map;e=lt(e);for(var i=e.next();!i.done;i=e.next())n.C.set(i.value,{initData:null,initDataType:null});e=lt(n.h.Ll);for(i=e.next();!i.done;i=e.next())i=i.value,n.C.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});n.Nl=0<n.C.size;return xa(n,t)}function Oa(n,t,e,i,r,u){var a=new Map;r={Ol:r,xl:u,po:"optional",mo:"required",wo:["persistent-license"],label:t};r.vo=[{keySystem:t,Ri:e,Di:!1,Ci:!0,Li:"",_i:"",Oi:i,xi:"",initData:null,Pi:null}];a.set(t,r);return Ga(n,a,[])}function xa(t,e){var i,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){if(1==n.i){if(i=Wa(t))for(r=lt(e),u=r.next();!u.done;u=r.next())a=u.value,a.Gu&&(a.Gu.vo=[i]),a.Vu&&(a.Vu.vo=[i]);o=e.some(function(n){return n.Gu&&n.Gu.vo.length||n.Vu&&n.Vu.vo.length?!0:!1});o||(s=va(t.h.Ul),fo(e,s));f=new Set;c=lt(e);for(l=c.next();!l.done;l=c.next())for(h=l.value,d=uo(h),v=lt(d),m=v.next();!m.done;m=v.next())p=m.value,f.add(p);w=lt(f);for(g=w.next();!g.done;g=w.next())b=g.value,lo(b,va(t.h.Ul),va(t.h.$o||{}),t.h.Fl);return an(n,jr(e,t.Nl,t.Dl,t.h.Bl),2)}la(t.v);y=o||Object.keys(t.h.Ul).length;if(!y)return t.Tl=!0,n.A(Promise.resolve());T=Ga(t,void 0,e);return n.A(o?T:T["catch"](function(){}))})}function Ua(t){var e;return sn(function(n){switch(n.i){case 1:if(t.l.mediaKeys)return n.A();if(!t.D){n.k(2);break}return an(n,t.D,3);case 3:return la(t.v),n.A();case 2:return q(n,4),t.D=t.l.setMediaKeys(t.p),an(n,t.D,6);case 6:K(n,5);break;case 4:e=W(n),t.s(new vt(2,6,6003,e.message));case 5:la(t.v),on(n)}})}function Fa(t,e){return sn(function(n){if(1==n.i)return an(n,Ua(t),2);ja(t,e.initDataType,dt(e.initData));on(n)})}n.Xl=function(t){var e=this;return sn(function(n){if(1==n.i){if(!e.p)return e.o.W(t,"encrypted",function(){e.s(new vt(2,6,6010))}),n.A();e.l=t;e.o.W(e.l,"play",function(){for(var n=lt(e.Pl),t=n.next();!t.done;t=n.next())Za(e,t.value);e.Rl=!0;e.Pl=[]});e.l.remote?(e.o.K(e.l.remote,"connect",function(){return ro(e)}),e.o.K(e.l.remote,"connecting",function(){return ro(e)}),e.o.K(e.l.remote,"disconnect",function(){return ro(e)})):"webkitCurrentPlaybackTargetIsWireless"in e.l&&e.o.K(e.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return ro(e)});e.I=e.i?e.i.initData.find(function(n){return 0<n.initData.length})||null:null;return e.I||"com.apple.fps"!==e.i.keySystem||e.C.size?an(n,Ua(e),2):n.k(2)}Ha(e)["catch"](function(){});e.I||e.C.size||e.h.Hl||e.o.K(e.l,"encrypted",function(n){return Fa(e,n)});on(n)})};function Ba(t){var e,i,r,u,a;return sn(function(n){switch(n.i){case 1:if(!t.p||!t.i)return n.A();if(!t.i.xi||t.i.Oi&&t.i.Oi.length){n.k(2);break}e=na([t.i.xi],t.h.Uf);q(n,3);i=t.P.jl.request(5,e,{Vl:t.Cl()});return an(n,i.promise,5);case 5:r=n.h;t.i.Oi=dt(r.data);K(n,4);break;case 3:throw u=W(n),new vt(2,6,6017,u);case 4:if(t.v.i)return n.A();case 2:if(!t.i.Oi||!t.i.Oi.length)return n.A();q(n,6);return an(n,t.p.setServerCertificate(t.i.Oi),8);case 8:K(n,0);break;case 6:throw a=W(n),new vt(2,6,6004,a.message)}})}function Xa(t,e){var i,r,u;return sn(function(n){if(1==n.i)return an(n,$a(t,e,{initData:null,initDataType:null}),2);if(3!=n.i){i=n.h;if(!i)return n.A();r=[];if(u=t.g.get(i))u.Gl=new Fu,r.push(u.Gl);r.push(i.remove());return an(n,Promise.all(r),3)}t.g["delete"](i);on(n)})}function Ha(e){var t,i,r,u,a;return sn(function(n){if(1==n.i){if(!e.C.size)return n.k(2);e.C.forEach(function(n,t){$a(e,t,n)});return an(n,e.m,3)}if(2!=n.i){t=e.i&&e.i.Pi||new Set([]);if(0<t.size&&so(e))return n.A(e.m);e.Sl=!1;e.m=new Fu;e.m["catch"](function(){})}i=(e.i?e.i.initData:[])||[];r=lt(i);for(u=r.next();!u.done;u=r.next())a=u.value,ja(e,a.initDataType,a.initData);oo(e)&&e.m.resolve();return n.A(e.m)})}function ja(n,t,e){if(e.length){if(n.h.ql){var i=n.g.values();i=lt(i);for(var r=i.next();!r.done;r=i.next())if(jn(e,r.value.initData))return;var u=!1;n.C.forEach(function(n){!u&&jn(e,n.initData)&&(u=!0)});if(u)return}n.Sl=!0;0<n.g.size&&oo(n)&&(n.m.resolve(),n.Sl=!1,n.m=new Fu,n.m["catch"](function(){}));Qa(n,t,e,n.i.Cu)}}function Va(n){n=n.g.keys();n=ha(n,function(n){return n.sessionId});return Array.from(n)}n.Kl=function(){var e=this,n=this.g.keys();n=ha(n,function(n){var t=e.g.get(n);return{sessionId:n.sessionId,Cu:t.type,initData:t.initData,initDataType:t.initDataType}});return Array.from(n)};n.Wl=function(){var n=Infinity,t=this.g.keys();t=lt(t);for(var e=t.next();!e.done;e=t.next())e=e.value,isNaN(e.expiration)||(n=Math.min(n,e.expiration));return n};n.zl=function(){return ma(this.Ml)};function Ga(l,h,d){var v,m,p,w,g,b,y,T;return sn(function(n){switch(n.i){case 1:v=new Map;if(d.length){m=qa(l,d,v);n.k(2);break}return an(n,Ka(l,h),3);case 3:m=n.h;case 2:p=m;if(!p)throw new vt(2,6,6001);la(l.v);q(n,4);p.getConfiguration();w=l.h.Fl[p.keySystem]||p.keySystem;if(d.length){var t=w;var e=v.get(w);var i=[],r=[],u=[],a=[],o=[],s=new Set,f=new Set;co(e,i,r,a,u,o,s,f);var c=l.Nl?"persistent-license":"temporary";t={keySystem:t,Du:i[0],Ri:r[0],Di:e[0].Di,Ci:e[0].Ci,Cu:e[0].Cu||c,Li:e[0].Li||"",_i:e[0]._i||"",Oi:a[0],xi:u[0],initData:o,Pi:s};0<f.size&&(t._u=f);e=lt(e);for(f=e.next();!f.done;f=e.next())f=f.value,f.Di&&(t.Di=f.Di),f.Ci&&(t.Ci=f.Ci);e=t}else e=w,f=h.get(w),t=[],i=[],r=[],u=[],a=[],o=new Set,co(f.vo,t,i,u,r,a,o),e={keySystem:e,Du:t[0],Ri:i[0],Di:"required"==f.po,Ci:"required"==f.mo,Cu:f.wo[0]||"temporary",Li:(f.Ol?f.Ol[0].bo:"")||"",_i:(f.xl?f.xl[0].bo:"")||"",Oi:u[0],xi:r[0],initData:a,Pi:o};l.i=e;if(!l.i.Ri)throw new vt(2,6,6012,l.i.keySystem);return an(n,p.createMediaKeys(),6);case 6:g=n.h;la(l.v);l.p=g;if(!(""!=l.h.Yl&&"getStatusForPolicy"in l.p)){n.k(7);break}q(n,8);return an(n,l.p.getStatusForPolicy({Yl:l.h.Yl}),10);case 10:b=n.h;if("usable"!=b)throw new vt(2,6,6018);la(l.v);K(n,7,4);break;case 8:y=W(n,4);if(y instanceof vt)throw y;throw new vt(2,6,6019,y.message);case 7:return l.Tl=!0,an(n,Ba(l),11);case 11:la(l.v);K(n,0);break;case 4:T=W(n);la(l.v,T);l.i=null;if(T instanceof vt)throw T;throw new vt(2,6,6002,T.message)}})}function qa(n,t,e){for(var i=lt(t),r=i.next();!r.done;r=i.next()){r=lt(uo(r.value));for(var u=r.next();!u.done;u=r.next())u=u.value,e.has(u.keySystem)||e.set(u.keySystem,[]),e.get(u.keySystem).push(u)}if(1==e.size&&e.has(""))throw new vt(2,6,6e3);i=lt(n.h.Bl);u=i.next();for(r={};!u.done;r={$l:void 0},u=i.next()){r.$l=u.value;u=lt(t);for(var a=u.next();!a.done;a=u.next())if(a=a.value.wa.find(function(t){return function(n){return n.supported&&null!=n.Ja&&n.Ja.keySystem==t.$l}}(r)))return a.Ja}i=lt([!0,!1]);for(r=i.next();!r.done;r=i.next())for(r=r.value,u=lt(t),a=u.next();!a.done;a=u.next()){a=lt(a.value.wa);for(var o=a.next();!o.done;o=a.next())if(o=o.value,o.supported&&o.Ja){var s=o.Ja.keySystem,f=e.get(s);!f&&n.h.Fl[s]&&(f=e.get(n.h.Fl[s]));s=lt(f);for(f=s.next();!f.done;f=s.next())if(!!f.value.Ri==r)return o.Ja}}return null}function Ka(t,e){var i,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g;return sn(function(n){switch(n.i){case 1:if(1==e.size&&e.has(""))throw new vt(2,6,6e3);r=lt(e.values());for(u=r.next();!u.done;u=r.next())a=u.value,0==a.Ol.length&&delete a.Ol,0==a.xl.length&&delete a.xl;o=lt(t.h.Bl);s=o.next();case 2:if(s.done){n.k(4);break}f=s.value;if(!e.has(f)){n.k(3);break}c=e.get(f);q(n,6);return an(n,navigator.requestMediaKeySystemAccess(f,[c]),8);case 8:return i=n.h,n.A(i);case 6:W(n);case 7:la(t.v);case 3:s=o.next();n.k(2);break;case 4:l=lt([!0,!1]),h=l.next();case 9:if(h.done){n.k(11);break}d=h.value;v=lt(e.keys());m=v.next();case 12:if(m.done){h=l.next();n.k(9);break}p=m.value;w=e.get(p);g=w.vo.some(function(n){return!!n.Ri});if(g!=d){n.k(13);break}q(n,15);return an(n,navigator.requestMediaKeySystemAccess(p,[w]),17);case 17:return i=n.h,n.A(i);case 15:W(n);case 16:la(t.v);case 13:m=v.next();n.k(12);break;case 11:return n.A(i)}})}function Wa(n){n=va(n.h.Ql);return 0==n.size?null:ji(n)}function za(n){oo(n)&&n.m.resolve()}function Ya(n,t){new S(function(){t.loaded=!0;za(n)}).Ui(vo)}function $a(e,i,r){var u,a,o,s,f,c,l;return sn(function(n){switch(n.i){case 1:try{u=e.p.createSession("persistent-license")}catch(t){return a=new vt(2,6,6005,t.message),e.s(a),n.A(Promise.reject(a))}e.o.K(u,"message",function(n){e.l&&e.h.Jl&&e.l.paused&&!e.Rl?e.Pl.push(n):Za(e,n)});e.o.K(u,"keystatuseschange",function(n){return no(e,n)});o={initData:r.initData,initDataType:r.initDataType,loaded:!1,Zl:Infinity,Gl:null,type:"persistent-license"};e.g.set(u,o);q(n,2);return an(n,u.load(i),4);case 4:return s=n.h,la(e.v),s||(e.g["delete"](u),f=e.h.nh?1:2,e.s(new vt(f,6,6013)),o.loaded=!0),Ya(e,o),za(e),n.A(u);case 2:c=W(n),la(e.v,c),e.g["delete"](u),l=e.h.nh?1:2,e.s(new vt(l,6,6005,c.message)),o.loaded=!0,za(e);case 3:return n.A(Promise.resolve())}})}function Qa(i,n,t,e){try{var r=i.p.createSession(e)}catch(u){i.s(new vt(2,6,6005,u.message));return}i.o.K(r,"message",function(n){i.l&&i.h.Jl&&i.l.paused&&!i.Rl?i.Pl.push(n):Za(i,n)});i.o.K(r,"keystatuseschange",function(n){return no(i,n)});i.g.set(r,{initData:t,initDataType:n,loaded:!1,Zl:Infinity,Gl:null,type:e});try{t=i.h.th(t,n,i.i)}catch(u){n=u;u instanceof vt||(n=new vt(2,6,6016,u));i.s(n);return}i.h.eh&&Oi(t);r.generateRequest(n,t)["catch"](function(n){if(!i.v.i){i.g["delete"](r);var t=n.errorCode;if(t&&t.systemCode){var e=t.systemCode;0>e&&(e+=Math.pow(2,32));e="0x"+e.toString(16)}i.s(new vt(2,6,6006,n.message,n,e))}})}function Ja(t){return sn(function(n){return 1==n.i?t.Sl?an(n,t.m,3):n.k(0):an(n,Promise.all(t.El.map(function(n){return n.promise})),0)})}function Za(a,o){var s,f,c,l,h,d,v,m,p,w,g,b,y,T;sn(function(n){switch(n.i){case 1:s=o.target;a.h.eh&&Oi(o.message);f=a.g.get(s);c=a.i.Ri;l=a.h.$o[a.i.keySystem];"individualization-request"==o.messageType&&l&&l.ih&&(c=l.ih);h=na([c],a.h.Uf);h.body=o.message;h.method="POST";h.Ff=o.messageType;h.sessionId=s.sessionId;h.Bf=a.i;f&&(h.initData=f.initData,h.initDataType=f.initDataType);if(l&&l.headers)for(d in l.headers)h.headers[d]=l.headers[d];if("org.w3.clearkey"===a.i.keySystem){var t=h,e=a.i;try{var i=jt(t.body);if(i){var r=JSON.parse(i);r.type||(r.type=e.Cu,t.body=Vt(JSON.stringify(r)))}}catch(u){}}if(st(a.i.keySystem))if(t=Ht(h.body,!0,!0),t.includes("PlayReadyKeyMessage")){t=ue(t,"PlayReadyKeyMessage");e=he(t,"HttpHeader");e=lt(e);for(i=e.next();!i.done;i=e.next())r=i.value,i=he(r,"name")[0],r=he(r,"value")[0],h.headers[ce(i)]=ce(r);t=he(t,"Challenge")[0];h.body=xi(ce(t))}else h.headers["rh"]="text/xml; charset=utf-8";v=Date.now();q(n,2);p=a.P.jl.request(2,h,{Vl:a.Cl()});a.El.push(p);return an(n,p.promise,4);case 4:m=n.h;tt(a.El,p);K(n,3);break;case 2:w=W(n);if(a.v.i)return n.A();g=new vt(2,6,6007,w);1==a.g.size?(a.s(g),f&&f.Gl&&f.Gl.reject(g)):(f&&f.Gl&&f.Gl.reject(g),a.g["delete"](s),oo(a)&&(a.m.resolve(),a.Il.Ui(.1)));return n.A();case 3:if(a.v.i)return n.A();a.N+=(Date.now()-v)/1e3;a.h.eh&&Oi(m.data);q(n,5);return an(n,s.update(m.data),7);case 7:K(n,6);break;case 5:return b=W(n),y=new vt(2,6,6008,b.message),a.s(y),f&&f.Gl&&f.Gl.reject(y),n.A();case 6:if(a.v.i)return n.A();T=new A("drmsessionupdate");a.P.uh(T);f&&(f.Gl&&f.Gl.resolve(),Ya(a,f));on(n)}})}function no(a,n){n=n.target;var o=a.g.get(n),s=!1;n.keyStatuses.forEach(function(n,t){if("string"==typeof t){var e=t;t=n;n=e}if(st(a.i.keySystem)&&16==t.byteLength&&(gt()||It())){e=qn(t);var i=e.getUint32(0,!0),r=e.getUint16(4,!0),u=e.getUint16(6,!0);e.setUint32(0,i,!1);e.setUint16(4,r,!1);e.setUint16(6,u,!1)}"status-pending"!=n&&(o.loaded=!0);"expired"==n&&(s=!0);t=Fi(t).slice(0,32);a.kl.set(t,n)});var t=n.expiration-Date.now();(0>t||s&&1e3>t)&&o&&!o.Gl&&(a.g["delete"](n),n.close()["catch"](function(){}));oo(a)&&(a.m.resolve(),a.Il.Ui(mo))}function to(n){var t=n.kl,e=n.Ml;e.clear();t.forEach(function(n,t){return e.set(t,n)});t=Array.from(e.values());t.length&&t.every(function(n){return"expired"==n})&&n.s(new vt(2,6,6014));n.P.ah(ma(e))}function eo(){var t,e,i,r,s,f,m,u,l,p,a,o,c,h,d,v,w,g,b,y,T,E,S,A,k,M,I,N;return sn(function(n){if(1==n.i){t="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps".split(" ");e=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"];i=["150","2000","3000"];r={oh:e,sh:e,fh:i};s=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}];f=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}];m={xl:s,Ol:f,lh:["cenc","sinf","skd","keyids"]};u=[null,"cenc","cbcs","cbcs-1-9"];l=new Map;p=function(t,e){var i,r,u,a,o,s,f,c;return sn(function(n){switch(n.i){case 1:return q(n,2),an(n,e.createMediaKeys(),4);case 4:K(n,3);break;case 2:return W(n),n.A();case 3:r=(i=e.getConfiguration().wo)?i.includes("persistent-license"):!1,Tt()&&(r=!1),u=e.getConfiguration().xl,a=e.getConfiguration().Ol,o={mo:r,hh:[],dh:[],mh:[]},l.has(t)&&l.get(t)?o=l.get(t):l.set(t,o),(s=u[0].Du)&&!o.hh.includes(s)&&o.hh.push(s),(f=u[0].bo)&&!o.dh.includes(f)&&o.dh.push(f),(c=a[0].bo)&&!o.mh.includes(c)&&o.mh.push(c),on(n)}})};a=function(t,e,i,r){var u,a,o,s,f,c,l,h,d,v;return sn(function(n){switch(n.i){case 1:q(n,2);u=te(m);a=lt(u.xl);for(o=a.next();!o.done;o=a.next())s=o.value,s.Du=e,s.bo=i;f=lt(u.Ol);for(c=f.next();!c.done;c=f.next())l=c.value,l.Du=e,l.bo=r;h=te(u);h.mo="required";h.wo=["persistent-license"];d=[h,u];return an(n,yr(1,navigator.requestMediaKeySystemAccess(t,d)),4);case 4:return v=n.h,an(n,p(t,v),5);case 5:K(n,0);break;case 2:W(n),on(n)}})};o=function(t,e,i,r){var u,a,o;return sn(function(n){switch(n.i){case 1:return q(n,2),u={type:"media-source",Gu:{contentType:s[0].contentType,width:640,height:480,oo:1,co:1},Vu:{contentType:f[0].contentType,ao:2,oo:1,so:1},ro:{keySystem:t,Gu:{Du:e,bo:i},Vu:{Du:e,bo:r}}},an(n,yr(1,navigator.mediaCapabilities.decodingInfo(u)),4);case 4:return a=n.h,o=a.Ja,an(n,p(t,o),5);case 5:K(n,0);break;case 2:W(n),on(n)}})};c=lt(t);for(h=c.next();!h.done;h=c.next())d=h.value,l.set(d,null);v=[];w=lt(u);for(g=w.next();!g.done;g=w.next())for(b=g.value,y=lt(t),T=y.next();!T.done;T=y.next())E=T.value,"org.w3.clearkey"===E&&Rt()||(v.push(a(E,b,"","")),v.push(o(E,b,"","")));S=lt(t);for(A=S.next();!A.done;A=S.next())for(k=A.value,M=lt(r[k]||[]),I=M.next();!I.done;I=M.next())N=I.value,v.push(a(k,null,N,"")),v.push(a(k,null,"",N)),v.push(o(k,null,N,"")),v.push(o(k,null,"",N));return an(n,Promise.all(v),2)}return n.A(ma(l))})}function io(t){return sn(function(n){if(1==n.i)return q(n,2),an(n,yr(ho,Promise.all([t.close(),t.closed])),4);if(2!=n.i)return K(n,0);W(n);on(n)})}function ro(i){var t;return sn(function(n){t=Array.from(i.g.entries());i.g.clear();return an(n,Promise.all(t.map(function(n){n=lt(n);var t=n.next().value,e=n.next().value;return sn(function(n){if(1==n.i)return q(n,2),i.yl||i.C.has(t.sessionId)||"persistent-license"!==e.type||i.h.nh?an(n,io(t),5):an(n,t.remove(),5);if(2!=n.i)return K(n,0);W(n);on(n)})})),0)})}function uo(n){return(n.Gu?n.Gu.vo:[]).concat(n.Vu?n.Vu.vo:[])}function ao(r){r.g.forEach(function(n,t){var e=n.Zl,i=t.expiration;isNaN(i)&&(i=Infinity);i!=e&&(r.P.ph(t.sessionId,i),n.Zl=i)})}function oo(n){n=n.g.values();return da(n,function(n){return n.loaded})}function so(n){for(var t=lt(n.i&&n.i.Pi||new Set([])),e=t.next();!e.done;e=t.next())if("usable"!==n.kl.get(e.value))return!1;return!0}function fo(n,t){var e=[];t.forEach(function(n,t){e.push({keySystem:t,Ri:n,Di:!1,Ci:!1,Li:"",_i:"",Oi:null,xi:"",initData:[],Pi:new Set})});n=lt(n);for(t=n.next();!t.done;t=n.next())t=t.value,t.Gu&&(t.Gu.vo=e),t.Vu&&(t.Vu.vo=e)}function co(n,t,e,i,r,u,a,o){var s=[];n=lt(n);for(var f=n.next(),c={};!f.done;c={wh:void 0},f=n.next()){c.wh=f.value;t.includes(c.wh.Du)||t.push(c.wh.Du);"org.w3.clearkey"==c.wh.keySystem&&c.wh.Ri.startsWith("data:application/json;base64,")?s.includes(c.wh.Ri)||s.push(c.wh.Ri):e.includes(c.wh.Ri)||e.push(c.wh.Ri);r.includes(c.wh.xi)||r.push(c.wh.xi);c.wh.Oi&&(i.some(function(t){return function(n){return jn(n,t.wh.Oi)}}(c))||i.push(c.wh.Oi));if(c.wh.initData){f=lt(c.wh.initData);for(var l=f.next(),h={};!l.done;h={gh:void 0},l=f.next())h.gh=l.value,u.some(function(e){return function(n){var t=e.gh;return n.Ni&&n.Ni==t.Ni?!0:n.initDataType==t.initDataType&&jn(n.initData,t.initData)}}(h))||u.push(h.gh)}if(c.wh.Pi)for(f=lt(c.wh.Pi),l=f.next();!l.done;l=f.next())a.add(l.value);if(c.wh._u&&o)for(c=lt(c.wh._u),f=c.next();!f.done;f=c.next())o.add(f.value)}if(1==s.length)e.push(s[0]);else if(0<s.length){t=[];s=lt(s);for(i=s.next();!i.done;i=s.next())i=L.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),t.push.apply(t,ht(i.keys));s=JSON.stringify({keys:t});e.push("data:application/json;base64,"+L.btoa(s))}}function lo(n,t,e,i){var r=n.keySystem;if(r&&("org.w3.clearkey"!=r||!n.Ri)){t.size&&t.get(r)&&(t=t.get(r),n.Ri=t);n.Pi||(n.Pi=new Set);if(e=e.get(r))n.Di||(n.Di=e.Di),n.Ci||(n.Ci=e.Ci),n._i||(n._i=e._i),n.Li||(n.Li=e.Li),n.Oi||(n.Oi=e.Oi),e.Cu&&(n.Cu=e.Cu),n.xi||(n.xi=e.xi);i[r]&&(n.keySystem=i[r]);L.cast&&L.cast.__platform__&&"com.microsoft.playready"==r&&(n.keySystem="com.chromecast.playready")}}var ho=1,vo=5,mo=.5;function po(n,t,e){this.i=n;this.g=t;this.h=e}function wo(t,e){return sn(function(n){if(1==n.i)return an(n,xr(t.h,e,t.i.bh.Bl,t.i.bh.Fl),2);t.i.Th.yh||Cr(e,t.i.Eh,t.i.Sh,t.i.Ah,t.i.kh);if(!e.ma.some(eu))throw new vt(2,4,4032);return n.A(bo(t,e))})}function go(n,t){var e=n.i.rs;n=n.g;var i=!1;t=lt(t.ma);for(var r=t.next();!r.done;r=t.next()){r=r.value;var u=r.Go;r.Go=Or(r,e,n);u!=r.Go&&(i=!0)}return i}function bo(n,t){var e=go(n,t);if(t){var i=n.h?n.h.i:null;if(i&&n.h.p)for(var r=lt(t.ma),u=r.next();!u.done;u=r.next())u=u.value,yo(n,i.keySystem,u.Gu),yo(n,i.keySystem,u.Vu);To(n,t)}return e}function yo(n,t,e){if(e){e=lt(e.vo);for(var i=e.next();!i.done;i=e.next())if(i=i.value,i.keySystem==t){i=lt(i.initData||[]);for(var r=i.next();!r.done;r=i.next())r=r.value,ja(n.h,r.initDataType,r.initData)}}}function To(n,t){n=n.h?n.h.zl():{};var e=Object.keys(n);e=e.length&&"00"==e[0];var i=!1,r=!1,u=new Set,a=new Set;t=lt(t.ma);for(var o=t.next();!o.done;o=t.next()){o=o.value;var s=[];o.Vu&&s.push(o.Vu);o.Gu&&s.push(o.Gu);s=lt(s);for(var f=s.next();!f.done;f=s.next())if(f=f.value,f.Pi.size){f=lt(f.Pi);for(var c=f.next();!c.done;c=f.next()){c=c.value;var l=n[e?"00":c];l?Eo.includes(l)&&a.add(l):u.add(c)}}o.Go?o.qo&&(i=!0):r=!0}if(!i)throw n={Mh:r,Ih:Array.from(u),Nh:Array.from(a)},new vt(2,4,4012,n)}var Eo=["output-restricted","internal-error"];function So(){}function Ao(n,t){if(t){var e=ko[t.toLowerCase()];if(e)return e}throw new vt(2,4,4e3,n,t)}t("shaka.media.ManifestParser",So);So.Ph=function(n){delete ko[n]};So.Rh=function(n,t){ko[n]=t};So.Dh=function(){On("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")};So.Ch={_h:"visually impaired",Lh:"hard of hearing"};var ko={};function Mo(n,t){function e(){u=!0}function i(n){o.push(n);k(n)}var r=n=dt(n),u=!1,a,o=[],s=[];(new ba).ul("moov",i).ul("trak",i).ul("mdia",i).ul("minf",i).ul("stbl",i).al("stsd",function(n){a=n;o.push(n);ya(n)}).al("encv",e).al("enca",e).al("dvav",function(n){s.push({ul:n,Oh:1701733238})}).al("dva1",function(n){s.push({ul:n,Oh:1701733238})}).al("dvh1",function(n){s.push({ul:n,Oh:1701733238})}).al("dvhe",function(n){s.push({ul:n,Oh:1701733238})}).al("dvc1",function(n){s.push({ul:n,Oh:1701733238})}).al("dvi1",function(n){s.push({ul:n,Oh:1701733238})}).al("hev1",function(n){s.push({ul:n,Oh:1701733238})}).al("hvc1",function(n){s.push({ul:n,Oh:1701733238})}).al("avc1",function(n){s.push({ul:n,Oh:1701733238})}).al("avc3",function(n){s.push({ul:n,Oh:1701733238})}).al("ac-3",function(n){s.push({ul:n,Oh:1701733217})}).al("ec-3",function(n){s.push({ul:n,Oh:1701733217})}).al("ac-4",function(n){s.push({ul:n,Oh:1701733217})}).al("mp4a",function(n){s.push({ul:n,Oh:1701733217})}).parse(n);if(u)return n;if(0==s.length||!a)throw Sn(Fi(n)),new vt(2,3,3019,t);s.reverse();t=lt(s);for(var f=t.next();!f.done;f=t.next())f=f.value,r=Io(r,a,f.ul,o,f.Oh);return gt()&&Dt()&&!bt()?(t=new Uint8Array(n.byteLength+r.byteLength),t.set(r),t.set(n,r.byteLength),t):r}function Io(n,t,e,i,r){var u=Po.value(),a=n.subarray(e.start,e.start+e.size),o=qn(a),s=new Uint8Array(e.size+u.byteLength);s.set(a,0);a=qn(s);a.setUint32(4,r);s.set(u,e.size);r=o.getUint32(4);a.setUint32(e.size+16,r);No(s,0,s.byteLength);r=new Uint8Array(n.byteLength+s.byteLength);e=bt()||gt()?e.start:e.start+e.size;u=n.subarray(e);r.set(n.subarray(0,e));r.set(s,e);r.set(u,e+s.byteLength);n=lt(i);for(i=n.next();!i.done;i=n.next())i=i.value,No(r,i.start,i.size+s.byteLength);s=qn(r,t.start);t=Ma(t);n=s.getUint32(t);s.setUint32(t,n+1);return r}function No(n,t,e){n=qn(n,t);t=n.getUint32(0);0!=t&&(1==t?(n.setUint32(8,e>>32),n.setUint32(12,e&4294967295)):n.setUint32(0,e))}var Po=new ut(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Ro(n,t,e,i,r,u,a){this.xh=n;this.Uh=t;this.Fh=e;this.Bh=void 0===i?null:i;this.Xh=void 0===r?null:r;this.i=void 0===u?null:u;this.Hh=void 0===a?null:a;this.mimeType=this.va=null}Ro.prototype.jh=function(){return this.Uh};Ro.prototype.Vh=function(){return this.Fh};Ro.prototype.Gh=function(){return this.i};function Do(n,t){return n===t?!0:n&&t?n.jh()==t.jh()&&n.Vh()==t.Vh()&&it(n.xh().sort(),t.xh().sort())&&jn(n.Gh(),t.Gh()):n==t}t("shaka.media.InitSegmentReference",Ro);Ro.prototype.qh=Ro.prototype.Vh;Ro.prototype.Kh=Ro.prototype.jh;function O(n,t,e,i,r,u,a,o,s,f,c,l,h,d,v,m){f=void 0===f?[]:f;d=void 0===d?_o:d;this.startTime=n;this.v=this.endTime=t;this.P=e;this.Uh=i;this.Fh=r;this.Wh=u;this.timestampOffset=a;this.appendWindowStart=o;this.appendWindowEnd=s;this.i=f;this.Co=void 0===c?"":c;this.p=void 0===l?null:l;this.h=void 0===h?null:h;this.status=d;this.preload=!1;this.l=!0;this.m=!1;this.Hh=void 0===v?null:v;this.zh=null;this.g=-1;this.s=void 0===m?!1:m;this.I=this.o=!1;n=lt(this.i);for(t=n.next();!t.done;t=n.next())t.value.Yh();this.s&&this.i.length&&this.i[this.i.length-1].$h();this.C=this.ga=this.mimeType=this.va=null}n=O.prototype;n.xh=function(){return this.P()};n.getStartTime=function(){return this.startTime};n.Qh=function(){return this.endTime};n.jh=function(){return this.Uh};n.Vh=function(){return this.Fh};n.Jh=function(){return this.Co};n.Zh=function(){return this.p};n.n0=function(){return this.status};n.t0=function(){this.status=Lo};n.e0=function(){this.preload=!0};n.Vl=function(){return this.preload};n.i0=function(){this.l=!1};n.r0=function(){return this.l};n.Yh=function(){this.o=!0};n.u0=function(){return this.o};n.$h=function(){this.I=!0};n.a0=function(){return this.I};n.o0=function(){this.m=!0};n.s0=function(){return this.m};n.f0=function(n){this.zh=n};n.c0=function(){return this.zh};n.offset=function(n){this.startTime+=n;this.endTime+=n;this.v+=n;for(var t=lt(this.i),e=t.next();!e.done;e=t.next())e=e.value,e.startTime+=n,e.endTime+=n,e.v+=n};n.l0=function(n){null==this.h?bn("Sync attempted without sync time!"):(n=this.h-n-this.startTime,.001<=Math.abs(n)&&this.offset(n))};n.h0=function(n){this.C=n};n.Gh=function(){return this.C};function Co(n,t){n.Wh=t;n=lt(n.i);for(var e=n.next();!e.done;e=n.next())Co(e.value,t)}t("shaka.media.SegmentReference",O);O.prototype.d0=O.prototype.Gh;O.prototype.v0=O.prototype.h0;O.prototype.m0=O.prototype.l0;O.prototype.offset=O.prototype.offset;O.prototype.p0=O.prototype.c0;O.prototype.w0=O.prototype.f0;O.prototype.g0=O.prototype.s0;O.prototype.b0=O.prototype.o0;O.prototype.y0=O.prototype.a0;O.prototype.T0=O.prototype.$h;O.prototype.E0=O.prototype.u0;O.prototype.S0=O.prototype.Yh;O.prototype.A0=O.prototype.r0;O.prototype.k0=O.prototype.i0;O.prototype.Vl=O.prototype.Vl;O.prototype.M0=O.prototype.e0;O.prototype.I0=O.prototype.t0;O.prototype.N0=O.prototype.n0;O.prototype.P0=O.prototype.Zh;O.prototype.R0=O.prototype.Jh;O.prototype.qh=O.prototype.Vh;O.prototype.Kh=O.prototype.jh;O.prototype.D0=O.prototype.Qh;O.prototype.getStartTime=O.prototype.getStartTime;O.prototype.C0=O.prototype.xh;var _o=0,Lo=1;O._0={L0:_o,O0:Lo,x0:2};function Oo(n){return 1==n.length&&1e-4>n.end(0)-n.start(0)}function xo(n){return!n||Oo(n)?null:n.length?n.end(n.length-1):null}function Uo(n,t){return!n||!n.length||Oo(n)||t>n.end(n.length-1)?!1:t>=n.start(0)}function Fo(n,t){if(!n||!n.length||Oo(n))return 0;var e=0;n=lt(Xo(n));for(var i=n.next();!i.done;i=n.next()){var r=i.value;i=r.start;r=r.end;r>t&&(e+=r-Math.max(i,t))}return e}function Bo(n,i,r){if(!n||!n.length||Oo(n))return null;n=Xo(n).findIndex(function(n,t,e){return n.start>i&&(0==t||e[t-1].end-i<=r)});return 0<=n?n:null}function Xo(n){if(!n)return[];for(var t=[],e=0;e<n.length;e++)t.push({start:n.start(e),end:n.end(e)});return t}function Ho(){}function jo(n,t){var e=document.createElement("source");e.src=n;e.type=void 0===t?"":t;return e}function Vo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}t("shaka.util.Dom",Ho);Ho.U0=Vo;function Go(){}function qo(n,t){return t+10<=n.length&&73===n[t]&&68===n[t+1]&&51===n[t+2]&&255>n[t+3]&&255>n[t+4]&&128>n[t+6]&&128>n[t+7]&&128>n[t+8]&&128>n[t+9]?!0:!1}function Ko(n,t){return t+10<=n.length&&51===n[t]&&68===n[t+1]&&73===n[t+2]&&255>n[t+3]&&255>n[t+4]&&128>n[t+6]&&128>n[t+7]&&128>n[t+8]&&128>n[t+9]?!0:!1}function Wo(n,t){var e=(n[t]&127)<<21;e|=(n[t+1]&127)<<14;e|=(n[t+2]&127)<<7;return e|=n[t+3]&127}function zo(n){var t={key:n.type,description:"",data:"",mimeType:null,F0:null};if("APIC"===n.type){if(2>n.size||3!==n.data[0])return null;var e=n.data.subarray(1).indexOf(0);if(-1===e)return null;var i=Xt(dt(n.data,1,e)),r=n.data[2+e],u=n.data.subarray(3+e).indexOf(0);if(-1===u)return null;var a=Xt(dt(n.data,3+e,u)),o;"--\x3e"===i?o=Xt(dt(n.data,4+e+u)):o=Vn(n.data.subarray(4+e+u));t.mimeType=i;t.F0=r;t.description=a;t.data=o;return t}if("TXXX"===n.type){if(2>n.size||3!==n.data[0])return null;i=n.data.subarray(1).indexOf(0);if(-1===i)return null;e=Xt(dt(n.data,1,i));n=Xt(dt(n.data,2+i)).replace(/\0*$/,"");t.description=e;t.data=n;return t}if("WXXX"===n.type){if(2>n.size||3!==n.data[0])return null;i=n.data.subarray(1).indexOf(0);if(-1===i)return null;e=Xt(dt(n.data,1,i));n=Xt(dt(n.data,2+i)).replace(/\0*$/,"");t.description=e;t.data=n;return t}if("PRIV"===n.type){if(2>n.size)return null;e=n.data.indexOf(0);if(-1===e)return null;e=Xt(dt(n.data,0,e));t.description=e;"com.apple.streaming.transportStreamTimestamp"==e?(e=n.data.subarray(e.length+1),n=e[3]&1,e=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7],e/=45,n&&(e+=47721858.84),t.data=e):(n=Vn(n.data.subarray(e.length+1)),t.data=n);return t}if("T"===n.type[0]){if(2>n.size||3!==n.data[0])return null;n=Xt(n.data.subarray(1)).replace(/\0*$/,"");t.data=n;return t}return"W"===n.type[0]?(n=Xt(n.data).replace(/\0*$/,""),t.data=n,t):n.data?(t.data=Vn(n.data),t):null}function Yo(n){for(var t=0,e=[];qo(n,t);){var i=Wo(n,t+6);n[t+5]>>6&1&&(t+=10);t+=10;for(i=t+i;t+10<i;){var r=n.subarray(t),u=Wo(r,4);r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:u,data:r.subarray(10,10+u)};(u=zo(r))&&e.push(u);t+=r.size+10}Ko(n,t)&&(t+=10)}return e}function $o(n,t){for(var e=t=void 0===t?0:t,i=0;qo(n,t);)n[t+5]>>6&1&&(i+=10),i+=10,i+=Wo(n,t+6),Ko(n,t+10)&&(i+=10),t+=i;return 0<i?n.subarray(e,e+i):new Uint8Array([])}t("shaka.util.Id3Utils",Go);Go.B0=$o;Go.X0=Yo;function Qo(n,t){var e=null,i=null,r=null,u=n.Fc();t&1&&(r=n.Xc());t&2&&n.jc(4);t&8&&(e=n.Fc());t&16&&(i=n.Fc());return{H0:u,j0:e,V0:i,G0:r}}function Jo(n,t){return 1==t?(t=n.Fc(),n=n.Fc(),{q0:t*Math.pow(2,32)+n}):{q0:n.Fc()}}function Zo(n,t){1==t?(n.jc(8),n.jc(8)):(n.jc(4),n.jc(4));t=n.Fc();n.jc(4);n=n.Uc();return{Xh:t,language:String.fromCharCode((n>>10)+96)+String.fromCharCode(((n&960)>>5)+96)+String.fromCharCode((n&31)+96)}}function ns(n,t,e){var i=n.Fc(),r=[],u=null;e&1&&(u=n.Fc());e&4&&n.jc(4);for(var a=0;a<i;a++){var o={K0:null,W0:null,z0:null};e&256&&(o.K0=n.Fc());e&512&&(o.W0=n.Fc());e&1024&&n.jc(4);e&2048&&(o.z0=0==t?n.Fc():n.Bc());r.push(o)}return{Y0:i,$0:r,Q0:u}}function ts(n){n.jc(6);n.jc(2);n.jc(8);var t=n.Uc();n.jc(2);n.jc(2);n.jc(2);n=n.Uc()+n.Uc()/65536;return{channelCount:t,sampleRate:n}}function es(n){n=n.Fc();return{J0:ka(n)}}function is(n){var t=null,e=null,i=n.Hc(4);var r=String.fromCharCode(i[0]);r+=String.fromCharCode(i[1]);r+=String.fromCharCode(i[2]);r+=String.fromCharCode(i[3]);if("nclx"===r){switch(n.Uc()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}i=n.Uc();n.Uc();switch(i){case 1:case 6:case 13:case 14:case 15:e="SDR";break;case 16:e="PQ";break;case 18:e="HLG"}}return{ho:t,Z0:e}}function rs(n,t){t=void 0===t?!1:t;n=n.toString(16).toUpperCase();return t?n:("0"+n).slice(-2)}function us(n){return(10>n?"0":"")+n}function as(n,t){this.v=n;if(void 0===t?0:t){t=new Uint8Array(n.byteLength);for(var e=0,i=0;i<n.byteLength;i++)2<=i&&3==n[i]&&0==n[i-1]&&0==n[i-2]||(t[e]=n[i],e++);this.v=dt(t,0,e)}this.g=this.v.byteLength;this.i=this.h=0}function os(n){var t=n.v.byteLength-n.g,e=new Uint8Array(4),i=Math.min(4,n.g);0!==i&&(e.set(n.v.subarray(t,t+i)),n.h=new pa(e,0).Fc(),n.i=8*i,n.g-=i)}function ss(n,t){if(n.i<=t){t-=n.i;var e=Math.floor(t/8);t-=8*e;n.i-=e;os(n)}n.h<<=t;n.i-=t}function x(n,t){var e=Math.min(n.i,t),i=n.h>>>32-e;n.i-=e;0<n.i?n.h<<=e:0<n.g&&os(n);e=t-e;return 0<e?i<<e|x(n,e):i}function fs(n){var t;for(t=0;t<n.i;++t)if(0!==(n.h&2147483648>>>t))return n.h<<=t,n.i-=t,t;os(n);return t+fs(n)}function cs(n){ss(n,1+fs(n))}function U(n){var t=fs(n);return x(n,t+1)-1}function ls(n){n=U(n);return 1&n?1+n>>>1:-1*(n>>>1)}function F(n){return 1===x(n,1)}function B(n){return x(n,8)}function hs(n,t){for(var e=8,i=8,r=0;r<t;r++)0!==i&&(i=ls(n),i=(e+i+256)%256),e=0===i?e:i}function ds(n){B(n);U(n);return U(n)}t("shaka.util.ExpGolomb",as);function vs(){this.D=null;this.N=!1;this.m=this.R=null;this.v=[];this.i=[];this.p=this.C=null;this.g=[];this.h=[];this.P=null;this.l=[];this.I=this.o=this.s=null}n=vs.prototype;n.clearData=function(){this.v=[];this.i=[];this.g=[];this.h=[];this.l=[]};n.parse=function(n){if(564>n.length)return this;for(var t=Math.max(0,Ts(n)),e=n.length-(n.length+t)%188,i=!1,r=t;r<e;r+=188)if(71==n[r]){var u=!!(n[r+1]&64),a=((n[r+1]&31)<<8)+n[r+2];if(1<(n[r+3]&48)>>4){var o=r+5+n[r+4];if(o==r+188)continue}else o=r+4;switch(a){case 0:u&&(o+=n[o]+1);this.D=(n[o+10]&31)<<8|n[o+11];break;case 17:case 8191:break;case this.D:u&&(o+=n[o]+1);u=n;a={Vu:-1,Gu:-1,nd:-1,ko:"",Mo:""};var s=o+3+((u[o+1]&15)<<8|u[o+2])-4;for(o+=12+((u[o+10]&15)<<8|u[o+11]);o<s;){var f=(u[o+1]&31)<<8|u[o+2],c=(u[o+3]&15)<<8|u[o+4];switch(u[o]){case 6:if(0<c)for(var l=o+5,h=c;2<h;){var d=u[l+1]+2;switch(u[l]){case 5:var v=qt(u.subarray(l+2,l+d));-1==a.Vu&&"Opus"===v?(a.Vu=f,a.ko="opus"):-1==a.Gu&&"AV01"===v&&(a.Gu=f,a.Mo="av1");break;case 106:-1==a.Vu&&(a.Vu=f,a.ko="ac3");break;case 122:-1==a.Vu&&(a.Vu=f,a.ko="ec3");break;case 124:-1==a.Vu&&(a.Vu=f,a.ko="aac");break;case 127:"opus"==a.ko&&(v=null,128===u[l+2]&&(v=u[l+3]),null!=v&&(this.I={channelCount:0===(v&15)?2:v&15,td:v,sampleRate:48e3}))}l+=d;h-=d}break;case 15:-1==a.Vu&&(a.Vu=f,a.ko="aac");break;case 17:-1==a.Vu&&(a.Vu=f,a.ko="aac-loas");break;case 21:-1==a.nd&&(a.nd=f);break;case 27:-1==a.Gu&&(a.Gu=f,a.Mo="avc");break;case 3:case 4:-1==a.Vu&&(a.Vu=f,a.ko="mp3");break;case 36:-1==a.Gu&&(a.Gu=f,a.Mo="hvc");break;case 129:-1==a.Vu&&(a.Vu=f,a.ko="ac3");break;case 132:case 135:-1==a.Vu&&(a.Vu=f,a.ko="ec3")}o+=c+5}u=a;-1!=u.Gu&&(this.R=u.Gu,this.m=u.Mo);-1!=u.Vu&&(this.C=u.Vu,this.p=u.ko);-1!=u.nd&&(this.P=u.nd);i&&!this.N&&(i=!1,r=t-188);this.N=!0;break;case this.R:o=n.subarray(o,r+188);u?this.v.push([o]):this.v.length&&this.v[this.v.length-1]&&this.v[this.v.length-1].push(o);break;case this.C:o=n.subarray(o,r+188);u?this.g.push([o]):this.g.length&&this.g[this.g.length-1]&&this.g[this.g.length-1].push(o);break;case this.P:o=n.subarray(o,r+188);u?this.l.push([o]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(o);break;default:i=!0}}return this};function ms(n,t){if(1!==(t[0]<<16|t[1]<<8|t[2]))return null;var e={data:new Uint8Array(0),ed:t[4]<<8|t[5],cn:null,rd:null,ud:[]};if(e.ed&&e.ed>t.byteLength-6)return null;var i=t[7];if(i&192){var r=536870912*(t[9]&14)+4194304*(t[10]&255)+16384*(t[11]&254)+128*(t[12]&255)+(t[13]&254)/2;null==n.s&&(n.s=r);e.cn=bs(r,n.s);n.s=e.cn;e.rd=e.cn;i&64&&(i=536870912*(t[14]&14)+4194304*(t[15]&255)+16384*(t[16]&254)+128*(t[17]&255)+(t[18]&254)/2,null==n.o&&(n.o=i),e.rd=bs(i,n.o));n.o=e.rd}n=t[8]+9;if(t.byteLength<=n)return null;e.data=t.subarray(n);return e}n.ad=function(n){On("TsParser.parseAvcNalus","Please use parseNalus function instead.");return this.od(n,{sd:null,state:null})};n.od=function(n,t){var e=n.cn?n.cn/9e4:null;n=n.data;var i=n.byteLength,r=1;"hvc"==this.m&&(r=2);var u=t.state||0,a=u,o=0,s=[],f=-1,c=0;-1==u&&(f=0,c="hvc"==this.m?n[0]>>1&63:n[0]&31,u=0,o=1);for(;o<i;){var l=n[o++];if(u)if(1===u)u=l?0:2;else if(l)if(1==l){l=o-u-1;if(0<=f)s.push({data:n.subarray(f+r,l),fd:n.subarray(f,l),type:c,time:e,state:null});else if(u=s.length?s[s.length-1]:t.sd)a&&o<=4-a&&u.state&&(u.data=u.data.subarray(0,u.data.byteLength-a),u.fd=u.fd.subarray(0,u.fd.byteLength-a)),0<l&&(l=n.subarray(0,l),u.data=Bi(u.data,l),u.fd=Bi(u.fd,l),u.state=0);o<i?(c="hvc"==this.m?n[o]>>1&63:n[o]&31,f=o,u=0):u=-1}else u=0;else u=3;else u=l?0:1}0<=f&&0<=u&&s.push({data:n.subarray(f+r,i),fd:n.subarray(f,i),type:c,time:e,state:u});!s.length&&t.sd&&(e=s.length?s[s.length-1]:t.sd)&&(e.data=Bi(e.data,n),e.fd=Bi(e.fd,n));t.state=u;return s};n.getMetadata=function(){for(var n=[],t=lt(this.l),e=t.next();!e.done;e=t.next())e=Bi.apply(_i,ht(e.value)),(e=ms(this,e))&&n.push({ld:e.cn?e.cn/9e4:null,data:e.data,frames:Yo(e.data),rd:e.rd,cn:e.cn});return n};n.hd=function(){if(this.g.length&&!this.h.length){for(var n=!1,t=lt(this.g),e=t.next();!e.done;e=t.next()){var i=Bi.apply(_i,ht(e.value)),r=ms(this,i);e=this.h.length?this.h[this.h.length-1]:null;r&&null!=r.cn&&null!=r.rd&&(!e||e.cn!=r.cn&&e.rd!=r.rd)?(this.h.length&&r.rd<(e.rd||0)&&(n=!0),this.h.push(r)):this.h.length&&(i=r?r.data:i)&&(e=this.h.pop(),e.data=Bi(e.data,i),this.h.push(e))}n&&(this.h=this.h.sort(function(n,t){var e=(n.cn||0)-(t.cn||0);return(n.rd||0)-(t.rd||0)||e}))}return this.h};n.dd=function(n){n=void 0===n?!0:n;if(this.v.length&&!this.i.length){for(var t=!1,e=lt(this.v),i=e.next();!i.done;i=e.next()){var r=Bi.apply(_i,ht(i.value)),u=ms(this,r);i=this.i.length?this.i[this.i.length-1]:null;u&&null!=u.cn&&null!=u.rd&&(!i||i.cn!=u.cn&&i.rd!=u.rd)?(this.i.length&&u.rd<(i.rd||0)&&(t=!0),this.i.push(u)):this.i.length&&(r=u?u.data:r)&&(i=this.i.pop(),i.data=Bi(i.data,r),this.i.push(i))}if(n){e={sd:null,state:null};i=[];r=lt(this.i);for(u=r.next();!u.done;u=r.next())u=u.value,u.ud=this.od(u,e),u.ud.length&&(i.push(u),e.sd=u.ud[u.ud.length-1]);this.i=i}t&&(this.i=this.i.sort(function(n,t){var e=(n.cn||0)-(t.cn||0);return(n.rd||0)-(t.rd||0)||e}))}return n?this.i:(n=this.i,this.i=[],n)};n.getStartTime=function(n){if("audio"==n){n=null;var t=this.hd();t.length&&(n=t[0],n=Math.min(n.rd,n.cn)/9e4);return n}return"video"==n?(n=null,t=this.dd(!1),t.length&&(n=t[0],n=Math.min(n.rd,n.cn)/9e4),n):null};n.vd=function(){return{Vu:this.p,Gu:this.m}};n.md=function(){for(var n=[],t=lt(this.dd()),e=t.next();!e.done;e=t.next())n.push.apply(n,ht(e.value.ud));return n};n.pd=function(){On("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var n=this.wd();return{height:n.height,width:n.width}};n.wd=function(){return"hvc"==this.m?gs(this):ws(this)};function ps(n){var t=n.dd();return 1<t.length&&(n=t[0].cn,t=t[1].cn,!isNaN(t-n))?String(1/(t-n)*9e4):null}function ws(n){var t={height:null,width:null,J0:null,La:null},e=n.md();if(!e.length)return t;e=e.find(function(n){return 7==n.type});if(!e)return t;e=new as(e.data);var i=B(e),r=B(e),u=B(e);cs(e);if(Es.includes(i)){var a=U(e);3===a&&ss(e,1);cs(e);cs(e);ss(e,1);if(F(e)){a=3!==a?8:12;for(var o=0;o<a;o++)F(e)&&(6>o?hs(e,16):hs(e,64))}}cs(e);a=U(e);if(0===a)U(e);else if(1===a)for(ss(e,1),cs(e),cs(e),a=U(e),o=0;o<a;o++)cs(e);cs(e);ss(e,1);a=U(e);o=U(e);var s=x(e,1);0===s&&ss(e,1);ss(e,1);var f=0,c=0,l=0,h=0;F(e)&&(f=U(e),c=U(e),l=U(e),h=U(e));t.height=String((2-s)*(o+1)*16-2*l-2*h);t.width=String(16*(a+1)-2*f-2*c);t.J0="avc1."+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+u.toString(16).toUpperCase()).slice(-2);t.La=ps(n);return t}function gs(n){var t={height:null,width:null,J0:null,La:null},e=n.md();if(!e.length)return t;e=e.find(function(n){return 33==n.type});if(!e)return t;var i=new as(e.fd,!0);B(i);B(i);x(i,4);var r=x(i,3);F(i);var u=x(i,2),a=x(i,1),o=x(i,5),s=x(i,32);e=B(i);for(var f=B(i),c=B(i),l=B(i),h=B(i),d=B(i),v=B(i),m=[],p=[],w=0;w<r;w++)m.push(F(i)),p.push(F(i));if(0<r)for(w=r;8>w;w++)x(i,2);for(w=0;w<r;w++)m[w]&&x(i,88),p[w]&&B(i);U(i);r=U(i);3==r&&x(i,1);m=U(i);p=U(i);var g=w=0,b=0,y=0;F(i)&&(w+=U(i),g+=U(i),b+=U(i),y+=U(i));t.width=String(m-(w+g)*(1===r||2===r?2:1));t.height=String(p-(b+y)*(1===r?2:1));i=function(n){for(var t=0,e=0;32>e;e++)t|=(n>>e&1)<<31-e;return t>>>0}(s);a=1==a?"H":"L";u="hvc1"+("."+["","A","B","C"][u]+o);u+="."+i.toString(16).toUpperCase();u+="."+a+v;d&&(u+="."+d.toString(16).toUpperCase());h&&(u+="."+h.toString(16).toUpperCase());l&&(u+="."+l.toString(16).toUpperCase());c&&(u+="."+c.toString(16).toUpperCase());f&&(u+="."+f.toString(16).toUpperCase());e&&(u+="."+e.toString(16).toUpperCase());t.J0=u;t.La=ps(n);return t}function bs(n,t){var e=1;for(n>t&&(e=-1);4294967296<Math.abs(t-n);)n+=8589934592*e;return n}function ys(n){return 0>Ts(n)?!1:!0}function Ts(n){for(var t=Math.min(1e3,n.length-564),e=0;e<t;){if(71==n[e]&&71==n[e+188]&&71==n[e+376])return e;e++}return-1}t("shaka.util.TsParser",vs);vs.gd=Ts;vs.bd=ys;vs.prototype.yd=vs.prototype.wd;vs.prototype.Td=vs.prototype.pd;vs.prototype.Ed=vs.prototype.md;vs.prototype.Sd=vs.prototype.vd;vs.prototype.getStartTime=vs.prototype.getStartTime;vs.prototype.Ad=vs.prototype.dd;vs.prototype.kd=vs.prototype.hd;vs.prototype.getMetadata=vs.prototype.getMetadata;vs.prototype.Md=vs.prototype.od;vs.prototype.Id=vs.prototype.ad;vs.prototype.parse=vs.prototype.parse;vs.prototype.clearData=vs.prototype.clearData;vs.Nd=9e4;var Es=[100,110,122,244,44,83,86,118,128,138,139,134];function Ss(n,t,e){this.i=null;this.o=-1;this.l=n;this.g=t;this.m=e;this.v=!1;n:{"undefined"===typeof libDPIModule&&M("Could not find LCEVC Library dependencies on this page");if("undefined"!==typeof LCEVCdec)this.h=LCEVCdec;else if("undefined"!==typeof LcevcDil)this.h=LcevcDil,this.v=!0,On("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{M("Could not find LCEVC Library on this page");n=!1;break n}"undefined"===typeof this.h.SupportObject?(M("Could not find LCEVC Library on this page"),n=!1):(this.h.SupportObject.SupportStatus||M(this.h.SupportObject.SupportError),n="undefined"!==typeof this.h&&"undefined"!==typeof libDPIModule&&this.g instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}n&&!this.i&&this.h.SupportObject.webGLSupport(this.g)&&(this.g.classList.remove("shaka-hidden"),this.i=this.v?new this.h.LcevcDil(this.l,this.g,this.m):new this.h.LCEVCdec(this.l,this.g,this.m))}function As(n){n.i&&n.g.classList.add("shaka-hidden")}Ss.prototype.release=function(){this.i&&(this.i.close(),this.i=null)};function ks(n,t,e){var i=0,r=-1;switch(t.mimeType){case"video/webm":i=1;break;case"video/mp4":i=2}switch(e){case"DASH":r=1;break;case"HLS":r=0}n.i&&(n.o=t.id,n.i.setLevelSwitching(t.id,!0),n.i.setContainerFormat(i),n.v||n.i.setStreamingFormat(r))}t("shaka.lcevc.Dec",Ss);Ss.prototype.release=Ss.prototype.release;function Ms(n,t,e,i){var r=this;this.i=n;this.R=e;this.p=null;this.Tl=t;this.g={};this.I={};this.Pd={};this.h=null;this.Rd=!1;this.Dl=i||null;this.o={};this.s=new Mn;this.v={};this.Sl=null;this.D=new Fu;this.Dd="";this.Cd=!1;this._d=!0;this.Rl=!1;this.C=this.Il=null;this.l=Is(this,this.D);this.N=!1;this.Pl=new ca(function(){return Rs(r)});this.P=!1;this.kl="UNKNOWN";this.Ld=this.Od=!1;this.xd=new Fu;this.m=!1;this.Ud=null;this.El={};this.yl=this.Nl=this.Af=this.Cl=null;this.Ml=new Fu;this.i.remote&&(this.Rl="disconnected"!=this.i.remote.state,this.s.K(this.i.remote,"connect",function(){r.Rl="disconnected"!=r.i.remote.state}),this.s.K(this.i.remote,"connecting",function(){r.Rl="disconnected"!=r.i.remote.state}),this.s.K(this.i.remote,"disconnect",function(){r.Rl="disconnected"!=r.i.remote.state}))}function Is(n,t){n._d=!0;if(L.ManagedMediaSource){n.C||(n.i.disableRemotePlayback=!0);var e=new ManagedMediaSource;n.s.K(e,"startstreaming",function(){n._d=!0});n.s.K(e,"endstreaming",function(){n._d=!1})}else e=new MediaSource;n.s.W(e,"sourceopen",function(){URL.revokeObjectURL(n.Dd);t.resolve()});n.s.W(n.i,"playing",function(){n.Cd=!0});n.Dd=sf(e);n.i.removeAttribute("src");n.Il&&n.i.removeChild(n.Il);n.C&&n.i.removeChild(n.C);n.Il=jo(n.Dd);n.i.appendChild(n.Il);n.C&&n.i.appendChild(n.C);n.i.load();return e}function Ns(n,t,e){n.i&&L.ManagedMediaSource&&n.l&&(n.C&&n.i.removeChild(n.C),n.C=jo(t,e),n.i.appendChild(n.C),n.i.disableRemotePlayback=!1)}function Ps(t,e){var i,r,u,a,o,s,f,c,l,h,d;return sn(function(n){if(1==n.i)return t.Fd?an(n,t.Fd(),2):n.k(2);if(!t.jo)return n.A(!1);if(0==t.jo.Bd())return n.A(!0);i=Ki;r=new Set;u=lt(t.jo);for(a=u.next();!a.done;a=u.next())if(o=a.value,s=o.mimeType||t.mimeType||"",f=o.va||t.va||"",s!=t.mimeType||f!=t.va)if(c=s+":"+f,!r.has(c))if(r.add(c),e==i.Xu){if(l=$i(s,f),!cr(l))return n.A(!1)}else if(e==i.Fu?f=qr(f):e==i.Bu&&(f=Gr(f,s)),h=Zi(t,s,f),d=Qi(s,f),!Dn(h)&&!ci(d))return n.A(!1);return n.A(!0)})}n=Ms.prototype;n.su=function(){return this.Pl.su()};function Rs(t){var e,i,r,u,a,o,s,f;return sn(function(n){if(1==n.i){e=[];for(i in t.o)for(r=t.o[i],u=r[0],t.o[i]=r.slice(0,1),u&&e.push(u.Xd["catch"](gr)),a=lt(r.slice(1)),o=a.next();!o.done;o=a.next())s=o.value,s.Xd.reject(new vt(2,7,7003,void 0));t.h&&e.push(t.h.su());return an(n,Promise.all(e),2)}for(f in t.v)t.v[f].su();t.s&&(t.s.release(),t.s=null);t.i&&t.C&&t.i.removeChild(t.C);t.i&&t.Il&&(t.i.removeChild(t.Il),t.i.load(),t.i.disableRemotePlayback=!1);t.i=null;t.Il=null;t.C=null;t.p=null;t.l=null;t.h=null;t.Tl=null;t.g={};t.v={};t.Sl=null;t.o={};t.Dl=null;t.El={};t.R=null;on(n)})}n.init=function(t,e,i,r){e=void 0===e?!1:e;i=void 0===i?"UNKNOWN":i;r=void 0===r?!1:r;var u=this,a,o,s,f,c,l;return sn(function(n){switch(n.i){case 1:return a=Ki,an(n,u.D,2);case 2:if(!Ls(u)&&(u.N||u.l&&"closed"!=u.l.readyState)){n.k(3);break}bn("Expected MediaSource to be open during init(); reopening the media source.");u.D=new Fu;u.l=Is(u,u.D);return an(n,u.D,3);case 3:u.P=e,u.kl=i,u.Od=r,u.Ld=!u.P&&"HLS"==u.kl&&!u.Od,u.El={},u.Cl=null,u.Af=null,u.Nl=null,u.yl=null,u.Ml=new Fu,o=lt(t.keys()),s=o.next();case 5:if(s.done){n.k(7);break}f=s.value;c=t.get(f);return an(n,Ds(u,f,c,c.va),8);case 8:u.m?(u.o[a.Bu]=[],u.o[a.Fu]=[]):u.o[f]=[];s=o.next();n.k(5);break;case 7:(l=t.get(a.Bu))&&l.Hd&&(u.m=!0),on(n)}})};function Ds(e,i,r,u){var a,o,s,f,c,l,h,d,v,m,p,w;return sn(function(n){switch(n.i){case 1:return a=Ki,o=dn,s=vn,an(n,Ps(r,i),2);case 2:s.call(o,n.h,"Type negotiation should happen before MediaSourceEngine.init!");f=$i(r.mimeType,u);if(i==a.Xu){_s(e,f,e.P,r.external);n.k(0);break}c=e.p.jd;if(!Dn(f)||!e.P&&sr.includes(f))c=!0;l=Qi(r.mimeType,u);if(!c){n.k(4);break}h=Gi(a.Bu,(u||"").split(","));d=Gi(a.Fu,(u||"").split(","));if(!h||!d){n.k(5);break}e.m=!0;return an(n,Ds(e,a.Bu,r,h),6);case 6:return an(n,Ds(e,a.Fu,r,d),7);case 7:return n.A();case 5:if(v=ci(l))m=v(),e.v[i]=m,f=m.qu(i,l);case 4:p=f+e.p.Vd(f);la(e.Pl);try{w=e.l.addSourceBuffer(p)}catch(t){throw new vt(2,3,3015,t,"The mediaSource_ status was "+e.l.readyState+" expected 'open'",null)}e.P&&(w.mode=ff);e.s.K(w,"error",function(){var n=e.o[i][0];n.Xd.reject(new vt(2,3,3014,e.i.error?e.i.error.code:0,n.uri))});e.s.K(w,"updateend",function(){return Ys(e,i)});e.g[i]=w;e.I[i]=f;e.Pd[i]=!!r.vo.length;on(n)}})}n.B=function(n){this.p=n;this.h&&(this.h.p=n.Gd)};function Cs(n){return n._d&&!n.Rl&&!n.N}function _s(n,t,e,i){n.h||(n.h=new fr(n.Tl),n.h&&(n.h.p=n.p.Gd));var r=n.h;i=i||n.Rd;n=n.kl;"application/cea-608"==t||"application/cea-708"==t?r.g=null:(r.g=(0,pr[t])(),r.g.qd?r.g.qd(e):On("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),r.g.Kd?r.g.Kd(n):On("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),r.C=i)}function Ls(n){return n.N?!1:n.l?"ended"==n.l.readyState:!0}function Os(n,t){Object.keys(n.g).length?t==z?n=n.h.i:(n=Fs(n,t),n=!n||Oo(n)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null):n=null;return n}function xs(n,t){return Object.keys(n.g).length?t==z?n.h.h:xo(Fs(n,t)):null}function Us(n,t,e){if(t==z)return n=n.h,null==n.h||n.h<e?0:n.h-Math.max(e,n.i);n=Fs(n,t);return Fo(n,e)}n.Wd=function(){var n={total:this.N?[]:Xo(this.i.buffered),Vu:Xo(Fs(this,"audio")),Gu:Xo(Fs(this,"video")),text:[]};if(this.h){var t=this.h.i,e=this.h.h;null!=t&&null!=e&&n.text.push({start:t,end:e})}return n};function Fs(n,t){if(n.N||n.Rl)return null;try{return n.g[t].buffered}catch(e){return null}}function Bs(f,n,t,c,l,e){var i=null,r=[],u=dt(t);if(sr.includes(e))n=Yo(u),n.length&&c&&((t=n.find(function(n){return"com.apple.streaming.transportStreamTimestamp"===n.description}))&&(i=Math.round(t.data)/1e3),f.R.zd([{ld:c.startTime,data:u,frames:n,rd:c.startTime,cn:c.startTime}],0,c.endTime));else if(e.includes("/mp4")&&c&&c.Wh&&c.Wh.Xh){var a=c.Wh.Xh;if(!isNaN(a)){var o=0,s=!1;u=new ba;(null!=l.Yd&&0<l.Yd.length||f.p.$d)&&u.al("emsg",function(n){var t=l.Yd;if(0===n.version){var e=n.cl.qc();var i=n.cl.qc();var r=n.cl.Fc();var u=n.cl.Fc();var a=n.cl.Fc();var o=n.cl.Fc();var s=c.startTime+u/r}else r=n.cl.Fc(),s=n.cl.Xc()/r+c.timestampOffset,u=s-c.startTime,a=n.cl.Fc(),o=n.cl.Fc(),e=n.cl.qc(),i=n.cl.qc();n=n.cl.Hc(n.cl.Oc()-n.cl.Lc());if(t&&t.includes(e)||f.p.$d)if("urn:mpeg:dash:event:2012"==e)f.R.Qd();else if(t=s+a/r,r=(new Map).set("detail",{startTime:s,endTime:t,Jd:e,value:i,Xh:r,Zd:u,n1:a,id:o,t1:n}),r=new A("emsg",r),r.cancelable=!0,f.R.uh(r),!r.defaultPrevented&&("https://aomedia.org/emsg/ID3"==e||"https://developer.apple.com/streaming/emsg-id3"==e)&&(e=Yo(n),e.length))f.R.zd([{ld:s,data:n,frames:e,rd:s,cn:s}],0,t)});u.al("prft",function(n){var t=n.cl,e=n.version;t.Fc();n=t.Fc();var i=t.Fc();n=1e3*n+i/Math.pow(2,32)*1e3;0===e?t=t.Fc():(e=t.Fc(),t=t.Fc(),t=e*Math.pow(2,32)+t);n=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+n).getTime();t=(new Map).set("detail",{e1:n,i1:new Date(n-t/a*1e3)});t=new A("prft",t);f.R.uh(t)}).ul("moof",k).ul("traf",k).al("tfdt",function(n){o=Jo(n.cl,n.version).q0/a;s=!0;n.sl.stop()}).parse(t,!0);s&&0==c.timestampOffset&&(i=o)}}else e.includes("/mp4")||e.includes("/webm")||!ys(u)||(f.El[n]?f.El[n].clearData():f.El[n]=new vs,r=f.El[n].parse(u),u=r.getStartTime(n),null!=u&&(i=u),r=r.getMetadata());return{timestamp:i,metadata:r}}function Xs(e,i,r,t,u,a,o,s,f,c){o=void 0===o?!1:o;s=void 0===s?!1:s;f=void 0===f?!1:f;c=void 0===c?!1:c;var l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N;return sn(function(n){switch(n.i){case 1:l=Ki;if(i!=l.Xu){n.k(2);break}if("HLS"!=e.kl){n.k(3);break}return an(n,e.xd,4);case 4:h=n.h,e.h.s=h;case 3:return an(n,lr(e.h,r,t?t.startTime:null,t?t.endTime:null,t?t.xh()[0]:null),5);case 5:return n.A();case 2:if(c||!e.m){n.k(6);break}return an(n,Xs(e,l.Bu,r,t,u,a,o,s,f,!0),7);case 7:return an(n,Xs(e,l.Fu,r,t,u,a,o,s,f,!0),8);case 8:return n.A();case 6:if(!e.g[i])return n.A();d=e.g[i].timestampOffset;v=e.I[i];e.v[i]&&(v=e.v[i].u1());if(t&&(m=Bs(e,i,r,t,u,v),p=m.timestamp,w=m.metadata,null!=p&&(null==e.Cl&&i==l.Fu&&(e.Cl=p,e.Af=t.startTime,null!=e.Nl&&(g=0,e.Af==e.yl&&(g=e.Cl-e.Nl),e.Ml.resolve(g))),null==e.Nl&&i==l.Bu&&(e.Nl=p,e.yl=t.startTime,null!=e.Cl&&(b=0,e.Af==e.yl&&(b=e.Cl-e.Nl),e.Ml.resolve(b))),y=p,T=sr,!e.P&&T.includes(e.I[i])&&(y=0),E=t.startTime-y,S=Math.abs(d-E),(.001<=S||o||s)&&(!f||0<E||!d)&&(d=E,e.Ld&&($s(e,i,function(){return Ws(e,i)},null),$s(e,i,function(){return zs(e,i,d)},null))),(A=i==l.Fu||!(l.Fu in e.g))&&e.xd.resolve(d)),w.length))e.R.zd(w,d,t?t.endTime:null);a&&i==l.Fu&&(e.h||_s(e,"application/cea-608",e.P,!1),e.Sl||(k=v.split(";",1)[0],e.Sl=new zn(k)),t?(M=e.Sl.g(r),M.length&&mr(e.h,M,t.startTime,t.endTime,d)):e.Sl.init(r,s));if(!e.v[i]){n.k(9);break}return an(n,e.v[i].a1(r,u,t,e.l.duration,i),10);case 10:r=n.h;case 9:r=nf(e,r,t?t.startTime:null,i,t?t.xh()[0]:null);if(!t||!e.P||i==l.Xu){n.k(11);break}if(!o&&!s){n.k(11);break}I=t.startTime;if("HLS"!=e.kl||e.m||i!=l.Bu||!e.g[l.Fu]){n.k(13);break}return an(n,e.Ml,14);case 14:N=n.h,.1<Math.abs(N)&&(I-=N);case 13:$s(e,i,function(){return Ws(e,i)},null),$s(e,i,function(){return zs(e,i,I)},null);case 11:return an(n,$s(e,i,function(){var n=r;if("video"==i&&e.Dl){var t=e.Dl;t.i&&t.i.appendBuffer(n,"video",t.o,-d)}e.g[i].appendBuffer(n)},t?t.xh()[0]:null),15);case 15:on(n)}})}function Hs(n,t){var e=xs(n,"video")||0;dr(n.h,t,e)}function js(n){n.h&&dr(n.h,"",0)}n.remove=function(t,e,i){var r=this,u;return sn(function(n){return 1==n.i?(u=Ki,t==u.Xu?an(n,r.h.remove(e,i),0):an(n,$s(r,t,function(){return Ks(r,t,e,i)},null),4)):r.m?an(n,$s(r,u.Bu,function(){return Ks(r,u.Bu,e,i)},null),0):n.k(0)})};function Vs(t,e){var i;return sn(function(n){return 1==n.i?(i=Ki,e==i.Xu?t.h?an(n,t.h.remove(0,Infinity),0):n.A():an(n,$s(t,e,function(){return Ks(t,e,0,t.l.duration)},null),4)):t.m?an(n,$s(t,i.Bu,function(){return Ks(t,i.Bu,0,t.l.duration)},null),0):n.k(0)})}n.flush=function(t){var e=this,i;return sn(function(n){return 1==n.i?(i=Ki,t==i.Xu?n.A():an(n,$s(e,t,function(){e.i.currentTime-=.001;Ys(e,t)},null),2)):e.m?an(n,$s(e,i.Bu,function(){var n=i.Bu;e.i.currentTime-=.001;Ys(e,n)},null),0):n.k(0)})};function Gs(t,e,i,r,u,a,o,s,f){var c,l,h;return sn(function(n){if(1==n.i){c=Ki;if(e==c.Xu)return a||(t.h.s=i),hr(t.h,r,u),n.A();l=[];return an(n,af(t,e,o,s,f),2)}h=n.h;h||(l.push($s(t,e,function(){return Ws(t,e)},null)),t.m&&l.push($s(t,c.Bu,function(){return Ws(t,c.Bu)},null)));a||(l.push($s(t,e,function(){return zs(t,e,i)},null)),t.m&&l.push($s(t,c.Bu,function(){return zs(t,c.Bu,i)},null)));l.push($s(t,e,function(){t.g[e].appendWindowStart=0;t.g[e].appendWindowEnd=u;t.g[e].appendWindowStart=r;Ys(t,e)},null));t.m&&l.push($s(t,c.Bu,function(){var n=c.Bu;t.g[n].appendWindowStart=0;t.g[n].appendWindowEnd=u;t.g[n].appendWindowStart=r;Ys(t,n)},null));return an(n,Promise.all(l),0)})}function qs(t,e,i){var r,u;return sn(function(n){if(1==n.i){r=Ki;if(e==r.Xu)return n.A();e==r.Fu&&(t.xd=new Fu);if(!t.P||(u=xs(t,e))&&.1>Math.abs(u-i))return n.A();$s(t,e,function(){return Ws(t,e)},null);t.m&&$s(t,r.Bu,function(){return Ws(t,r.Bu)},null);return an(n,$s(t,e,function(){return zs(t,e,i)},null),2)}return t.m?an(n,$s(t,r.Bu,function(){return zs(t,r.Bu,i)},null),0):n.k(0)})}n.endOfStream=function(t){var e=this;return sn(function(n){return an(n,Qs(e,function(){Ls(e)||(e.N?0:e.l?"closed"==e.l.readyState:1)||(t?e.l.endOfStream(t):e.l.endOfStream())}),0)})};n.o1=function(e){var i=this;return sn(function(n){return an(n,Qs(i,function(){if(e<i.l.duration)for(var n in i.g){var t={start:function(){},Xd:new Fu,uri:null};i.o[n].unshift(t)}i.l.duration=e;i.Ud=e}),0)})};n.s1=function(){return this.l.duration};function Ks(n,t,e,i){i<=e?Ys(n,t):n.g[t].remove(e,i)}function Ws(n,t){var e=n.g[t].appendWindowStart,i=n.g[t].appendWindowEnd;n.g[t].abort();n.g[t].appendWindowStart=e;n.g[t].appendWindowEnd=i;Ys(n,t)}function zs(n,t,e){0>e&&(e+=.001);n.g[t].timestampOffset=e;Ys(n,t)}function Ys(n,t){if(!n.N){var e=n.o[t][0];e&&(e.Xd.resolve(),Js(n,t))}}function $s(n,t,e,i){la(n.Pl);e={start:e,Xd:new Fu,uri:i};n.o[t].push(e);1==n.o[t].length&&Zs(n,t);return e.Xd}function Qs(t,e){var i,r,u,a,o,s,f,c,l,h,d,v;return sn(function(n){switch(n.i){case 1:la(t.Pl);i=[];r=Object.keys(t.g);u=lt(r);a=u.next();for(o={};!a.done;o={ready:void 0},a=u.next())s=a.value,o.ready=new Fu,f={start:function(n){return function(){return n.ready.resolve()}}(o),Xd:o.ready,uri:null},t.o[s].push(f),i.push(o.ready),1==t.o[s].length&&f.start();q(n,2);return an(n,Promise.all(i),4);case 4:K(n,3);break;case 2:throw c=W(n),c;case 3:return q(n,5,6),an(n,e(),6);case 6:_(n);l=lt(r);for(h=l.next();!h.done;h=l.next())d=h.value,Js(t,d);X(n,0);break;case 5:throw v=W(n),new vt(2,3,3015,v,t.i.error||"No error in the media element",null)}})}function Js(n,t){n.o[t].shift();Zs(n,t)}function Zs(n,t){var e=n.o[t][0];if(e)try{e.start()}catch(i){"QuotaExceededError"==i.name?e.Xd.reject(new vt(2,3,3017,t)):e.Xd.reject(new vt(2,3,3015,i,n.i.error||"No error in the media element",e.uri)),Js(n,t)}}function nf(n,t,e,i,r){var u=null==e,a=n.Pd[i];e=n.R.f1();if(u=n.p.c1&&u&&a)e=st(e),u=yt()||bt()||Pt()||gt()&&Dt()&&e;u&&"mp4"==nr(n.I[i])&&(t=Mo(t,r));return t}function tf(n,t,e,i){return $s(n,t,function(){t!==z&&(Cn()&&(n.v[t]&&(n.v[t].su(),delete n.v[t]),i&&(n.v[t]=i),n.g[t].changeType(e+n.p.Vd(e)),n.I[t]=e),Ys(n,t))},null)}function ef(e,i){var r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){switch(n.i){case 1:r=Ki;e.N=!0;e.m=!1;u=e.i.currentTime;a=e.i.autoplay;o=e.i.paused;e.Cd&&(e.i.autoplay=!1);C(n,2);e.s.q();for(s in e.v)e.v[s].su();for(f in e.g){c=e.g[f];try{e.l.removeSourceBuffer(c)}catch(t){}}e.v={};e.g={};l=e.l.duration;e.D=new Fu;e.l=Is(e,e.D);return an(n,e.D,4);case 4:!isNaN(l)&&l?e.l.duration=l:!isNaN(e.Ud)&&e.Ud&&(e.l.duration=e.Ud),h=new Fu,d=e.l.sourceBuffers,v=i.size,m=0,p=function(){m++;m===v&&(h.resolve(),e.s.Y(d,"addsourcebuffer",p))},e.s.K(d,"addsourcebuffer",p),w=lt(i.keys()),g=w.next();case 5:if(g.done)return(T=i.get(r.Bu))&&T.Hd&&(e.m=!0),e.m&&!e.o[r.Bu]&&(e.o[r.Bu]=[]),e.i.currentTime=u,an(n,h,2);b=g.value;y=i.get(b);return an(n,Ds(e,b,y,y.va),6);case 6:g=w.next();n.k(5);break;case 2:_(n),e.N=!1,la(e.Pl),e.s.W(e.i,"canplaythrough",function(){e.Pl.i||(e.i.autoplay=a,o||e.i.play())}),X(n,0)}})}function rf(n,t){return Qs(n,function(){return ef(n,t)})}function uf(n,t,e,i){var r=!1,u=Gi("audio",(i||"").split(",")),a=Gi("video",(i||"").split(",")),o=a;"audio"==t&&(o=u);o||(o=i);i=$i(e,o);var s=n.p.jd;if(!Dn(i)||!n.P&&sr.includes(i))s=!0;if(s&&(n=Qi(e,o),e=ci(n))){var f=e();u&&a&&(r=!0);i=f.qu(t,n)}t=tr(rr(i));return{l1:f,h1:r,d1:ir(i),J0:t,mimeType:i}}function af(t,e,i,r,u){var a,o,s,f,c,l,h,d,v,m,p,w,g,b;return sn(function(n){if(1==n.i){a=Ki;if(e==a.Xu)return n.A(!1);o=tr(rr(t.I[e]));s=ir(t.I[e]);f=uf(t,e,i,r);c=f.l1;l=f.h1;h=f.d1;d=f.J0;v=f.mimeType;m=!0;l&&(p=uf(t,a.Bu,i,r),w=tr(rr(t.I[a.Bu])),g=ir(t.I[a.Bu]),m=w==p.J0&&g==p.d1,p.l1&&p.l1.su());if(o===d&&s===h&&m)return t.v[e]&&!c?(t.v[e].su(),delete t.v[e]):!t.v[e]&&c?t.v[e]=c:c&&(t.v[e]&&t.v[e].a1!=c.a1?(t.v[e].su(),delete t.v[e],t.v[e]=c):c.su()),n.A(!1);b=!0;if(t.m||l&&c&&!t.v[e])b=!1;if(b&&"smooth"===t.p.v1&&Cn())return an(n,tf(t,e,v,c),3);c&&c.su();return an(n,rf(t,u),3)}return n.A(!0)})}function of(n,t,e,i){if(t==z)var r=!1;else{r=tr(rr(n.I[t]));var u=ir(n.I[t]),a=$i(e,i),o=n.p.jd;if(!Dn(a)||!n.P&&sr.includes(a))o=!0;e=Qi(e,i);o&&(o=ci(e))&&(o=o(),a=o.qu(t,e),o.su());t=tr(rr(a));a=ir(a);r=r!==t||u!==a}return r?"smooth"!==n.p.v1||!Cn()||n.m:!1}var sf=L.URL.createObjectURL,ff="sequence";function ln(n,t,e){this.g=n;this.P=t;this.o=this.l=Infinity;this.h=1;this.i=this.v=null;this.p=0;this.C=!0;this.R=!1;this.N=0;this.I=void 0===e?!0:e;this.D=0;this.s=!1;this.m=n}n=ln.prototype;n.s1=function(){return this.l};n.m1=function(){return this.h};n.w1=function(n){this.g=n};n.o1=function(n){this.l=n};n.g1=function(){return this.g};n.b1=function(n){this.p=n};n.T1=function(n){n&&!this.C&&(this.R=!0);this.C=n};n.E1=function(n){this.o=n};n.S1=function(){return this.o};n.A1=function(n){this.P=n};n.M1=function(){return this.P};n.I1=function(n,t){if(0!=n.length){var e=(Date.now()+this.p)/1e3;n=n.filter(function(n){return n.start+t<e});if(0!=n.length){var i=n[n.length-1].end+t;this.N1(n[0].start+t);this.h=n.reduce(function(n,t){return Math.max(n,t.end-t.start)},this.h);this.i=Math.max(this.i,i);null!=this.g&&this.I&&!this.s&&(this.g=e-this.i-this.h)}}};n.P1=function(n){if(0!=n.length){var t=n[0].startTime,e=n[0].endTime,i=(Date.now()+this.p)/1e3;n=lt(n);for(var r=n.next();!r.done;r=n.next())r=r.value,i<r.startTime||(t=Math.min(t,r.startTime),e=Math.max(e,r.endTime),this.h=Math.max(this.h,r.endTime-r.startTime));this.N1(t);this.i=Math.max(this.i,e);null!=this.g&&this.I&&!this.s&&(this.g=i-this.i-this.h)}};n.R1=function(n,t){this.N1(n);Infinity==t||this.D1()||(this.i=Math.max(this.i,t))};n.C1=function(){return this.i};n._1=function(){this.s=!0};n.L1=function(){return this.s};n.O1=function(n){this.m=n};n.U1=function(){return this.m};n.N1=function(n){null==this.v?this.v=n:this.R||(this.v=Math.min(this.v,n))};n.F1=function(n){this.h=Math.max(this.h,n)};n.offset=function(n){null!=this.v&&(this.v+=n);null!=this.i&&(this.i+=n)};n.D1=function(){return Infinity==this.l&&!this.C};n.B1=function(){return Infinity!=this.l&&!this.C};n.X1=function(){return Math.max(this.N,this.H1()-this.o)};n.j1=function(n){this.N=n};n.H1=function(){return this.D1()||this.B1()?Math.min(Math.max(0,(Date.now()+this.p)/1e3-this.h-this.g)+this.D,this.l):this.i?Math.min(this.i,this.l):this.l};n.V1=function(n){var t=Math.max(this.v,this.N);return Infinity==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.H1()-this.o+n,this.G1()))};n.q1=function(){return this.V1(0)};n.G1=function(){return Math.max(0,this.H1()-(this.D1()||this.B1()?this.P:0))};n.K1=function(){return null==this.g||null!=this.i&&this.I?!1:!0};n.W1=function(n){this.D=n};n.z1=function(){return this.D};t("shaka.media.PresentationTimeline",ln);ln.prototype.Y1=ln.prototype.z1;ln.prototype.Q1=ln.prototype.W1;ln.prototype.J1=ln.prototype.K1;ln.prototype.Z1=ln.prototype.G1;ln.prototype.nv=ln.prototype.q1;ln.prototype.tv=ln.prototype.V1;ln.prototype.ev=ln.prototype.H1;ln.prototype.iv=ln.prototype.j1;ln.prototype.rv=ln.prototype.X1;ln.prototype.uv=ln.prototype.B1;ln.prototype.av=ln.prototype.D1;ln.prototype.offset=ln.prototype.offset;ln.prototype.ov=ln.prototype.F1;ln.prototype.sv=ln.prototype.N1;ln.prototype.fv=ln.prototype.U1;ln.prototype.cv=ln.prototype.O1;ln.prototype.lv=ln.prototype.L1;ln.prototype.hv=ln.prototype._1;ln.prototype.dv=ln.prototype.C1;ln.prototype.vv=ln.prototype.R1;ln.prototype.mv=ln.prototype.P1;ln.prototype.pv=ln.prototype.I1;ln.prototype.wv=ln.prototype.M1;ln.prototype.gv=ln.prototype.A1;ln.prototype.bv=ln.prototype.S1;ln.prototype.yv=ln.prototype.E1;ln.prototype.Tv=ln.prototype.T1;ln.prototype.Ev=ln.prototype.b1;ln.prototype.Sv=ln.prototype.g1;ln.prototype.Av=ln.prototype.o1;ln.prototype.kv=ln.prototype.w1;ln.prototype.Mv=ln.prototype.m1;ln.prototype.s1=ln.prototype.s1;function cf(n,t,e){this.v=e;this.l=n;this.s=df(n);this.i=n.i.currentTime;this.m=Date.now()/1e3;this.h=!1;this.o=0;this.p=t;this.g=function(){}}cf.prototype.release=function(){this.v=this.l=null;this.g=function(){}};function lf(n,t){n.g=t}function hf(n){this.i=n}function df(n){if(n.i.paused||0==n.i.playbackRate||0==n.i.buffered.length)var t=!1;else n:{t=n.i.currentTime;n=lt(Xo(n.i.buffered));for(var e=n.next();!e.done;e=n.next())if(e=e.value,!(t<e.start-.1||t>e.end-.5)){t=!0;break n}t=!1}return t}function vf(n,t,e,i,r){var u=this;this.p=r;this.i=n;this.C=t;this.m=e;this.l=new Mn;this.v=!1;this.I=n.readyState;this.P=this.g=0;this.h=i;this.s=!1;this.l.K(n,"waiting",function(){return mf(u)});this.o=new S(function(){mf(u)}).Bi(this.m.Iv)}vf.prototype.release=function(){this.l&&(this.l.release(),this.l=null);null!=this.o&&(this.o.stop(),this.o=null);this.h&&(this.h.release(),this.h=null);this.i=this.C=this.p=null};vf.prototype.Nv=function(){this.s=!0;mf(this)};function mf(n){if(0!=n.i.readyState){if(n.i.seeking){if(!n.v)return}else n.v=!1;if(!n.i.paused||n.i.currentTime==n.g&&(n.i.autoplay||n.i.currentTime!=n.g)){n.i.readyState!=n.I&&(n.I=n.i.readyState);var t;if(!(t=!n.h)){t=n.h;var e=t.l,i=df(e),r=e.i.currentTime,u=Date.now()/1e3;if(t.i!=r||t.s!=i)t.m=u,t.i=r,t.s=i,t.h=!1;r=u-t.m;if(i=r>=t.p&&i&&!t.h)t.g(t.i,r),t.h=!0,t.i=e.i.currentTime,t.o++,t.v(new A("stalldetected"));t=!i}if(t&&(t=n.i.currentTime,e=n.i.buffered,i=Bo(e,t,n.m.Pv),null!=i&&(0!=i||n.s))){r=e.start(i);if(navigator.userAgent.match(/Edge\//)||bt()||yt())r=Math.ceil(100*(r+n.m.Rv))/100;r>=n.C.G1()||.001>r-t||(0!=i&&e.end(i-1),n.i.currentTime=r,t==n.g&&(n.g=r),n.P++,n.p(new A("gapjumped")))}}}}function pf(n,t,e,i){t==HTMLMediaElement.HAVE_NOTHING||n.readyState>=t?i():(t=wf.value().get(t),e.W(n,t,i))}var wf=new ut(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function gf(n,t,e,i){var r=this;this.i=n;this.m=t;this.s=e;this.l=null;this.v=function(){null==r.l&&(r.l=i());return r.l};this.o=!1;this.h=new Mn;this.g=new Sf(n);pf(this.i,HTMLMediaElement.HAVE_METADATA,this.h,function(){Tf(r,r.v())})}gf.prototype.release=function(){this.h&&(this.h.release(),this.h=null);null!=this.g&&(this.g.release(),this.g=null);this.m=function(){};this.i=null};function bf(n){return n.o?n.i.currentTime:n.v()}function yf(n,t){0<n.i.readyState?Af(n.g,t):pf(n.i,HTMLMediaElement.HAVE_METADATA,n.h,function(){Tf(n,n.v())})}function Tf(n,t){.001>Math.abs(n.i.currentTime-t)?Ef(n):(n.h.W(n.i,"seeking",function(){Ef(n)}),Af(n.g,n.i.currentTime&&0!=n.i.currentTime?n.i.currentTime:t))}function Ef(n){n.o=!0;n.h.K(n.i,"seeking",function(){return n.m()});n.s(n.i.currentTime)}function Sf(n){var t=this;this.i=n;this.m=10;this.v=this.l=this.g=0;this.h=new S(function(){0>=t.g?t.h.stop():t.i.currentTime!=t.l||t.i.currentTime===t.v?t.h.stop():(t.i.currentTime=t.v,t.g--)})}Sf.prototype.release=function(){this.h&&(this.h.stop(),this.h=null);this.i=null};function Af(n,t){n.l=n.i.currentTime;n.v=t;n.g=n.m;n.i.currentTime=t;n.h.Bi(.1)}function kf(n){this.h=n;this.v=!1;this.i=null;this.g=new Mn}n=kf.prototype;n.ready=function(){function n(){if(null==e.i||0==e.i&&Infinity!=e.h.duration)e.v=!0;else{var n=e.h.currentTime,t=e.i;0>e.i&&(t=Math.max(0,n+e.i));n!=t?(e.g.W(e.h,"seeking",function(){e.v=!0}),e.h.currentTime=t):e.v=!0}}var e=this;pf(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.g,function(){n()})};n.release=function(){this.g&&(this.g.release(),this.g=null);this.h=null};n.Dv=function(n){this.i=this.v?this.i:n};n.Cv=function(){return(this.v?this.h.currentTime:this.i)||0};n._v=function(){return 0};n.Lv=function(){return 0};n.Ov=function(){};function Mf(n,t,e,i,r,u){var a=this;this.g=n;this.i=t.xv;this.C=t.Uv||0;this.l=e;this.p=r;this.s=null;this.o=Rf(n,e,u);this.v=new vf(n,t.xv,e,this.o,u);this.h=new gf(n,function(){n:{var n=a.v;n.v=!0;n.s=!1;var t=bf(a.h);n=Nf(a,t);if(.001<Math.abs(n-t)){t=!1;if(!St()||St()&&Ct())t=!0;else{var e=Date.now()/1e3,i=St()&&c("Fuchsia")?3:1;if(!a.s||a.s<e-i)a.s=e,t=!0}if(t){yf(a.h,n);n=void 0;break n}}a.p();n=void 0}return n},function(n){var t=a.v;t.i.seeking&&!t.v&&(t.v=!0,t.g=n)},function(){var n=i;null==n?n=Infinity>a.i.s1()?a.i.q1():a.i.G1():0>n&&(n=a.i.G1()+n);return If(a,Pf(a,n))});this.m=new S(function(){if(0!=a.g.readyState&&!a.g.paused){var n=bf(a.h),t=a.i.q1(),e=a.i.G1();3>e-t&&(t=e-3);n<t&&(n=Nf(a,n),a.g.currentTime=n)}})}n=Mf.prototype;n.ready=function(){this.m.Bi(.25)};n.release=function(){this.h&&(this.h.release(),this.h=null);this.v&&(this.v.release(),this.v=null);this.m&&(this.m.stop(),this.m=null);this.g=this.h=this.i=this.l=null;this.p=function(){}};n.Dv=function(n){yf(this.h,n)};n.Cv=function(){var n=bf(this.h);return 0<this.g.readyState&&!this.g.paused?Pf(this,n):n};n._v=function(){return this.o?this.o.o:0};n.Lv=function(){return this.v.P};n.Ov=function(){this.v.Nv()};function If(n,t){var e=n.i.s1();return t>=e?e-n.l.Fv:t}function Nf(n,t){var e=Math.max(n.C,n.l.Bv),i=n.l.Xv,r=n.i.q1(),u=n.i.G1(),a=n.i.s1();3>u-r&&(r=u-3);var o=n.i.V1(e),s=n.i.V1(i);e=n.i.V1(e+i);return t>=a?If(n,t):t>u?u-n.l.Hv:t<r?Uo(n.g.buffered,s)?s:e:t>=o||Uo(n.g.buffered,t)?t:e}function Pf(n,t){var e=n.i.q1();if(t<e)return e;n=n.i.G1();return t>n?n:t}function Rf(n,t,e){if(!t.jv)return null;var i=t.Vv;t=new cf(new hf(n),t.Gv,e);lf(t,function(){i?n.currentTime+=i:(n.pause(),n.play())});return t}function Y(n){this.i=n;this.m=null;this.g=0;this.o=!1}n=Y.prototype;n.Bd=function(){return this.i.length};n.qv=function(){return this.g};n.release=function(){this.o||(this.i=[],this.m&&this.m.stop(),this.m=null)};n.Kv=function(){this.o=!0};n.Wv=function(n){for(var t=lt(this.i),e=t.next();!e.done;e=t.next())n(e.value)};function Df(n){return n.i[0]||null}n.find=function(n){for(var t=this.i.length-1,e=t;0<=e;--e){var i=this.i[e],r=e<t?this.i[e+1].startTime:i.endTime;if(n>=i.startTime&&n<r)return e+this.g}return this.i.length&&n<this.i[0].startTime?this.g:null};n.get=function(n){if(0==this.i.length)return null;n-=this.g;return 0>n||n>=this.i.length?null:this.i[n]};n.offset=function(n){if(!this.o)for(var t=lt(this.i),e=t.next();!e.done;e=t.next())e.value.offset(n)};n.zv=function(n){if(!this.o&&n.length){var t=Math.round(1e3*n[0].startTime)/1e3;this.i=this.i.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t});this.i.push.apply(this.i,ht(n))}};n.Yv=function(n,t){var e=this;n=n.filter(function(n){return n.endTime>t&&(0==e.i.length||n.endTime>e.i[0].startTime)});this.zv(n);this.$v(t)};n.$v=function(t){if(!this.o){var n=this.i.length;this.i=this.i.filter(function(n){return n.endTime>t});this.g+=n-this.i.length}};n.Qv=function(n,t,e){e=void 0===e?!1:e;if(!this.o){for(;this.i.length;)if(this.i[this.i.length-1].startTime>=t)this.i.pop();else break;for(;this.i.length;)if(this.i[0].endTime<=n)this.i.shift(),e||this.g++;else break;0!=this.i.length&&(n=this.i[this.i.length-1],t=new O(n.startTime,t,n.P,n.Uh,n.Fh,n.Wh,n.timestampOffset,n.appendWindowStart,n.appendWindowEnd,n.i,n.Co,n.p,n.h,n.status,n.Hh),t.mimeType=n.mimeType,t.va=n.va,t.g=n.g,this.i[this.i.length-1]=t)}};n.Jv=function(n,t){var e=this;this.o||(this.m&&this.m.stop(),this.m=new S(function(){var n=t();n?e.i.push.apply(e.i,ht(n)):(e.m.stop(),e.m=null)}),this.m.Bi(n))};Y.prototype[Symbol.iterator]=function(){return this.Zv(0)};Y.prototype.Zv=function(n,t,e){t=void 0===t?!1:t;e=void 0===e?!1:e;var i=this.find(n);if(null==i)return null;var r=this.get(i);e?i++:i--;var u=-1;if(r&&0<r.i.length)for(var a=r.i.length-1;0<=a;--a){var o=r.i[a];if(n>=o.startTime&&n<o.endTime){if(!t){for(;a&&!o.l;)a--,o=r.i[a];if(!o.l)return bn("No independent partial segment found!"),null}e?i--:i++;u=a-1;break}}return new _f(this,i,u,e)};function Cf(n,t,e){n=new O(n,n+t,function(){return e},0,null,null,n,n,n+t);return new Y([n])}t("shaka.media.SegmentIndex",Y);Y.nm=Cf;Y.prototype.tm=Y.prototype.Zv;Y.prototype.im=Y.prototype.Jv;Y.prototype.rm=Y.prototype.Qv;Y.prototype.um=Y.prototype.$v;Y.prototype.am=Y.prototype.Yv;Y.prototype.offset=Y.prototype.offset;Y.prototype.get=Y.prototype.get;Y.prototype.find=Y.prototype.find;Y.prototype.om=Y.prototype.Kv;Y.prototype.release=Y.prototype.release;Y.prototype.qv=Y.prototype.qv;Y.prototype.Bd=Y.prototype.Bd;function _f(n,t,e,i){this.g=n;this.h=t;this.i=e;this.reverse=i}n=_f.prototype;n.sm=function(n){this.reverse=n};n.fm=function(){return this.h};n.current=function(){var n=this.g.get(this.h);n&&0<n.i.length&&n.s&&this.i>=n.i.length&&(this.h++,this.i=0,n=this.g.get(this.h));return n&&0<n.i.length?n.i[this.i]:n};n.next=function(){var n=this.g.get(this.h);this.reverse?n&&0<n.i.length?(this.i--,0>this.i&&(this.h--,this.i=(n=this.g.get(this.h))&&0<n.i.length?n.i.length-1:0)):(this.h--,this.i=0):n&&0<n.i.length?(this.i++,n.s&&this.i==n.i.length&&(this.h++,this.i=0)):(this.h++,this.i=0);n=this.current();return{value:n,done:!n}};n.lm=function(){var n=this.current();if(n.o&&!n.l&&(n=this.g.get(this.h))&&0<n.i.length)for(var t=n.i[this.i];t.l&&!(0>=this.i);)this.i--,t=n.i[this.i]};t("shaka.media.SegmentIterator",_f);_f.prototype.hm=_f.prototype.lm;_f.prototype.next=_f.prototype.next;_f.prototype.current=_f.prototype.current;_f.prototype.dm=_f.prototype.fm;_f.prototype.vm=_f.prototype.sm;function Lf(){Y.call(this,[]);this.h=[]}N(Lf,Y);n=Lf.prototype;n.clone=function(){var n=new Lf;n.h=this.h.slice();n.g=this.g;return n};n.release=function(){for(var n=lt(this.h),t=n.next();!t.done;t=n.next())t.value.release();this.h=[]};n.Wv=function(n){for(var t=lt(this.h),e=t.next();!e.done;e=t.next())e.value.Wv(n)};n.find=function(n){for(var t=this.g,e=lt(this.h),i=e.next();!i.done;i=e.next()){i=i.value;var r=i.find(n);if(null!=r)return r+t;t+=i.qv()+i.Bd()}return null};n.get=function(n){for(var t=this.g,e=lt(this.h),i=e.next();!i.done;i=e.next()){i=i.value;var r=i.get(n-t);if(r)return r;r=i.Bd();t+=i.qv()+r}return null};n.offset=function(){};n.zv=function(){};n.$v=function(n){for(var t=lt(this.h),e=t.next();!e.done;e=t.next())e.value.$v(n);for(;1<this.h.length&&0==this.h[0].Bd();)n=this.h.shift(),this.g+=n.qv(),n.release()};n.Yv=function(){};n.Qv=function(){};n.Jv=function(){};t("shaka.media.MetaSegmentIndex",Lf);Lf.prototype.im=Lf.prototype.Jv;Lf.prototype.rm=Lf.prototype.Qv;Lf.prototype.am=Lf.prototype.Yv;Lf.prototype.um=Lf.prototype.$v;Lf.prototype.pm=Lf.prototype.zv;Lf.prototype.offset=Lf.prototype.offset;Lf.prototype.get=Lf.prototype.get;Lf.prototype.find=Lf.prototype.find;Lf.prototype.wm=Lf.prototype.Wv;Lf.prototype.release=Lf.prototype.release;function Of(n){var t=this;this.i=n;this.v=!1;this.g=this.i.gm();this.h=new S(function(){t.i.bm(.25*t.g)})}Of.prototype.release=function(){this.set(this.ym());this.h&&(this.h.stop(),this.h=null);this.i=null};Of.prototype.set=function(n){this.g=n;xf(this)};Of.prototype.ym=function(){return this.i.ym()};function xf(n){n.h.stop();var t=n.v?0:n.g;if(0<=t)try{n.i.gm()!=t&&n.i.Tm(t);return}catch(e){}n.h.Bi(.25);0!=n.i.gm()&&n.i.Tm(0)}function Uf(n){var t=this;this.h=n;this.i=new Set;this.g=new S(function(){Ff(t,!1)}).Bi(.25)}Uf.prototype.release=function(){this.g.stop();for(var n=lt(this.i),t=n.next();!t.done;t=n.next())t.value.release();this.i.clear()};function Ff(n,t){for(var e=lt(n.i),i=e.next();!i.done;i=e.next())i.value.v(n.h.currentTime,t)}function Bf(){this.i=null;this.h=[]}function Xf(n,t){var e=0;n.i&&n.i.state==t&&(e+=n.i.duration);n=lt(n.h);for(var i=n.next();!i.done;i=n.next())i=i.value,e+=i.state==t?i.duration:0;return e}function Hf(n){function t(n){return{timestamp:n.timestamp,state:n.state,duration:n.duration}}for(var e=[],i=lt(n.h),r=i.next();!r.done;r=i.next())e.push(t(r.value));n.i&&e.push(t(n.i));return e}function jf(){this.g=this.h=null;this.i=[]}function Vf(n,t,e){n.g!=t&&(n.g=t,n.i.push({timestamp:Date.now()/1e3,id:t.id,type:"text",Em:e,ga:null}))}function Gf(){this.Sm=this.Am=this.s=this.p=this.R=this.C=this.o=this.v=this.N=this.P=this.g=this.Cl=this.El=this.Il=this.Pl=this.Nl=this.l=this.m=NaN;this.Sl=0;this.I=this.D=NaN;this.i=new Bf;this.h=new jf}function qf(n,t,e,i){this.m=n;this.g=t;this.l=e;this.h=new Map;this.v=new Map;this.i=null;this.o=i}function Kf(n,t){n.l=t;n=lt(n.h.values());for(var e=n.next();!e.done;e=n.next())e.value.i=t}function Wf(n,t,e){e=void 0===e?!1:e;if(!n.g.jo)return Promise.resolve();n.i||(n.i=n.g.jo.Zv(t,!0,n.o));if(!n.i)return Promise.resolve();e&&n.i.next();for(t=[];n.h.size<n.m;){e=n.i.next().value;if(!e)break;var i=!0;e.Vl()&&null!=e.Fh&&(i=!1);2==e.n0()&&(i=!1);e.Gh()&&(i=!1);i&&e.Wh&&t.push(zf(n,e.Wh));i&&!n.h.has(e)&&(i=new tc(n.l),t.push(ec(i,e,n.g)),n.h.set(e,i))}Qf(n);return Promise.all(t)}function zf(n,t){if(!n.g.jo||t.Gh()||Array.from(n.v.keys()).some(function(n){return Do(n,t)}))return Promise.resolve();var e=new tc(n.l),i=ec(e,t,n.g);n.v.set(t,e);return i}function Yf(n,t){t=lt(t.keys());for(var e=t.next();!e.done;e=t.next())(e=e.value)&&nc(n,e)}function $f(n){Yf(n,n.h);Yf(n,n.v);n.i=null}qf.prototype.$v=function(n,t){t=void 0===t?!1:t;for(var e=lt(this.h.keys()),i=e.next();!i.done;i=e.next())i=i.value,n>i.endTime&&nc(this,i);t&&Qf(this)};qf.prototype.sm=function(n){this.o=n;this.i&&this.i.sm(n)};function Qf(n){for(var t=Array.from(n.h.keys()),e=lt(n.v.keys()),i=e.next(),r={};!i.done;r={km:void 0},i=e.next())r.km=i.value,t.some(function(t){return function(n){return Do(n.Wh,t.km)}}(r))||nc(n,r.km)}function Jf(n,t){n.m=t;for(var e=Array.from(n.h.keys());e.length>t;){var i=e.pop();i&&nc(n,i)}Qf(n)}function Zf(n,t){t&&t!==n.g&&($f(n),n.g=t)}function nc(n,t){var e=n.h;t instanceof Ro&&(e=n.v);n=e.get(t);e["delete"](t);n&&n.abort()}function tc(n){this.i=n;this.Mm=this.Im=null}function ec(e,n,t){var i=new Uint8Array(0);e.Mm=e.i(n,t,function(t){return sn(function(n){if(1==n.i)return 0<i.byteLength?i=Bi(i,t):i=t,e.Im?an(n,e.Im(i),3):n.k(0);i=new Uint8Array(0);on(n)})});return e.Mm.promise["catch"](function(n){return n instanceof vt&&7001==n.code?Promise.resolve():Promise.reject(n)})}tc.prototype.abort=function(){this.Mm&&this.Mm.abort()};function ic(n){zu.call(this);var i=this;this.i=new Set;this.g=n;this.h=new S(function(){for(var n=i.g(),t=lt(i.i),e=t.next();!e.done;e=t.next())e=e.value,e.endTime<n.start&&(i.i["delete"](e),e=new A("regionremove",new Map([["region",e]])),i.dispatchEvent(e))}).Bi(2)}N(ic,zu);ic.prototype.release=function(){this.i.clear();this.h.stop();zu.prototype.release.call(this)};function rc(n){zu.call(this);this.i=new Map;this.h=n}N(rc,zu);rc.prototype.release=function(){this.i.clear();zu.prototype.release.call(this)};function uc(n,t){var e=n.i.get(t);e||(e={Nm:[],Pm:null,contentType:t},n.i.set(t,e));return e}function ac(n,t,e){var i=uc(n,t.contentType);sc(n,i);n={Bh:t,position:e};i=i.Nm;t=i.findIndex(function(n){return n.position>=e});0<=t?i.splice(t,i[t].position==e?1:0,n):i.push(n)}rc.prototype.v=function(n){for(var t=lt(this.i.values()),e=t.next();!e.done;e=t.next()){e=e.value;var i=e.Pm;n:{var r=e.Nm;for(var u=r.length-1;0<=u;u--){var a=r[u];if(a.position<=n){r=a.Bh;break n}}r=null}u=r&&!(i===r||i&&r&&i.ga==r.ga&&i.ya==r.ya&&i.va==r.va&&i.contentType==r.contentType&&i.La==r.La&&i.height==r.height&&i.mimeType==r.mimeType&&i.ba==r.ba&&i.To==r.To&&i.width==r.width);a=r&&i&&r.label&&i.label&&i.label!==r.label;var o=r&&i&&r.language&&i.language&&i.language!==r.language;i=r&&i&&r.Ta&&i.Ta&&!it(i.Ta,r.Ta);(a||o||i)&&oc(this,n,r.contentType)&&(e.Pm=r,i=new A("audiotrackchange",new Map([["quality",r],["position",n]])),this.dispatchEvent(i));u&&oc(this,n,r.contentType)&&(e.Pm=r,JSON.stringify(r),e=new A("qualitychange",new Map([["quality",r],["position",n]])),this.dispatchEvent(e))}};function oc(n,t,e){return(n=n.h()[e])&&0<n.length&&(e=n[n.length-1].end,t>=n[0].start&&t<e)?!0:!1}function sc(n,t){if((n=n.h()[t.contentType])&&0<n.length){var e=n[0].start,i=n[n.length-1].end,r=t.Nm;t.Nm=r.filter(function(n,t){return n.position<=e&&t+1<r.length&&r[t+1].position<=e||n.position>=i?!1:!0})}else t.Nm=[]}function fc(n){var t={ga:n.ga||0,ya:null,va:n.va,contentType:n.type,La:null,height:null,mimeType:n.mimeType,ba:null,To:null,width:null,label:null,Ta:n.Ta,language:null};"video"==n.type&&(t.La=n.La||null,t.height=n.height||null,t.To=n.To||null,t.width=n.width||null);"audio"==n.type&&(t.ya=n.ya,t.ba=n.ba,t.label=n.label||null,t.language=n.language);return t}function cc(n){var t=ir(n),e=t.split("/")[0];n=rr(n);return{type:e,mimeType:t,va:n,language:null,height:null,width:null,channelCount:null,sampleRate:null,Rm:new Map,Z0:null,ho:null,La:null}}function lc(n,t){function e(n){p=n.name;var t=n.cl;t.jc(24);var e=t.Uc(),i=t.Uc();t.jc(50);l=String(e);s=String(i);n.cl._c()&&k(n)}function i(n){var t=ts(n.cl);h=t.channelCount;d=t.sampleRate;r(n.name)}function r(n){n=n.toLowerCase();switch(n){case"avc1":case"avc3":f.push(n+".42E01E");c=!0;break;case"hev1":case"hvc1":f.push(n+".1.6.L93.90");c=!0;break;case"dvh1":case"dvhe":f.push(n+".05.04");c=!0;break;case"vp09":f.push(n+".00.10.08");c=!0;break;case"av01":f.push(n+".0.01M.08");c=!0;break;case"mp4a":u.push("mp4a.40.2");a=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":u.push(n),a=!0}}var u=[],f=[],a=!1,c=!1,o=null,s=null,l=null,h=null,d=null,v=null,m=null,p;(new ba).ul("moov",k).ul("trak",k).ul("mdia",k).al("mdhd",function(n){o=Zo(n.cl,n.version).language}).ul("minf",k).ul("stbl",k).al("stsd",ya).ul("mp4a",function(n){var t=ts(n.cl);h=t.channelCount;d=t.sampleRate;n.cl._c()?k(n):r(n.name)}).ul("esds",function(n){n=n.cl;for(var t="mp4a",e,i;n._c();){e=n.xc();for(var r=n.xc();r&128;)r=n.xc();if(3==e)n.Uc(),r=n.xc(),r&128&&n.Uc(),r&64&&n.jc(n.xc()),r&32&&n.Uc();else if(4==e)i=n.xc(),n.jc(12);else if(5==e)break}i&&(t+="."+rs(i),5==e&&n._c()&&(e=n.xc(),i=(e&248)>>3,31===i&&n._c()&&(i=32+((e&7)<<3)+((n.xc()&224)>>5)),t+="."+i));u.push(t);a=!0}).ul("ac-3",i).ul("ec-3",i).ul("ac-4",i).ul("Opus",i).ul("fLaC",i).ul("avc1",e).ul("avc3",e).ul("hev1",e).ul("hvc1",e).ul("dva1",e).ul("dvav",e).ul("dvh1",e).ul("dvhe",e).ul("vp09",e).ul("av01",e).ul("avcC",function(n){var t=p||"";switch(p){case"dvav":t="avc3";break;case"dva1":t="avc1"}n=n.cl;n.jc(1);n=t+"."+rs(n.xc())+rs(n.xc())+rs(n.xc());f.push(n);c=!0}).ul("hvcC",function(n){var t=p||"";switch(p){case"dvh1":t="hvc1";break;case"dvhe":t="hev1"}var e=n.cl;e.jc(1);n=e.xc();var i=["","A","B","C"][n>>6],r=n&31,u=e.Fc(),a=(n&32)>>5?"H":"L";n=[e.xc(),e.xc(),e.xc(),e.xc(),e.xc(),e.xc()];e=e.xc();for(var o=0,s=0;32>s;s++){o|=u&1;if(31==s)break;o<<=1;u>>=1}t=t+("."+i+r)+("."+rs(o,!0));t+="."+a+e;i="";for(r=n.length;r--;)if((a=n[r])||i)i="."+a.toString(16).toUpperCase()+i;t+=i;f.push(t);c=!0}).ul("dvcC",function(n){var t=p||"";switch(p){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var e=n.cl;e.jc(2);n=e.xc();e=e.xc();f.push(t+"."+us(n>>1&127)+"."+us(n<<5&32|e>>3&31));c=!0}).ul("dvvC",function(n){var t=p||"";switch(p){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var e=n.cl;e.jc(2);n=e.xc();e=e.xc();f.push(t+"."+us(n>>1&127)+"."+us(n<<5&32|e>>3&31));c=!0}).al("vpcC",function(n){var t=p||"",e=n.cl;n=e.xc();var i=e.xc();e=e.xc()>>4&15;f.push(t+"."+us(n)+"."+us(i)+"."+us(e));c=!0}).ul("av1C",function(n){var t=p||"";switch(p){case"dav1":t="av01"}var e=n.cl;e.jc(1);n=e.xc();e=e.xc();var i=n>>>5,r=(e&64)>>6;f.push(t+"."+i+"."+us(n&31)+(e>>>7?"H":"M")+"."+us(2===i&&r?(e&32)>>5?12:10:r?10:8)+"."+((e&16)>>4)+"."+((e&8)>>3)+((e&4)>>2)+(e&3)+"."+us(1)+"."+us(1)+"."+us(1)+".0");c=!0}).ul("enca",Ea).ul("encv",Ta).ul("sinf",k).ul("frma",function(n){n=es(n.cl).J0;r(n)}).ul("colr",function(s){f=f.map(function(n){if(n.startsWith("av01.")){var t=s.cl,e=t.Lc(),i=t.Hc(4);var r=String.fromCharCode(i[0]);r+=String.fromCharCode(i[1]);r+=String.fromCharCode(i[2]);r+=String.fromCharCode(i[3]);if("nclx"===r){i=t.Uc();r=t.Uc();var u=t.Uc(),a=t.xc()>>7,o=n.split(".");10==o.length&&(o[6]=us(i),o[7]=us(r),o[8]=us(u),o[9]=String(a),n=o.join("."))}t.Gc(e)}return n});var n=is(s.cl),t=n.ho;v=n.Z0;m=t}).parse(n||t,!0);if(!u.length&&!f.length)return null;var w=a&&!c,g=new Map;if(c){var b=new zn("video/mp4");n&&b.init(n);try{b.g(t);for(var y=lt(b.v()),T=y.next();!T.done;T=y.next()){var E=T.value;g.set(E,E)}}catch(S){}b.i()}return{type:w?"audio":"video",mimeType:w?"audio/mp4":"video/mp4",va:hc(u.concat(f)).join(", "),language:o,height:s,width:l,channelCount:h,sampleRate:d,Rm:g,Z0:v,ho:m,La:null}}function hc(n){var t=new Set,e=[];n=lt(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=er(i);t.has(r)||(e.push(i),t.add(r))}t=qi("audio",e);i=qi("video",e);n=qi(z,e);i=dc(i);t=t.concat(i).concat(n);return e.length&&!t.length?e:t}function dc(n){if(1>=n.length)return n;var t=n.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?Dn('video/mp4; codecs="'+t+'"')?[t]:n.filter(function(n){return n!=t}):n}function vc(n){var t=null;(new ba).ul("moov",k).ul("trak",k).ul("mdia",k).ul("minf",k).ul("stbl",k).al("stsd",ya).ul("encv",Ta).ul("enca",Ea).ul("sinf",k).ul("schi",k).al("tenc",function(n){n=n.cl;n.xc();n.xc();n.xc();n.xc();t=Fi(n.Hc(16))}).parse(n,!0);return t}function mc(t,e,i){var r,u,a,o,s;return sn(function(n){if(1==n.i)return r=e,r.Dm?n.k(2):an(n,r.Cm(),3);u=r._m;if(!u)for(u=dt(new ArrayBuffer(16)),a=r.Lm+i,o=u.byteLength-1;0<=o;o--)u[o]=a&255,a>>=8;"CBC"==e.Om?s={name:"AES-CBC",_m:u}:s={name:"AES-CTR",xm:u,length:64};return n.A(L.crypto.subtle.decrypt(s,r.Dm,t))})}function pc(n,t,e,i,r){n=na(n,i,r);if(0!=t||null!=e)n.headers.Range=e?"bytes="+t+"-"+e:"bytes="+t+"-";return n}function wc(n,t){var e=this;this.i=t;this.l=n;this.h=null;this.D=new Map;this.C=1;this.s=this.v=null;this.R=0;this.g=new Map;this.I=!1;this.Sl=null;this.p=!1;this.m=new ca(function(){return gc(e)});this.Il=Date.now()/1e3;this.o=new Map;this.N={Um:null,Fm:null};this.Nl=0;this.Pl=Infinity;this.P=null}n=wc.prototype;n.su=function(){return this.m.su()};function gc(t){var e,i,r,u,a,o,s;return sn(function(n){if(1==n.i){e=[];i=lt(t.g.values());for(r=i.next();!r.done;r=i.next())u=r.value,zc(u),e.push(Yc(u)),u.Bm&&($f(u.Bm),u.Bm=null);a=lt(t.o.values());for(o=a.next();!o.done;o=a.next())s=o.value,$f(s);return an(n,Promise.all(e),2)}t.g.clear();t.o.clear();t.i=null;t.l=null;t.h=null;on(n)})}n.B=function(n){this.h=n;this.Sl=new Ou({ks:Math.max(n.Uf.ks,2),Ms:n.Uf.Ms,Ns:n.Uf.Ns,Is:n.Uf.Is,timeout:0,Ps:0,Rs:0},!0);if(n.Xm){var t=this.g.get("audio");t&&t.Bm&&($f(t.Bm),t.Bm=null);t=lt(this.o.keys());for(var e=t.next();!e.done;e=t.next())e=e.value,$f(this.o.get(e)),this.o["delete"](e)}n.Hm&&(t=this.g.get(z))&&t.Bm&&($f(t.Bm),t.Bm=null);n.jm&&(t=this.g.get("video"))&&t.Bm&&($f(t.Bm),t.Bm=null);t=lt(this.g.keys());for(e=t.next();!e.done;e=t.next())e=this.g.get(e.value),e.Bm?(Jf(e.Bm,n.Vm),0<n.Vm||($f(e.Bm),e.Bm=null)):0<n.Vm&&(e.Bm=Dc(this,e.stream));n.Xm||Cc(this)};function bc(n,t,e){n.l.xv.D1()||(n.Nl=t,n.Pl=e)}n.start=function(t){var e=this;return sn(function(n){if(1==n.i)return an(n,Pc(e,t||new Map),2);la(e.m);e.I=!0;on(n)})};function yc(t,e){var i,r,u,a,o,s,f;sn(function(n){switch(n.i){case 1:return i=Ki,t.R++,r=t.R,q(n,2),an(n,Vs(t.i.Gm,i.Xu),4);case 4:K(n,3);break;case 2:if(u=W(n),t.i)t.i.Al(u);case 3:a=$i(e.mimeType,e.va),_s(t.i.Gm,a,t.l.qm,e.external),o=t.i.Gm.Tl,(s=o.Km()||t.h.Wm)&&t.R==r&&(f=Rc(t,e),t.g.set(i.Xu,f),Wc(t,f,0)),on(n)}})}function Tc(n){var t=n.g.get(z);t&&(zc(t),Yc(t)["catch"](function(){}),n.P=n.g.get(z),n.g["delete"](z));n.s=null}function Ec(n,t){for(var e=0>n.i.zm(),i=lt(n.g.values()),r=i.next();!r.done;r=i.next())r=r.value,r.Ym&&r.Ym.sm(e),r.Bm&&r.Bm.sm(e);i=lt(n.o.values());for(r=i.next();!r.done;r=i.next())r.value.sm(e);if(e=n.g.get("video"))if(i=e.stream)if(t)(t=i.Wo)&&!e.$m&&(Mc(n,t,!1,0,!1),e.$m=i);else if(t=e.$m)e.$m=null,Mc(n,t,!0,0,!1)}function Sc(n,t,e,i,r,u){e=void 0===e?!1:e;i=void 0===i?0:i;r=void 0===r?!1:r;u=void 0===u?!1:u;n.v=t;n.I&&(t.Gu&&Mc(n,t.Gu,e,i,r,u),t.Vu&&Mc(n,t.Vu,e,i,r,u))}function Ac(t,e){sn(function(n){if(1==n.i)return t.P=null,t.s=e,t.I?e.jo?n.k(2):an(n,e.Fd(),2):n.A();Mc(t,e,!0,0,!1);on(n)})}function kc(n,t){for(var e=lt(n.D.entries()),i=e.next();!i.done;i=e.next()){var r=lt(i.value);i=r.next().value;r=r.next().value;i.includes(t.type)&&(r(),n.D["delete"](i))}}function Mc(t,n,e,i,r,u){var a=t.g.get(n.type);a||n.type!=z?a&&(a.$m&&(n.Wo?(a.$m=n,n=n.Wo):a.$m=null),a.stream!=n||r)&&(t.o.has(n)?a.Bm=t.o.get(n):a.Bm&&Zf(a.Bm,n),n.type==z&&(r=$i(n.mimeType,n.va),_s(t.i.Gm,r,t.l.qm,n.external)),!t.o.has(a.stream)&&a.stream.Qm&&(a.Jm?(r="("+a.type+":"+a.stream.id+")",t.D.has(r)||t.D.set(r,a.stream.Qm)):a.stream.Qm()),r=a.stream.Hd!=n.Hd,a.stream=n,a.Ym=null,a.Zm=!!u,r?Qc(t,!0,!1):(e?a.cd?a.np=!0:a.Jm?(a.tp=!0,a.ep=i,a.np=!0):(zc(a),Kc(t,a,!0,i)["catch"](function(n){if(t.i)t.i.Al(n)})):a.Jm||a.ip||Wc(t,a,0),Ic(t,a)["catch"](function(n){if(t.i)t.i.Al(n)}))):yc(t,n)}function Ic(u,a){var o,s;return sn(function(n){if(1==n.i){if(!a.rp)return n.A();o=a.stream;s=a.rp;return o.jo?n.k(2):an(n,o.Fd(),2)}if(a.rp!=s||a.stream!=o)return n.A();var t=u.i.up();var e=xs(u.i.Gm,a.type),i=a.stream.jo.find(a.ap?a.ap.endTime:t),r=null==i?null:a.stream.jo.get(i);i=r?r.Fh?r.Fh-r.Uh:null:null;r&&!i&&(i=(r.endTime-r.getStartTime())*(a.stream.ga||0)/8);i?((r=r.Wh)&&(i+=(r.Fh?r.Fh-r.Uh:null)||0),r=u.i.G(),t=8*i/r<(e||0)-t-Math.max(u.l.Uv||0,u.h.Bv)||a.rp.h.i>i?!0:!1):t=!1;t&&a.rp.abort();on(n)})}n.op=function(){if(this.i)for(var n=this.i.up(),t=lt(this.g.keys()),e=t.next();!e.done;e=t.next()){var i=e.value;e=this.g.get(i);var r=this.i.Gm;i==z?(r=r.h,r=null==r.i||null==r.h?!1:n>=r.i&&n<r.h):(r=Fs(r,i),r=Uo(r,n));if(!r){e.Bm&&(e.Bm.i=null);if("audio"===e.type){r=lt(this.o.values());for(var u=r.next();!u.done;u=r.next())u.value.i=null}e.Ym=null;(null!=xs(this.i.Gm,i)||e.Jm)&&Nc(this,e);e.rp&&(e.rp.abort(),e.rp=null);i===z&&(i=this.i.Gm,i.Sl&&i.Sl.i());e.op=!0}}};function Nc(t,n){n.cd||n.tp||(n.Jm?(n.tp=!0,n.ep=0):null==Os(t.i.Gm,n.type)?null==n.ip&&Wc(t,n,0):(zc(n),Kc(t,n,!1,0)["catch"](function(n){if(t.i)t.i.Al(n)})))}function Pc(i,t){var e,r,u,a,o,s,f,c,l,h;return sn(function(n){if(1==n.i){e=Ki;if(!i.v)throw new vt(2,5,5006);r=new Map;u=new Set;i.v.Vu&&(r.set(e.Bu,i.v.Vu),u.add(i.v.Vu));i.v.Gu&&(r.set(e.Fu,i.v.Gu),u.add(i.v.Gu));i.s&&(r.set(e.Xu,i.s),u.add(i.s));a=i.i.Gm;return an(n,a.init(r,i.l.qm,i.l.type,i.l.sp),2)}la(i.m);i.fp();o=lt(r.keys());for(s=o.next();!s.done;s=o.next())f=s.value,c=r.get(f),i.g.has(f)||(l=Rc(i,c),t.has(c.id)&&(h=t.get(c.id),Kf(h,function(n,t,e){return qc(n,t,e||null,i.h.Uf,i.i.jl)}),l.Bm=h),i.g.set(f,l),Wc(i,l,0));on(n)})}function Rc(n,t){return{stream:t,type:t.type,Ym:null,Bm:Dc(n,t),ap:null,cp:null,lp:null,hp:null,dp:null,$m:null,endOfStream:!1,Jm:!1,ip:null,tp:!1,ep:0,np:!1,cd:!1,op:!0,vp:!1,mp:!1,rp:null}}function Dc(i,n){if("video"===n.type&&i.h.jm||"audio"===n.type&&i.h.Xm||n.type===z&&("application/cea-608"==n.mimeType||"application/cea-708"==n.mimeType)||n.type===z&&i.h.Hm)return null;if(i.o.has(n))return i.o.get(n);var t=i.g.get(n.type);return(t=t&&t.Bm)&&n===t.g?t:0<i.h.Vm?new qf(i.h.Vm,n,function(n,t,e){return qc(n,t,e||null,i.h.Uf,i.i.jl)},0>i.i.zm()):null}function Cc(n){for(var t=n.h.Vm,e=n.h.pp,i=lt(n.l.ma),r=i.next(),u={};!r.done;u={wp:void 0},r=i.next())if(u.wp=r.value,u.wp.Vu)if(n.o.has(u.wp.Vu)){if(r=n.o.get(u.wp.Vu),Jf(r,t),!(0<t&&e.some(function(t){return function(n){return Er(t.wp.Vu.language,n)}}(u)))){var a=n.g.get(u.wp.Vu.type);r!==(a&&a.Bm)&&$f(r);n.o["delete"](u.wp.Vu)}}else 0>=t||!e.some(function(t){return function(n){return Er(t.wp.Vu.language,n)}}(u))||!(r=Dc(n,u.wp.Vu))||(u.wp.Vu.jo||u.wp.Vu.Fd(),n.o.set(u.wp.Vu,r))}n.fp=function(){var n=this.l.xv.s1();Infinity>n?this.i.Gm.o1(n):this.i.Gm.o1(this.h.gp?Infinity:Math.pow(2,32))};function _c(t,e){var i,r,u,a,o,s;return sn(function(n){switch(n.i){case 1:la(t.m);if(e.Jm||null==e.ip||e.cd)return n.A();e.ip=null;if(!e.tp){n.k(2);break}return an(n,Kc(t,e,e.np,e.ep),3);case 3:return n.A();case 2:kc(t,e);if(e.stream.jo){n.k(4);break}i=e.stream;q(n,5);return an(n,e.stream.Fd(),7);case 7:K(n,6);break;case 5:return r=W(n),an(n,$c(t,e,r),8);case 8:return n.A();case 6:if(i!=e.stream)return i.Qm&&i.Qm(),e.Jm||e.ip||Wc(t,e,0),n.A();case 4:q(n,9);u=Lc(t,e);null!=u&&(Wc(t,e,u),e.mp=!1);K(n,10);break;case 9:return a=W(n),an(n,$c(t,e,a),11);case 11:return n.A();case 10:o=Array.from(t.g.values());if(!t.I||!o.every(function(n){return n.endOfStream})){n.k(0);break}return an(n,t.i.Gm.endOfStream(),13);case 13:la(t.m),s=t.i.Gm.s1(),0!=s&&s<t.l.xv.s1()&&t.l.xv.o1(s),on(n)}})}function Lc(n,t){if(Vc(t))return Hs(n.i.Gm,t.stream.Ho||""),null;t.type==z&&js(n.i.Gm);if(t.stream.Hd)return null;if(!Cs(n.i.Gm)&&t.type!=z)return n.h.bp/2;var e=n.i.up();if("audio"===t.type)for(var i=lt(n.o.keys()),r=i.next();!r.done;r=i.next())r=n.o.get(r.value),r.$v(e,!0),Wf(r,e);i=t.ap?t.ap.endTime:e;var u=Us(n.i.Gm,t.type,e),a=Math.max(1,Math.max(n.l.Uv||0,n.h.Bv,n.h.yp)*n.C),o=n.l.xv.s1()-i;r=xs(n.i.Gm,t.type);if(1e-6>o&&r)return t.endOfStream=!0,"video"==t.type&&(n=n.g.get(z))&&Vc(n)&&(n.endOfStream=!0),null;t.endOfStream=!1;if(u>=a)return n.h.bp/2;a=!t.Ym;r=Oc(n,t,e,r);if(!r)return n.h.bp;u=!1;a&&t.Zm&&(u=!0,t.Zm=!1);a=Infinity;o=Array.from(n.g.values());o=lt(o);for(var s=o.next();!s.done;s=o.next())s=s.value,Vc(s)||s.Ym&&!s.Ym.current()||(a=Math.min(a,s.ap?s.ap.endTime:e));if(i>=a+n.l.xv.h)return n.h.bp;t.Bm&&t.Ym&&!n.o.has(t.stream)&&(t.Bm.$v(r.startTime),Wf(t.Bm,r.startTime));xc(n,t,e,r,u)["catch"](function(){});return null}function Oc(n,t,e,i){if(t.Ym)return t.Ym.current();if(t.ap||i)return e=t.ap?t.ap.endTime:i,n=0>n.i.zm(),t.stream.jo&&(t.Ym=t.stream.jo.Zv(e,!1,n)),t.Ym&&t.Ym.next().value;i=n.l.qm?0:n.h.Tp;var r=Math.max(e-i,0);n=0>n.i.zm();var u=null;i&&(t.stream.jo&&(t.Ym=t.stream.jo.Zv(r,!1,n)),u=t.Ym&&t.Ym.next().value);u||(t.stream.jo&&(t.Ym=t.stream.jo.Zv(e,!1,n)),u=t.Ym&&t.Ym.next().value);return u}function xc(a,o,s,f,c){var t,l,e,i,r,u,h,d,v,m,p,w,g,b,y,T,E;return sn(function(n){switch(n.i){case 1:t=Ki;l=o.stream;e=o.Ym;o.Jm=!0;q(n,2);if(2==f.n0())throw new vt(1,1,1011);return an(n,Bc(a,o,f,c),4);case 4:la(a.m);if(a.p)return n.A();i="video/mp4"==l.mimeType||"audio/mp4"==l.mimeType;r=L.ReadableStream;if((u=a.h.Ep&&a.l.Sp)&&r&&i&&("HLS"!=a.l.type||f.m))return v=new Uint8Array(0),p=m=!1,g=function(t){var e,i,r,u;return sn(function(n){switch(n.i){case 1:if(m)return n.A();p=!0;la(a.m);if(a.p)return n.A();q(n,2);v=Uc(v,t);e=!1;i=0;(new ba).ul("mdat",function(n){i=n.size+n.start;e=!0}).parse(v,!1,!0);if(!e){n.k(4);break}r=v.subarray(0,i);v=v.subarray(i);return an(n,Hc(a,o,s,l,f,r,!0,c),5);case 5:o.Bm&&o.Ym&&Wf(o.Bm,f.startTime,!0);case 4:K(n,0);break;case 2:w=u=W(n),on(n)}})},an(n,Gc(a,o,f,g),9);h=Gc(a,o,f);return an(n,h,7);case 7:d=n.h;la(a.m);if(a.p)return n.A();la(a.m);return o.tp?(o.Jm=!1,Wc(a,o,0),n.A()):an(n,Hc(a,o,s,l,f,d,!1,c),6);case 9:b=n.h;if(w)throw w;if(p){n.k(10);break}m=!0;la(a.m);return a.p?n.A():o.tp?(o.Jm=!1,Wc(a,o,0),n.A()):an(n,Hc(a,o,s,l,f,b,!1,c),10);case 10:o.Bm&&o.Ym&&Wf(o.Bm,f.startTime,!0);case 6:la(a.m);if(a.p)return n.A();o.ap=f;e.next();o.Jm=!1;o.vp=!1;y=a.i.Gm.Wd();T=y[o.type];En(JSON.stringify(T));o.tp||a.i.Nv(f,o.stream);Wc(a,o,0);K(n,0);break;case 2:E=W(n);la(a.m,E);if(a.p)return n.A();o.Jm=!1;if(7001==E.code)o.Jm=!1,zc(o),Wc(a,o,0),n.k(0);else if(o.type==t.Xu&&a.h.Ap)a.g["delete"](t.Xu),n.k(0);else{if(3017==E.code)return an(n,Fc(a,o,E),0);o.mp=!0;1==E.category&&o.Bm&&nc(o.Bm,f);E.kn=2;return an(n,$c(a,o,E),0)}}})}function Uc(n,t){var e=new Uint8Array(n.length+t.length);e.set(n);e.set(t,n.length);return e}function Fc(t,e,i){var r,u,a,o,s,f;return sn(function(n){if(1==n.i){r=Array.from(t.g.values());if(u=r.some(function(n){return n!=e&&n.vp}))return n.k(2);a=0===t.h.kp&&1011==i.code?1:t.h.kp;if(o=t.i.Mp(e.stream,a))return n.A();s=Math.round(100*t.C);if(20<s)t.C-=.2;else if(4<s)t.C-=.04;else return e.mp=!0,t.p=!0,t.i.Al(i),n.A();e.vp=!0;f=t.i.up();return an(n,jc(t,e,f),2)}Wc(t,e,4);on(n)})}function Bc(s,f,c,l){var h,t,e,i,r,u,a,o,d,v,m,p,w,g,b,y;return sn(function(n){switch(n.i){case 1:h=Ki;t=null==f.ap;e=[];i=Math.max(0,Math.max(c.appendWindowStart,s.Nl)-.1);r=Math.min(c.appendWindowEnd,s.Pl)+.01;u=c.va||f.stream.va;a=er(u);o=ir(c.mimeType||f.stream.mimeType);d=c.timestampOffset;if(d==f.lp&&i==f.hp&&r==f.dp&&a==f.Ip&&o==f.Np){n.k(2);break}v=f.Ip&&f.Np&&of(s.i.Gm,f.type,o,u);if(!v){n.k(3);break}m=null;f.type===h.Fu?m=s.g.get(h.Bu):f.type===h.Bu&&(m=s.g.get(h.Fu));if(!m){n.k(3);break}return an(n,Yc(m)["catch"](function(){}),5);case 5:m.cp=null,m.hp=null,m.dp=null,Nc(s,m);case 3:return an(n,Xc(s,f,d,i,r,c,a,o),2);case 2:return Do(c.Wh,f.cp)||(f.cp=c.Wh,c.l&&c.Wh&&(p=Gc(s,f,c.Wh),w=function(){var t,e,i,r,u,a,o;return sn(function(n){switch(n.i){case 1:return q(n,2),an(n,p,4);case 4:return t=n.h,la(s.m),e=null,i=new Map,r={Um:null,Fm:null},u=new ba,u.ul("moov",k).ul("trak",k).ul("mdia",k).al("mdhd",function(n){e=Zo(n.cl,n.version).Xh}).ul("hdlr",function(n){n=n.cl;n.jc(8);switch(n.qc()){case"soun":i.set(h.Bu,e);break;case"vide":i.set(h.Fu,e)}e=null}).ul("minf",k).ul("stbl",k).al("stsd",ya).ul("encv",Ta).ul("avc1",Ta).ul("avc3",Ta).ul("hev1",Ta).ul("hvc1",Ta).ul("dvav",Ta).ul("dva1",Ta).ul("dvh1",Ta).ul("dvhe",Ta).ul("dvc1",Ta).ul("dvi1",Ta).ul("vexu",k).ul("proj",k).al("prji",function(n){n=n.cl.qc();r.Um=n}).ul("hfov",function(n){n=n.cl.Fc()/1e3;r.Fm=n}).parse(t),Jc(s,r),i.has(f.type)?c.Wh.Xh=i.get(f.type):null!=e&&(c.Wh.Xh=e),a=f.stream.Rm&&0<f.stream.Rm.size,an(n,s.i.Pp(f.type,t),5);case 5:return an(n,Xs(s.i.Gm,f.type,t,null,f.stream,a,f.op,l),6);case 6:K(n,0);break;case 2:throw o=W(n),f.cp=null,o}})},g=c.startTime,t&&(b=xs(s.i.Gm,f.type),null!=b&&(g=b)),s.i.Rp(g,c.Wh),e.push(w()))),y=f.ap?f.ap.g:null,c.g!=y&&e.push(qs(s.i.Gm,f.type,c.startTime)),an(n,Promise.all(e),0)}})}function Xc(t,e,i,r,u,a,o,s){var f,c,l,h;return sn(function(n){if(1==n.i)return f=Ki,c=new Map,t.v.Vu&&c.set(f.Bu,t.v.Vu),t.v.Gu&&c.set(f.Fu,t.v.Gu),q(n,2),e.hp=r,e.dp=u,o&&(e.Ip=o),s&&(e.Np=s),e.lp=i,l=t.l.qm||"HLS"==t.l.type,an(n,Gs(t.i.Gm,e.type,i,r,u,l,a.mimeType||e.stream.mimeType,a.va||e.stream.va,c),4);if(2!=n.i)return K(n,0);h=W(n);e.hp=null;e.dp=null;e.Ip=null;e.Np=null;e.lp=null;throw h})}function Hc(s,f,t,e,c,i,r,u){r=void 0===r?!1:r;u=void 0===u?!1:u;var a,o,l,h,d,v;return sn(function(n){switch(n.i){case 1:return a=e.Rm&&0<e.Rm.size,s.h.Dp&&(l="video/mp4"==e.mimeType||"audio/mp4"==e.mimeType,h=null,c.Wh&&(h=c.Wh.Xh),(d=l&&h&&"video"===e.type&&"DASH"==s.l.type)&&(o=new ba),d&&o.ul("moof",k).ul("traf",k).al("tfdt",function(t){var e,i,r,u,a,o;return sn(function(n){e=Jo(t.cl,t.version);i=e.q0;if(!i)return n.A();r=-i/h;u=Number(f.lp)||0;if(!(u<r))return n.k(0);a=f.hp;o=f.dp;return an(n,Xc(s,f,r,a,o,c),0)})}),d&&o.parse(i,!1,r)),an(n,jc(s,f,t),2);case 2:return la(s.m),v=f.op,f.op=!1,an(n,s.i.Pp(f.type,i),3);case 3:return an(n,Xs(s.i.Gm,f.type,i,c,e,a,v,u,r),4);case 4:la(s.m),on(n)}})}function jc(t,e,i){var r,u,a,o,s;return sn(function(n){if(1==n.i){r=e.stream.jo;r instanceof Lf&&r.$v(t.l.xv.q1());u=Math.max(t.h.Cp*t.C,t.l.xv.h);a=Os(t.i.Gm,e.type);if(null==a)return t.P==e&&(t.P=null),n.A();o=i-a;s=o-u;return s<=t.h._p?n.A():an(n,t.i.Gm.remove(e.type,a,a+s),2)}if(4!=n.i)return la(t.m),t.P?an(n,jc(t,t.P,i),4):n.k(0);la(t.m);on(n)})}function Vc(n){return n&&n.type==z&&("application/cea-608"==n.stream.mimeType||"application/cea-708"==n.stream.mimeType)}function Gc(i,r,u,a){var o,s,f,c,l;return sn(function(n){switch(n.i){case 1:if(o=u.Gh())return n.A(o);s=null;if(r.Bm){var t=r.Bm,e=t.h;u instanceof Ro&&(e=t.v);e.has(u)?(t=e.get(u),a&&(t.Im=a),s=t.Mm):s=null}s||(s=qc(u,r.stream,a||null,i.h.Uf,i.i.jl));f=0;r.Ym&&(f=r.Ym.h);r.rp=s;return an(n,s.promise,2);case 2:c=n.h;r.rp=null;l=c.data;if(!u.Hh){n.k(3);break}return an(n,mc(l,u.Hh,f),4);case 4:l=n.h;case 3:return n.A(l)}})}function qc(n,t,e,i,r,u){u=void 0===u?!1:u;var a=n instanceof O?n:void 0,o=a?1:0;n=pc(n.xh(),n.Uh,n.Fh,i,e);n.contentType=t.type;return r.request(oa,n,{type:o,stream:t,Yf:a,Vl:u})}function Kc(t,e,i,r){var u,a;return sn(function(n){if(1==n.i)return e.tp=!1,e.np=!1,e.ep=0,e.cd=!0,e.ap=null,e.Ym=null,e.Bm&&!t.o.has(e.stream)&&$f(e.Bm),r?(u=t.i.up(),a=t.i.Gm.s1(),an(n,t.i.Gm.remove(e.type,u+r,a),3)):an(n,Vs(t.i.Gm,e.type),4);if(3!=n.i)return la(t.m),i?an(n,t.i.Gm.flush(e.type),3):n.k(3);la(t.m);e.cd=!1;e.endOfStream=!1;e.Jm||e.ip||Wc(t,e,0);on(n)})}function Wc(e,i,n){var t=i.type;if(t!=z||e.g.has(t))i.ip=new mt(function(){var t;return sn(function(n){if(1==n.i)return q(n,2),an(n,_c(e,i),4);if(2!=n.i)return K(n,0);t=W(n);if(e.i)e.i.Al(t);on(n)})}).Ui(n)}function zc(n){null!=n.ip&&(n.ip.stop(),n.ip=null)}function Yc(t){return sn(function(n){return t.rp?an(n,t.rp.abort(),0):n.k(0)})}function $c(t,e,i){var r;return sn(function(n){if(1==n.i)return an(n,xu(t.Sl),2);la(t.m);if(1===i.category&&1003!=i.code){if(e.$m)return Ec(t,!1),n.A();r=0===t.h.kp&&1011==i.code?1:t.h.kp;i.Mn=t.i.Mp(e.stream,r);i.Mn&&(i.kn=1)}if(!i.Mn||1011!=i.code)t.i.Al(i);i.Mn||t.h.Lp(i);on(n)})}function Qc(t,e,i){e=void 0===e?!1:e;i=void 0===i?!0:i;var r,u,a,o,s,f;return sn(function(n){if(1==n.i){r=Date.now()/1e3;u=t.h.Op;if(!e){if(!t.h.xp||r-t.Il<u)return n.A(!1);t.Il=r}a=Ki;if(o=t.g.get(a.Bu))o.cp=null,o.hp=null,o.dp=null,i&&Nc(t,o),Yc(o)["catch"](function(){}),o.Ym&&o.Ym.lm();if(s=t.g.get(a.Fu))s.cp=null,s.hp=null,s.dp=null,i&&Nc(t,s),Yc(s)["catch"](function(){}),s.Ym&&s.Ym.lm();f=new Map;t.v.Vu&&f.set(a.Bu,t.v.Vu);t.v.Gu&&f.set(a.Fu,t.v.Gu);return an(n,rf(t.i.Gm,f),2)}!s||s.Jm||s.ip||Wc(t,s,0);!o||o.Jm||o.ip||Wc(t,o,0);return n.A(!0)})}function Jc(n,t){if(n.N.Um!=t.Um||n.N.Fm!=t.Fm){if(null!=t.Um||null!=t.Fm){var e=(new Map).set("detail",t);e=new A("spatialvideoinfo",e)}else e=new A("nospatialvideoinfo");e.cancelable=!0;n.i.uh(e);n.N=t}}function Zc(){}function nl(n,t,e,i,r){var u=r in i;var a=u?e.constructor==Object&&0==Object.keys(i).length:e.constructor==Object&&0==Object.keys(e).length;var o=u||a,s=!0,f;for(f in t){var c=r+"."+f,l=u?i[r]:e[f];o||f in e?void 0===t[f]?void 0===l||o?delete n[f]:n[f]=te(l):a?n[f]=t[f]:l.constructor==Object&&t[f]&&t[f].constructor==Object?(n[f]||(n[f]=te(l)),c=nl(n[f],t[f],l,i,c),s=s&&c):typeof t[f]!=typeof l||null==t[f]||"function"!=typeof t[f]&&t[f].constructor!=l.constructor?(bn("Invalid config, wrong type for "+c),s=!1):("function"==typeof e[f]&&e[f].length!=t[f].length&&M("Unexpected number of arguments for "+c),n[f]=t[f]):(bn("Invalid config, unrecognized key "+c),s=!1)}return s}function tl(n,t){for(var e={},i=e,r=0,u=0;;){r=n.indexOf(".",r);if(0>r)break;if(0==r||"\\"!=n[r-1])u=n.substring(u,r).replace(/\\\./g,"."),i[u]={},i=i[u],u=r+1;r+=1}i[n.substring(u).replace(/\\\./g,".")]=t;return e}function el(n,t){return n&&t}function il(n,t){function i(n){for(var t=lt(Object.keys(n)),e=t.next();!e.done;e=t.next())e=e.value,o(n[e])&&0===Object.keys(n[e]).length?delete n[e]:a(n[e])?delete n[e]:"function"==typeof n[e]?delete n[e]:o(n[e])&&(i(n[e]),0===Object.keys(n[e]).length&&delete n[e])}function u(i,r){return Object.keys(i).reduce(function(n,t){var e=i[t];if(r.hasOwnProperty(t))if(o(e)&&o(r[t])){if(e=u(e,r[t]),0<Object.keys(e).length||!o(e))n[t]=e}else a(e)&&a(r[t])||Number.isNaN(e)&&Number.isNaN(r[t])||e!==r[t]&&(n[t]=e);else n[t]=e;return n},{})}function a(n){return Array.isArray(n)&&0===n.length}function o(n){return n&&"object"===typeof n&&!Array.isArray(n)}n=u(n,t);i(n);return n}t("shaka.util.ConfigUtils",Zc);Zc.Up=il;Zc.Fp=tl;Zc.Bp=nl;function rl(){}function ul(n){n=jt(n);return new wi(n).yu}function al(n,t,e){function i(n){qn(u).setUint32(a,n.byteLength,!0);a+=4;u.set(dt(n),a);a+=n.byteLength}if(!e||!e.byteLength)throw new vt(2,6,6015);var r;"string"==typeof t?r=Gt(t,!0):r=t;n=jt(n);n=Gt(n,!0);var u=new Uint8Array(12+n.byteLength+r.byteLength+e.byteLength),a=0;i(n);i(r);i(e);return u}function ol(n,t,e){if("skd"!==t)return n;t=e.Oi;e=jt(n).split("skd://").pop();return al(n,e,t)}function sl(n,t){2===n&&(t.headers["rh"]="application/octet-stream")}t("shaka.util.FairPlayUtils",rl);rl.Xp=function(n,t){if(2===n){try{var e=Xt(t.data)}catch(r){return}n=!1;e=e.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6),n=!0);try{var i=JSON.parse(e);i.ckc&&(e=i.ckc,n=!0);i.CkcMessage&&(e=i.CkcMessage,n=!0);i.License&&(e=i.License,n=!0)}catch(r){}n&&(t.data=Vn(xi(e)))}};rl.Hp=function(n,t){sl(n,t)};rl.jp=function(n,t){sl(n,t)};rl.Vp=function(n,t){sl(n,t)};rl.Gp=function(n,t){2===n&&(n=dt(t.body),n=Oi(n),t.headers["rh"]="application/x-www-form-urlencoded",t.body=Vt("spc="+n))};rl.qp=function(n,t,e){return ol(n,t,e)};rl.Kp=function(n,t,e){if("skd"!==t)return n;t=e.Oi;e=jt(n).split("skd://").pop().split("?").shift();e=L.atob(e);var i=new ArrayBuffer(2*e.length);i=Gn(i);for(var r=0,u=e.length;r<u;r++)i[r]=e.charCodeAt(r);return al(n,i,t)};rl.Wp=function(n,t,e){if("skd"!==t)return n;t=e.Oi;e=jt(n).split(";").pop();return al(n,e,t)};rl.zp=function(n,t,e){return ol(n,t,e)};rl.th=al;rl.Yp=ul;rl.$p=function(){var t;return sn(function(n){if(1==n.i)return t={lh:["cenc","sinf","skd"],xl:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},q(n,2),an(n,navigator.requestMediaKeySystemAccess("com.apple.fps",[t]),4);if(2!=n.i)return n.A(!0);W(n);return n.A(!1)})};function fl(){}function cl(){var n=Infinity;navigator.connection&&navigator.connection.saveData&&(n=360);var t={Uf:Uu(),Ul:{},Ql:{},$o:{},Jl:!1,nh:!1,Ll:[],th:function(n,t,e){Ot()&&"skd"==t&&(t=e.Oi,e=ul(n),n=al(n,e,t));return n},eh:!1,_l:1,Bl:[],Fl:{},Hl:bt(),Yl:"",ql:!c("Tizen 2")};(bt()||It())&&t.Bl.push("com.microsoft.playready");var e="reload",i=!1;!Cn()||yt()||It()||Mt()||Et()&&79===At()||!(!St()||St()&&Ct()||St()&&c("Fuchsia"))||Dt()&&gt()||(e="smooth",i=!0);i={Uf:Uu(),Qp:NaN,Jp:!1,Zp:!1,nw:!1,tw:!1,ew:!1,iw:0,rw:!1,uw:!1,aw:!0,ow:{sw:"",fw:!1,cw:!0,lw:!1,hw:!1,dw:!0,mw:1e3,pw:!1,ww:!1,gw:!1,bw:{yw:"org.w3.clearkey",Tw:"org.w3.clearkey",Ew:"com.widevine.alpha",Sw:"com.microsoft.playready",Aw:"com.microsoft.playready",kw:"com.apple.fps"},Mw:dl,Iw:vl,qm:!1,Nw:i,Pw:!1,Rw:-1,Dw:!0},Cw:{Ap:!1,_w:!1,Lw:"mp4a.40.2",Ow:"avc1.42E01E",xw:!1,Uw:[],Fw:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',Bw:3,qm:Tt()||c("Tizen 2")||Et()&&38===At()||It()?!1:!0,sp:!1,Xw:!1,Hw:!1,Rw:-1,jw:!0},Vw:{Mw:dl,Iw:vl,qm:!1,Gw:{qw:"com.microsoft.playready",Kw:"com.microsoft.playready"}}};var r={Uf:Uu(),Lp:function(n){return el([n])},Bv:2,yp:10,Cp:30,_p:1,Ap:!1,Wm:!1,Ww:!1,Pv:.5,Rv:.01,Iv:.25,Fv:1,Xv:5,Hv:0,jv:!0,Gv:1,Vv:.1,zw:!0,Tp:2,Ep:!1,Yw:!1,$w:!1,Qw:!1,Wf:16e3,Jw:!1,bp:1,Zw:!1,kp:30,Vm:0,pp:[],Xm:!1,Hm:!1,jm:!1,n2:{enabled:!1,t2:.5,e2:.5,i2:1.1,u2:.95,a2:!1,o2:60,s2:{enabled:!1,f2:60,c2:.5,ks:10,l2:4,h2:1}},xp:!0,Op:5,d2:!1,v2:.95,m2:.5,gp:!1,w2:30,g2:30,b2:It()||Mt(),yh:!1,Dp:Et()||yt()};if(Et()||yt()||St()||Nt())r.Vv=0;yt()&&(r.Rv=2);var u={T2:function(t){return sn(function(n){return n.A(t)})},E2:function(t){var e;return sn(function(n){if(1==n.i)return navigator.storage&&navigator.storage.estimate?an(n,navigator.storage.estimate(),3):n.A(!0);e=n.h;return n.A(e.usage+t<.95*e.quota)})},S2:function(n,t){return el([n,t])},A2:!0,M2:5};n={enabled:!0,Yo:!0,ls:1e6,gs:8,os:.85,us:.95,rs:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:n,Ua:0,Fa:Infinity,Ba:0,Xa:Infinity,Va:0,Ga:Infinity,Ha:0,ja:Infinity},$o:{X:128e3,H:16e3,j:2,V:5},ns:!1,ts:!1,es:!1,Jo:!1,Zo:0,fs:20,bs:kt()?.5:0,hs:!1};e={v1:e,Vd:function(n){return el([n],"")},jd:!1,c1:!0,Gd:function(n,t){return el([n,t])},$d:!1};var a=!1,o=!1,s=!0;_t()&&(o=a=!0,s=!1);var f={bh:t,manifest:i,Th:r,I2:e,N2:u,P2:function(){return new hu},R2:n,D2:3,C2:"",_2:"",L2:"",O2:"",U2:"",F2:2,B2:"AUTO",X2:"",H2:"",Eh:[],Sh:[],kh:[],j2:!1,V2:!1,Ah:[],rs:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,Ua:0,Fa:Infinity,Ba:0,Xa:Infinity,Va:0,Ga:Infinity,Ha:0,ja:Infinity},G2:0,q2:Infinity,K2:{W2:.25},z2:function(){return null},Y2:{enabled:!1,sessionId:"",Q2:"",J2:5,Z2:!1,ng:[]},tg:{enabled:!0,eg:!0,ig:.5},rg:{enabled:!1,ug:!0,ag:0,og:!1},sg:{fg:a,cg:o,lg:s,hg:!1,dg:!1},vg:!1};u.T2=function(t){return sn(function(n){return n.A(hl(t,f.C2,f.B2))})};return f}function ll(n,t,e){var i={mg:"",pg:"",wg:"",gg:{Di:!1,Ci:!1,_i:"",Li:"",Cu:"",Oi:new Uint8Array(0),xi:"",ih:"",headers:{}}};return nl(n,t,e||cl(),i,"")}function hl(n,t,e){var i=e;"AUTO"==i&&(i=L.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR");var r=n.filter(function(n){return"variant"!=n.type||n.Ku&&n.Ku!=i?!1:!0});e=[];var u=Pr(t,r.map(function(n){return n.language}));u&&(e=r.filter(function(n){return kr(n.language)==u}));0==e.length&&(e=r.filter(function(n){return n.Io}));0==e.length&&(r.map(function(n){return n.language}),e=r);var a=e.filter(function(n){return n.height&&480>=n.height});a.length&&(a.sort(function(n,t){return t.height-n.height}),e=a.filter(function(n){return n.height==a[0].height}));t=[];e.length&&(r=Math.floor(e.length/2),e.sort(function(n,t){return n.ga-t.ga}),t.push(e[r]));n=lt(n);for(e=n.next();!e.done;e=n.next())e=e.value,e.type!=z&&"image"!=e.type||t.push(e);return t}function dl(n){return el([n],n)}function vl(n){return el([n],n)}t("shaka.util.PlayerConfiguration",fl);fl.Bp=ll;fl.bg=cl;function ml(n,t,e,i){zu.call(this);this.Pl=n;this.El=t;this.xd=i.yg;this.C=e;this.o=null;this.Rd=0;this.Od=i.Tg;this.I=i.Eg;this.Cd=i.Sg;this.i=i.Ag;this.v=this.D=this.h=null;this.Ml=!1;this.N=i.kg;this.Ud=!1;this.l=null;this.Dl=!1;this.g=this.P=null;this.kl=!1;this.Il=new Map;this._d=!1;this.Dd=i.Mg;this.Rl=new Gf;this.Tl=new Fu;this.m=new Fu;this.Nl=null;this.s=!1;this.Pd=i.Ig;this.yl=null;this.Ld=i.Ng;this.Cl=!1;this.Sl=[];this.R=[];this.p=!0}N(ml,zu);function pl(n,t,e){(n=t?n.R:n.Sl)?n.push(e):e()}function wl(n){if(n.R)for(var t=lt(n.R),e=t.next();!e.done;e=t.next())e=e.value,e();n.R=null}function gl(n,t){n.Nl=t;n.Cl=!0;if(n.Sl){t=lt(n.Sl);for(var e=t.next();!e.done;e=t.next())e=e.value,e()}n.Sl=null}n=ml.prototype;n.getStartTime=function(){return this.C};n.Pg=function(){return this.Pl};n.Rg=function(){return this.h};function bl(n){n.kl=!0;return n.g}function yl(n){n.Ud=!0;return n.N}n.getStats=function(){return this.Rl};function Tl(n){n.Dl=!0;return n.l}function El(n){n._d=!0;return n.Il}n.start=function(){var e=this;(function(){var t;return sn(function(n){switch(n.i){case 1:return an(n,Promise.resolve(),2);case 2:return q(n,3),an(n,kl(e),5);case 5:return Sl(e),an(n,Ml(e),6);case 6:return Sl(e),an(n,Il(e),7);case 7:return Sl(e),an(n,Ja(e.l),8);case 8:Sl(e);e.m.resolve();K(n,0);break;case 3:t=W(n),t instanceof vt&&(7001==t.code||7003==t.code)||e.m.reject(t),on(n)}})})()};n.dispatchEvent=function(n){return this.Nl?this.Nl.dispatchEvent(n):zu.prototype.dispatchEvent.call(this,n)};n.Al=function(n){2===n.kn&&(this.m.reject(n),this.su());var t=(new Map).set("detail",n);t=new A("error",t);this.dispatchEvent(t);t.defaultPrevented&&(n.Mn=!0)};function Sl(n){if(n.s)throw new vt(2,7,7003)}function Al(n,t){n.dispatchEvent(new A("onstatechange",(new Map).set("state",t)))}function kl(t){var e,i,r,u;return sn(function(n){switch(n.i){case 1:Al(t,"manifest-parser");t.v||(t.D=Ao(t.Pl,t.El),t.v=t.D(),t.v.B(t.i.manifest,function(){return t.p}));e=Date.now()/1e3;Al(t,"manifest");if(t.h){n.k(2);break}return an(n,t.v.start(t.Pl,t.Cd),3);case 3:t.h=n.h;case 2:return t.Tl.resolve(),i=new A("manifestparsed",void 0),an(n,Promise.resolve(),4);case 4:t.dispatchEvent(i);if(0==t.h.ma.length)throw new vt(2,4,4036);Pl(t.h);r=Date.now()/1e3;u=r-e;t.Rl.N=u;on(n)}})}function Ml(t){var e,i,r,u,a;return sn(function(n){switch(n.i){case 1:Al(t,"drm-engine");t.Rd=Date.now()/1e3;t.l=t.Od();t.I.h=t.l;t.l.B(t.i.bh,function(){return t.p});e=go(t.I,t.h);if(!e){n.k(2);break}i=new A("trackschanged",void 0);return an(n,Promise.resolve(),3);case 3:Sl(t),t.dispatchEvent(i);case 2:return r=iu(t.h.ma),an(n,La(t.l,r,t.h.qa),4);case 4:return Sl(t),an(n,wo(t.I,t.h),5);case 5:u=n.h;if(!u){n.k(0);break}a=new A("trackschanged",void 0);return an(n,Promise.resolve(),7);case 7:t.dispatchEvent(a),on(n)}})}n.B=function(n,t){n=tl(n,t);ll(this.i,n)};n.getConfiguration=function(){return te(this.i)};function Il(t){var e,i,r,u,a,o;return sn(function(n){t.o||(t.o=new Tu(t.i.C2,t.i.O2,t.i.F2,t.i.B2,t.i.V2,t.i.X2,t.i._2,t.i.H2,t.i.I2.v1,""));t.Ld&&(e=t.i.P2,t.P=e,t.g=e(),t.g.B(t.i.R2));if(!t.Pd)return n.k(0);i=t.h.xv.D1();r=iu(t.h.ma);u=t.o.create(r);t.g.B(t.i.R2);t.g.ds(Array.from(u.values()));a=t.g.Qo();if(!a)return n.k(0);o=[];t.yl=a;a.Gu&&o.push(Nl(t,a.Gu,i));a.Vu&&o.push(Nl(t,a.Vu,i));return an(n,Promise.all(o),0)})}function Nl(i,t,e){var r,u,a,o,s;return sn(function(n){if(1==n.i)return r=i.i.Th.Vm||2,u=new qf(r,t,function(n,t,e){return qc(n,t,e||null,i.i.Th.Uf,i.xd,i.p)},!1),i.Il.set(t.id,u),an(n,t.Fd(),2);a=i.C||0;(s=(o=t.jo.Zv(a))?o.current():null)||(s=Df(t.jo));return s?e?s.Wh?an(n,zf(u,s.Wh),0):n.k(0):an(n,Wf(u,s.startTime),0):n.k(0)})}n.Dg=function(){return this.m};n.su=function(){var t=this,e,i,r;return sn(function(n){switch(n.i){case 1:t.s=!0;if(!t.v||t.Ml){n.k(2);break}return an(n,t.v.stop(),2);case 2:if(!t.g||t.kl){n.k(4);break}return an(n,t.g.stop(),4);case 4:t.N&&!t.Ud&&t.N.release();if(!t.l||t.Dl){n.k(6);break}return an(n,t.l.su(),6);case 6:if(0<t.Il.size&&!t._d)for(e=lt(t.Il.values()),i=e.next();!i.done;i=e.next())r=i.value,$f(r);on(n)}})};function Pl(n){function t(n){return n.Gu&&n.Vu||n.Gu&&n.Gu.va.includes(",")}n.ma.some(t)&&(n.ma=n.ma.filter(t))}t("shaka.media.PreloadManager",ml);ml.prototype.su=ml.prototype.su;ml.prototype.Cg=ml.prototype.Dg;function Rl(n,t){zu.call(this);var e=this;this.g=n;this.l=t;this.i=new Map;this.m=[{_g:null,Lg:_l,Og:function(n,t){return Dl(e,"enter",n,t)}},{_g:Cl,Lg:_l,Og:function(n,t){return Dl(e,"enter",n,t)}},{_g:Ll,Lg:_l,Og:function(n,t){return Dl(e,"enter",n,t)}},{_g:_l,Lg:Cl,Og:function(n,t){return Dl(e,"exit",n,t)}},{_g:_l,Lg:Ll,Og:function(n,t){return Dl(e,"exit",n,t)}},{_g:Cl,Lg:Ll,Og:function(n,t){return Dl(e,"skip",n,t)}},{_g:Ll,Lg:Cl,Og:function(n,t){return Dl(e,"skip",n,t)}}];this.h=new Mn;this.h.K(this.g,"regionremove",function(n){e.i["delete"](n.region)})}N(Rl,zu);Rl.prototype.release=function(){this.g=null;this.i.clear();this.h.release();this.h=null;zu.prototype.release.call(this)};Rl.prototype.v=function(n,t){if(!this.l||0!=n){this.l=!1;for(var e=lt(this.g.i),i=e.next();!i.done;i=e.next()){i=i.value;var r=this.i.get(i),u=n<i.startTime?Cl:n>i.endTime?Ll:_l;this.i.set(i,u);for(var a=lt(this.m),o=a.next();!o.done;o=a.next())o=o.value,o._g==r&&o.Lg==u&&o.Og(i,t)}}};function Dl(n,t,e,i){t=new A(t,new Map([["region",e],["seeking",i]]));n.dispatchEvent(t)}var Cl=1,_l=2,Ll=3;function Ol(e,i,r){var u,a,o,s,f,c,l;return sn(function(n){switch(n.i){case 1:var t=new wi(e).Eu.split("/").pop().split(".");u=1==t.length?"":t.pop().toLowerCase();if(a=xl[u])return n.A(a);o=0;s=na([e],r);q(n,2);s.method="HEAD";return an(n,i.request(o,s).promise,4);case 4:f=n.h;a=f.headers["xg"];K(n,3);break;case 2:c=W(n);if(!c||1002!=c.code&&1001!=c.code){n.k(3);break}s.method="GET";return an(n,i.request(o,s).promise,6);case 6:l=n.h,a=l.headers["xg"];case 3:return n.A(a?a.toLowerCase().split(";").shift():"")}})}var xl={Ug:"video/mp4",Fg:"video/mp4",Bg:"audio/mp4",Xg:"video/webm",Hg:"audio/webm",jg:"video/webm",Vg:"video/mp2t",Gg:"video/ogg",qg:"audio/ogg",Kg:"video/mpeg",Wg:"video/mpeg",zg:"application/x-mpegurl",Yg:"application/dash+xml",$g:"application/vnd.ms-sstr+xml",Qg:"audio/mpeg",Jg:"audio/aac",Zg:"audio/flac",nb:"audio/wav",tb:"text/x-subviewer",eb:"text/srt",ib:"text/vtt",rb:"text/vtt",ub:"application/ttml+xml",ab:"application/x-subtitle-lrc",ob:"text/x-ssa",sb:"text/x-ssa",fb:"image/jpeg",cb:"image/png",lb:"image/svg+xml",hb:"image/webp",vb:"image/avif"};function Ul(t,n){if(t.lineBreak)return"\n";if(t.pr.length)return t.pr.map(function(n){return Ul(n,t)}).join("");if(!t.sr)return t.sr;var e=[],i=t.fontWeight>=ei,r=t.fontStyle==ri,u=t.textDecoration.includes(ai);i&&e.push(["b"]);r&&e.push(["i"]);u&&e.push(["u"]);r=t.color;""==r&&n&&(r=n.color);i="";(r=Fl(r))&&(i+="."+r);r=t.backgroundColor;""==r&&n&&(r=n.backgroundColor);(n=Fl(r))&&(i+=".bg_"+n);i&&e.push(["c",i]);return e.reduceRight(function(n,t){var e=lt(t);t=e.next().value;e=e.next().value;return"<"+t+(void 0===e?"":e)+">"+n+"</"+t+">"},t.sr)}function Fl(n){n=n.toLowerCase();var t=n.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);t?n="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):n.startsWith("#")&&7<n.length&&(n=n.slice(0,7));switch(n){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Bl(n,t){var e=[];n=lt(Xl(n));for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.wr)e.push.apply(e,ht(Bl(i.pr,i)));else{var r=i.clone();r.pr=[];r.sr=Ul(i,t);e.push(r)}return e}function Xl(n){var t=[];n=lt(n);for(var e=n.next(),i={};!e.done;i={mb:void 0},e=n.next())i.mb=e.value,t.some(function(t){return function(n){return Ue(t.mb,n)}}(i))||t.push(i.mb);return t}function Hl(n){function t(n){for(var t=5381,e=n.length;e;)t=33*t^n.charCodeAt(--e);return(t>>>0).toString()}if(n.startTime>=n.endTime)return null;var e=new VTTCue(n.startTime,n.endTime,n.sr);e.id=t(n.startTime.toString())+t(n.endTime.toString())+t(n.sr);e.lineAlign=n.lineAlign;e.positionAlign=n.positionAlign;n.size&&(e.size=n.size);try{e.align=n.textAlign}catch(i){}"center"==n.textAlign&&"center"!=e.align&&(e.align="middle");"vertical-lr"==n.writingMode?e.vertical="lr":"vertical-rl"==n.writingMode&&(e.vertical="rl");1==n.cr&&(e.snapToLines=!1);null!=n.line&&(e.line=n.line);null!=n.position&&(e.position=n.position);return e}function jl(n){if(Infinity===n.endTime||n.endTime<n.startTime)return null;var t=new Oe(n.startTime,n.endTime,n.text);t.line="number"===typeof n.line?n.line:null;n.lineAlign&&(t.lineAlign=n.lineAlign);t.cr=n.snapToLines?$e:1;t.position="number"===typeof n.position?n.position:null;n.positionAlign&&(t.positionAlign=n.positionAlign);t.size=n.size;t.textAlign=n.align;"lr"===n.vertical?t.writingMode="vertical-lr":"rl"===n.vertical&&(t.writingMode="vertical-rl");n.region&&(t.region.id=n.region.id,t.region.height=n.region.lines,t.region.bn=2,t.region.regionAnchorX=n.region.regionAnchorX,t.region.regionAnchorY=n.region.regionAnchorY,t.region.scroll=n.region.scroll,t.region.viewportAnchorX=n.region.viewportAnchorX,t.region.viewportAnchorY=n.region.viewportAnchorY,t.region.wn=Jn,t.region.width=n.region.width,t.region.gn=Jn);Fe(t);return t}function Vl(n,t){this.i=null;for(var e=lt(Array.from(n.textTracks)),i=e.next();!i.done;i=e.next())i=i.value,"metadata"!==i.kind&&"chapters"!==i.kind&&(i.mode="disabled",i.label==t&&(this.i=i));this.i||(this.i=n.addTextTrack("subtitles",t));this.i.mode="hidden"}n=Vl.prototype;n.B=function(){};n.remove=function(t,e){if(!this.i)return!1;Gl(this.i,function(n){return n.startTime<e&&n.endTime>t});return!0};n.append=function(n){if(this.i){var t=Bl(n),e=[];n=this.i.cues?Array.from(this.i.cues):[];t=lt(t);for(var i=t.next(),r={};!i.done;r={pb:void 0},i=t.next())r.pb=i.value,!n.some(function(t){return function(n){return n.startTime==t.pb.startTime&&n.endTime==t.pb.endTime&&n.text==t.pb.sr?!0:!1}}(r))&&r.pb.sr&&(i=Hl(r.pb))&&e.push(i);n=e.slice().sort(function(n,t){return n.startTime!=t.startTime?n.startTime-t.startTime:n.endTime!=t.endTime?n.endTime-t.startTime:"line"in VTTCue.prototype?e.indexOf(t)-e.indexOf(n):e.indexOf(n)-e.indexOf(t)});n=lt(n);for(t=n.next();!t.done;t=n.next())this.i.addCue(t.value)}};n.su=function(){this.i&&(Gl(this.i,function(){return!0}),this.i.mode="disabled");this.i=null;return Promise.resolve()};n.Km=function(){return this.i?"showing"==this.i.mode:!1};n.wb=function(n){this.i&&(this.i.mode=n?"showing":"hidden")};n.gb=function(){};function Gl(n,t){var e=n.mode;n.mode="showing"==e?"showing":"hidden";for(var i=lt(Array.from(n.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&n.removeCue(r);n.mode=e}t("shaka.text.SimpleTextDisplayer",Vl);Vl.prototype.gb=Vl.prototype.gb;Vl.prototype.wb=Vl.prototype.wb;Vl.prototype.Km=Vl.prototype.Km;Vl.prototype.su=Vl.prototype.su;Vl.prototype.append=Vl.prototype.append;Vl.prototype.remove=Vl.prototype.remove;Vl.prototype.B=Vl.prototype.B;function ql(){}n=ql.prototype;n.B=function(){};n.remove=function(){};n.append=function(){};n.su=function(){};n.Km=function(){return!1};n.wb=function(){};n.gb=function(){};t("shaka.text.StubTextDisplayer",ql);ql.prototype.gb=ql.prototype.gb;ql.prototype.wb=ql.prototype.wb;ql.prototype.Km=ql.prototype.Km;ql.prototype.su=ql.prototype.su;ql.prototype.append=ql.prototype.append;ql.prototype.remove=ql.prototype.remove;ql.prototype.B=ql.prototype.B;function Kl(n,t){var e=this;document.fullscreenEnabled||M("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen");this.m=!1;this.h=[];this.p=n;this.s=t;this.l=null;this.i=document.createElement("div");this.i.classList.add("shaka-text-container");this.i.style.textAlign="center";this.i.style.display="flex";this.i.style.flexDirection="column";this.i.style.alignItems="center";this.i.style.justifyContent="flex-end";this.s.appendChild(this.i);this.P=new S(function(){e.p.paused||Yl(e)}).Bi(.25);this.g=new Map;this.v=new Mn;this.v.K(document,"fullscreenchange",function(){Yl(e,!0)});this.v.K(this.p,"seeking",function(){Yl(e,!0)});this.v.K(this.p,"resize",function(){var n=e.p,t=n.videoWidth;n=n.videoHeight;t&&n?e.l=t/n:e.l=null});this.o=null;"ResizeObserver"in L&&(this.o=new ResizeObserver(function(){Yl(e,!0)}),this.o.observe(this.i));this.C=new Map}n=Kl.prototype;n.B=function(n){this.P&&this.P.Bi(n.W2)};n.append=function(n){var t=[].concat(ht(this.h));n=lt(Xl(n));for(var e=n.next(),i={};!e.done;i={bb:void 0},e=n.next())i.bb=e.value,t.some(function(t){return function(n){return Ue(n,t.bb)}}(i))||this.h.push(i.bb);Yl(this)};n.su=function(){if(!this.i)return Promise.resolve();this.s.removeChild(this.i);this.i=null;this.m=!1;this.h=[];this.P&&this.P.stop();this.g.clear();this.v&&(this.v.release(),this.v=null);this.o&&(this.o.disconnect(),this.o=null);return Promise.resolve()};n.remove=function(t,e){if(!this.i)return!1;var n=this.h.length;this.h=this.h.filter(function(n){return n.startTime<t||n.endTime>=e});Yl(this,n>this.h.length);return!0};n.Km=function(){return this.m};n.wb=function(n){this.m=n;Yl(this,!0)};n.gb=function(n){n&&"und"!=n?this.i.setAttribute("lang",n):this.i.setAttribute("lang","")};function Wl(n,t){for(;null!=t;){if(t==n.i)return!0;t=t.parentElement}return!1}function zl(n,t,e,i,r){var u=!1,a=[],o=[];t=lt(t);for(var s=t.next();!s.done;s=t.next()){s=s.value;r.push(s);var f=n.g.get(s),c=s.startTime<=i&&s.endTime>i,l=f?f.yb:null;f&&(a.push(f.Tb),f.Eb&&a.push(f.Eb),c||(u=!0,n.g["delete"](s),f=null));c&&(o.push(s),f?Wl(n,l)||(u=!0):($l(n,s,r),f=n.g.get(s),l=f.yb,u=!0));0<s.pr.length&&l&&zl(n,s.pr,l,i,r);r.pop()}if(u){i=lt(a);for(r=i.next();!r.done;r=i.next())r=r.value,r.parentElement&&r.parentElement.removeChild(r);o.sort(function(n,t){return n.startTime!=t.startTime?n.startTime-t.startTime:n.endTime-t.endTime});o=lt(o);for(i=o.next();!i.done;i=o.next())i=n.g.get(i.value),i.Eb?(i.Eb.contains(e)&&i.Eb.removeChild(e),e.appendChild(i.Eb),i.Eb.appendChild(i.Tb)):e.appendChild(i.Tb)}}function Yl(n,t){if(n.i){var e=n.p.currentTime;if(!n.m||(void 0===t?0:t)){t=lt(n.C.values());for(var i=t.next();!i.done;i=t.next())Vo(i.value);Vo(n.i);n.g.clear();n.C.clear()}n.m&&zl(n,n.h,n.i,e,[])}}function $l(n,t,e){var i=1<e.length,r=i?"span":"div";t.lineBreak&&(r="br");t.gr&&(r=t.gr);i=!i&&0<t.pr.length;var u=document.createElement(r);"br"!=r&&Jl(n,u,t,e,i);e=null;if(t.region&&t.region.id){var a=t.region,o=n.l===4/3?2.5:1.9;e=a.id+"_"+a.width+"x"+a.height+(a.bn==Jn?"%":"px")+"-"+a.viewportAnchorX+"x"+a.viewportAnchorY+(a.wn==Jn?"%":"px");if(n.C.has(e))e=n.C.get(e);else{r=document.createElement("span");var s=a.bn==Jn?"%":"px",f=a.gn==Jn?"%":"px",c=a.wn==Jn?"%":"px";r.id="shaka-text-region---"+e;r.classList.add("shaka-text-region");r.style.position="absolute";var l=a.height,h=a.width;2===a.bn&&(l=5.33*a.height,s="%");2===a.gn&&(h=a.width*o,f="%");r.style.height=l+s;r.style.width=h+f;2===a.wn?(o=a.viewportAnchorY/75*100,s=a.viewportAnchorX/(n.l===4/3?160:210)*100,o-=a.regionAnchorY*l/100,s-=a.regionAnchorX*h/100,r.style.top=o+"%",r.style.left=s+"%"):(r.style.top=a.viewportAnchorY-a.regionAnchorY*l/100+c,r.style.left=a.viewportAnchorX-a.regionAnchorX*h/100+c);0!==a.bn&&0!==a.gn&&0!==a.wn&&(a=Math.max(0,Math.min(100-(parseInt(r.style.width.slice(0,-1),10)||0),parseInt(r.style.left.slice(0,-1),10)||0)),r.style.top=Math.max(0,Math.min(100-(parseInt(r.style.height.slice(0,-1),10)||0),parseInt(r.style.top.slice(0,-1),10)||0))+"%",r.style.left=a+"%");r.style.display="flex";r.style.flexDirection="column";r.style.alignItems="center";r.style.justifyContent="before"==t.lr?"flex-start":"center"==t.lr?"center":"flex-end";n.C.set(e,r);e=r}}r=u;i&&(r=document.createElement("span"),r.classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",u.appendChild(r));n.g.set(t,{Tb:u,yb:r,Eb:e})}function Ql(n){var t=n.direction,e=n.positionAlign;n=n.textAlign;return e!==Ve?e:"left"===n||"start"===n&&t===ze||"end"===n&&"rtl"===t?"line-left":"right"===n||"start"===n&&"rtl"===t||"end"===n&&t===ze?"line-right":"center"}function Jl(n,t,e,i,r){var u=t.style,a=0==e.pr.length,o=1<i.length;u.whiteSpace="pre-wrap";var s=e.sr.replace(/\s+$/g,function(n){return" ".repeat(n.length)});u.webkitTextStrokeColor=e.vr;u.webkitTextStrokeWidth=e.dr;u.color=e.color;u.direction=e.direction;u.opacity=e.opacity;u.paddingLeft=Zl(e.hr,e,n.s);u.paddingRight=Zl(e.hr,e,n.s);u.textCombineUpright=e.textCombineUpright;u.textShadow=e.textShadow;if(e.backgroundImage)u.backgroundImage="url('"+e.backgroundImage+"')",u.backgroundRepeat="no-repeat",u.backgroundSize="contain",u.backgroundPosition="center",e.backgroundColor&&(u.backgroundColor=e.backgroundColor),u.width="100%",u.height="100%";else{if(e.pr.length)var f=t;else f=document.createElement("span"),t.appendChild(f);e.border&&(f.style.border=e.border);r||((t=nh(i,function(n){return n.backgroundColor}))?f.style.backgroundColor=t:s&&(f.style.backgroundColor="rgba(0, 0, 0, 0.8)"));s&&(f.textContent=s)}if(o&&!i[i.length-1].wr)u.display="inline";else{u.display="flex";u.flexDirection="column";u.alignItems="center";if("left"==e.textAlign||"start"==e.textAlign)u.width="100%",u.alignItems="start";else if("right"==e.textAlign||"end"==e.textAlign)u.width="100%",u.alignItems="end";u.justifyContent="before"==e.lr?"flex-start":"center"==e.lr?"center":"flex-end"}a||(u.margin="0");u.fontFamily=e.fontFamily;u.fontWeight=e.fontWeight.toString();u.fontStyle=e.fontStyle;u.letterSpacing=e.letterSpacing;u.fontSize=Zl(e.fontSize,e,n.s);i=e.line;null!=i&&(a=e.cr,a==$e&&(a=1,o=16,n.l&&1>n.l&&(o=32),i=0>i?100+i/o*100:i/o*100),1==a&&(u.position="absolute",e.writingMode==Ye?(u.width="100%",e.lineAlign==Qe?u.top=i+"%":"end"==e.lineAlign&&(u.bottom=100-i+"%")):"vertical-lr"==e.writingMode?(u.height="100%",e.lineAlign==Qe?u.left=i+"%":"end"==e.lineAlign&&(u.right=100-i+"%")):(u.height="100%",e.lineAlign==Qe?u.right=i+"%":"end"==e.lineAlign&&(u.left=100-i+"%"))));u.lineHeight=e.lineHeight;n=Ql(e);"line-left"==n?(u.cssFloat="left",null!==e.position&&(u.position="absolute",e.writingMode==Ye?(u.left=e.position+"%",u.width="auto"):u.top=e.position+"%")):"line-right"==n?(u.cssFloat="right",null!==e.position&&(u.position="absolute",e.writingMode==Ye?(u.right=100-e.position+"%",u.width="auto"):u.bottom=e.position+"%")):null!==e.position&&50!=e.position&&(u.position="absolute",e.writingMode==Ye?(u.left=e.position+"%",u.width="auto"):u.top=e.position+"%");u.textAlign=e.textAlign;u.textDecoration=e.textDecoration.join(" ");u.writingMode=e.writingMode;"writingMode"in document.documentElement.style&&u.writingMode==e.writingMode||(u.webkitWritingMode=e.writingMode);e.size&&(e.writingMode==Ye?u.width=e.size+"%":u.height=e.size+"%")}function Zl(n,t,e){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(n))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return n;var r=i.value;switch(i.unit){case"%":return r/100*e.clientHeight/t.br.rows+"px";case"c":return e.clientHeight*r/t.br.rows+"px";default:return n}}function nh(n,t){for(var e=n.length-1;0<=e;e--){var i=t(n[e]);if(i||0===i)return i}return null}t("shaka.text.UITextDisplayer",Kl);Kl.prototype.gb=Kl.prototype.gb;Kl.prototype.wb=Kl.prototype.wb;Kl.prototype.Km=Kl.prototype.Km;Kl.prototype.remove=Kl.prototype.remove;Kl.prototype.su=Kl.prototype.su;Kl.prototype.append=Kl.prototype.append;Kl.prototype.B=Kl.prototype.B;function th(n,r){function t(n){for(var t=n,e=lt(r),i=e.next();!i.done;i=e.next())i=i.value,i.end&&i.start<n&&(t+=i.end-i.start);n=Math.floor(t/3600);e=Math.floor(t/60%60);i=Math.floor(t%60);t=Math.floor(1e3*t%1e3);return(10>n?"0":"")+n+":"+(10>e?"0":"")+e+":"+(10>i?"0":"")+i+"."+(100>t?10>t?"00":"0":"")+t}var e=Bl(n);n="WEBVTT\n\n";e=lt(e);for(var i=e.next();!i.done;i=e.next())i=i.value,n+=t(i.startTime)+" --\x3e "+t(i.endTime)+function(n){var t=[];switch(n.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case Ge:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(n.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",n+=i.sr+"\n\n";return n}t("shaka.text.WebVttGenerator",function(){});function eh(n,t){this.h=n;this.i=t;this.g=void 0;this.l=!1;this.o=!0;this.v=this.m=!1}eh.prototype.B=function(n){this.i=n};function ih(n){n.l=!1;n.o=!0;n.m=!1;n.v=!1}function rh(n,t){n.v=t;n.v?n.g==Sh?n.g=Ah:n.g==kh&&(n.g=Mh):n.g==Ah?n.g=Sh:n.g==Mh&&(n.g=kh)}function uh(n,t,e){try{if(!n.i.enabled)return t;var i=ah(n);n:{switch(e.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var r=wh;break n;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":r=bh;break n;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":r=ph;break n}r=void 0}i.Sb=r;i.Ab=!0;var u=dh(i);return mh(t,u)}catch(a){return yn("CMCD_SRC_ERROR","Could not generate src CMCD data.",a),t}}function ah(n){n.i.sessionId||(n.i.sessionId=L.crypto.kb());return{F:1,Mb:n.g,Ib:n.i.sessionId,Nb:n.i.Q2,Pb:n.h.G()/1e3}}function oh(n,t,e){e=void 0===e?{}:e;var i=void 0===i?n.i.Z2:i;if(n.i.enabled){Object.assign(e,ah(n));e.Rb=n.h.zm();var r=e.Sb===gh||e.Sb===bh;n.m&&r&&(e.Db=!0,e.Ab=!0,n.m=!1);null==e.Ab&&(e.Ab=n.o);n=sh(n,e);if(i)i=vh(n),Object.keys(i).length&&Object.assign(t.headers,i);else{var u=dh(n);u&&(t.Of=t.Of.map(function(n){return mh(n,u)}))}}}function sh(n,e){var i=n.i.ng;return i.length?Object.keys(e).reduce(function(n,t){i.includes(t)&&(n[t]=e[t]);return n},{}):e}function fh(n){if(0===n.type)return yh;if(n=n.stream){var t=n.type;if("video"==t)return n.va&&n.va.includes(",")?bh:gh;if("audio"==t)return wh;if("text"==t)return"application/mp4"===n.mimeType?Eh:Th}}function ch(n,t){t=n.h.Wd()[t];if(!t.length)return NaN;var e=n.h.getCurrentTime();return(n=t.find(function(n){return n.start<=e&&n.end>=e}))?1e3*(n.end-e):NaN}function lh(n,t){t=n.h.Wd()[t];if(!t.length)return 0;var e=n.h.getCurrentTime();return(n=t.find(function(n){return n.start<=e&&n.end>=e}))?1e3*(n.end-e):0}function hh(n,t){var e=n.h.Cb();if(!e.length)return NaN;n=e[0];e=lt(e);for(var i=e.next();!i.done;i=e.next())i=i.value,"variant"===i.type&&i.ga>n.ga&&(n=i);switch(t){case gh:return n.Lo||NaN;case wh:return n._o||NaN;default:return n.ga}}function dh(n){function t(n){return 100*e(n/100)}function e(n){return Math.round(n)}function i(n){return!Number.isNaN(n)&&null!=n&&""!==n&&!1!==n}var r=[],u={_b:e,d:e,Lb:t,Ob:t,Pb:t,xb:function(n){return encodeURIComponent(n)},Ub:t,Fb:e},a=Object.keys(n||{}).sort();a=lt(a);for(var o=a.next();!o.done;o=a.next()){o=o.value;var s=n[o];if(i(s)&&("v"!==o||1!==s)&&("pr"!=o||1!==s)){var f=u[o];f&&(s=f(s));f=typeof s;var c=void 0;c="string"===f&&"ot"!==o&&"sf"!==o&&"st"!==o?o+"="+JSON.stringify(s):"boolean"===f?o:"symbol"===f?o+"="+s.description:o+"="+s;r.push(c)}}return r.join(",")}function vh(n){var t=Object.keys(n),e={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],u={_b:0,d:0,Sb:0,Fb:0,Lb:1,Ob:1,Pb:1,xb:1,Bb:1,Ab:1,Nb:2,Rb:2,Mb:2,Ib:2,Xb:2,F:2,Db:3,Ub:3};t=lt(t);for(var a=t.next();!a.done;a=t.next())a=a.value,r[null!=u[a]?u[a]:1][a]=n[a];for(n=0;n<r.length;n++)(u=dh(r[n]))&&(e["CMCD-"+i[n]]=u);return e}function mh(n,t){if(!t||n.includes("offline:"))return n;n=new wi(n);n.i.set("CMCD",t);return n.toString()}var ph="m",wh="a",gh="v",bh="av",yh="i",Th="c",Eh="tt",Sh="d",Ah="ld",kh="h",Mh="lh";t("shaka.util.CmcdManager.StreamingFormat",{Hb:Sh,jb:Ah,Vb:kh,Gb:Mh,qb:"s",Kb:"o"});function Ih(n){this.h=n;this.i=null}n=Ih.prototype;n.B=function(n){this.h=n};n.ys=function(){return this.h.enabled&&this.h.eg&&this.i&&this.i.has(Rh)?1e3*this.i.get(Rh):null};n.Wb=function(){return this.h.enabled&&this.i&&this.i.has(Ph)?1e3*this.i.get(Ph):null};n.zb=function(){return this.h.enabled&&this.i&&this.i.has(Dh)?this.i.get(Dh):null};n.Yb=function(){return this.h.enabled&&this.i&&this.i.has(Ch)?this.i.get(Ch):null};n.G=function(n){var t=this.Wb();if(!t)return n;var e=this.h.ig;return 0<e&&1>=e?n*(1-e)+t*e:n};function Nh(n){return n?"false"===n.toLowerCase()?!1:/^[-0-9]/.test(n)?parseInt(n,10):n.replace(/["]+/g,""):!0}t("shaka.util.CmsdManager",Ih);Ih.prototype.G=Ih.prototype.G;Ih.prototype.$b=Ih.prototype.Yb;Ih.prototype.Qb=Ih.prototype.zb;Ih.prototype.Jb=Ih.prototype.Wb;Ih.prototype.Zb=Ih.prototype.ys;var Ph="etp",Rh="mb",Dh="rd",Ch="rtt";function _h(){this.i=null;this.h=[]}function Lh(t,e){return sn(function(n){if(1==n.i)return t.i?an(n,new Promise(function(n){return t.h.push(n)}),2):n.k(2);t.i=e;on(n)})}_h.prototype.release=function(){0<this.h.length?this.h.shift()():this.i=null};function s(n,t,e){t=void 0===t?null:t;zu.call(this);var u=this;this.m=Y0;this.h=null;this.ny=t;this.yl=!1;this.ty=new Mn;this.ey=new Mn;this.l=new Mn;this.Ld=new Mn;this.Cd=new Mn;this.I=this.R=this.P=this.D=null;this.iy=0;this.Rl=new _h;this.Ml=this.Pd=this.El=this.g=this.Od=this.N=this.v=this.uy=this.Il=this.oy=this.Dl=this.Nl=this.sy=this.Pl=this.ly=this.Sl=this.hy=null;this.xd=!1;this._d=this.o=null;this.vy=1e9;this.my=[];this.py=-1;this.i=T0(this);this.Cl=null;this.wy=-1;this.Dd=null;this.Tl={width:Infinity,height:Infinity};this.gy=new po(this.i,this.Tl,null);this.by=[];this.p=null;this.Rd=new Tu(this.i.C2,this.i.O2,this.i.F2,this.i.B2,this.i.V2,this.i.X2,this.i._2,this.i.H2,this.i.I2.v1,"");this.yy=this.i.L2;this.Ty=this.i.U2;this.Ey=this.i.j2;this.Sy=[];e&&e(this);this.Nl=f0(this);this.Dl=new Ih(this.i.tg);this.D=i0(this);this.D.Mf(this.i.Th.$w);this.D.If(this.i.Th.Qw);this.D.m=this.i.Th.Wf;this.Ay=this.kl=this.s=null;this.ky=!1;this.My=new S(function(){return sn(function(n){if(1==n.i)return u.kl?an(n,u.Xl(u.Ay,!0),3):n.k(0);if(4!=n.i)return an(n,u.load(u.kl),4);u.ky?u.Ay.pause():u.Ay.play();u.kl=null;u.ky=!1;on(n)})});nd&&(this.s=nd(),this.s.B(this.i.sg),this.Cd.K(this.s,"ad-content-pause-requested",function(t){var e;return sn(function(n){if(1==n.i){u.My.stop();if(u.kl)return n.k(0);u.Ay=u.h;u.ky=u.Iy();e=t.saveLivePosition||!1;return an(n,u.Ny(!0,e),3)}u.kl=n.h;on(n)})}),this.Cd.K(this.s,"ad-content-resume-requested",function(n){n=n.offset||0;if(u.kl){var t=u.kl;t.C&&n&&(t.C+=n)}u.My.Ui(.1)}),this.Cd.K(this.s,"ad-content-attach-requested",function(){return sn(function(n){return u.h||!u.Ay?n.k(0):an(n,u.Xl(u.Ay,!0),0)})}));this.ty.K(L,"online",function(){B0(u);u.Py()});this.Ry=new S(function(){for(var n=Date.now()/1e3,t=!1,e=!0,i=lt(u.g.ma),r=i.next();!r.done;r=i.next())r=r.value,0<r.Ko&&r.Ko<=n&&(r.Ko=0,t=!0),0<r.Ko&&(e=!1);e&&u.Ry.stop();t&&P0(u,!1,void 0,!1,!1)});this.Ud=null;n&&(On("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Xl(n,!0));this.C=null}N(s,zu);function Oh(n){null!=n.Il&&(As(n.Il),n.Il.release(),n.Il=null)}function xh(n,t){t.rg.enabled?(Oh(n),null==n.Il&&(n.Il=new Ss(n.h,n.oy,t.rg),n.R&&(n.R.Dl=n.Il))):Oh(n)}function Uh(n,t){return new A(n,t)}n=s.prototype;n.su=function(){var t=this,e;return sn(function(n){switch(n.i){case 1:if(t.m==z0)return n.A();Oh(t);e=t.detach();t.m=z0;return an(n,e,2);case 2:return an(n,t.Dy(),3);case 3:t.ty&&(t.ty.release(),t.ty=null);t.ey&&(t.ey.release(),t.ey=null);t.l&&(t.l.release(),t.l=null);t.Ld&&(t.Ld.release(),t.Ld=null);t.Cd&&(t.Cd.release(),t.Cd=null);t._d=null;t.i=null;t.p=null;t.ny=null;t.Nl=null;t.Dl=null;if(!t.D){n.k(4);break}return an(n,t.D.su(),5);case 5:t.D=null;case 4:t.o&&(t.o.release(),t.o=null),zu.prototype.release.call(t),on(n)}})};function Fh(n,t){n.dispatchEvent(Uh("onstatechange",(new Map).set("state",t)))}n.Xl=function(t,e){e=void 0===e?!0:e;var i=this,r,u,a;return sn(function(n){switch(n.i){case 1:if(i.m==z0)throw new vt(2,7,7e3);r=i.h&&i.h==t;if(!i.h||i.h==t){n.k(2);break}return an(n,i.detach(),2);case 2:return an(n,Bh(i,"attach"),4);case 4:if(n.h)return n.A();q(n,5,6);r||(Fh(i,"attach"),u=function(){var n=V0(i,!1);n&&X0(i,n)},i.ey.K(t,"error",u),i.h=t);if(!e||!pt()||i.R){n.k(6);break}return an(n,Wh(i),6);case 6:_(n);i.Rl.release();X(n,0);break;case 5:return a=W(n),an(n,i.detach(),10);case 10:throw a}})};n.Cy=function(n){this.oy=n};n.detach=function(t){t=void 0===t?!1:t;var e=this;return sn(function(n){if(1==n.i){if(e.m==z0)throw new vt(2,7,7e3);return an(n,e._y(!1,t),2)}if(3!=n.i)return an(n,Bh(e,"detach"),3);if(n.h)return n.A();try{e.h&&(e.ey.q(),e.h=null),Fh(e,"detach"),e.s&&!t&&e.s.release()}finally{e.Rl.release()}on(n)})};function Bh(t,e){var i;return sn(function(n){return 1==n.i?(i=++t.iy,an(n,Lh(t.Rl,e),2)):i!=t.iy?(t.Rl.release(),n.A(!0)):n.A(!1)})}n._y=function(t,e){t=void 0===t?!0:t;e=void 0===e?!1:e;var i=this,r,u,a,o,s,f,c,l,h,d;return sn(function(n){switch(n.i){case 1:return i.m!=z0&&(i.m=Y0),an(n,Bh(i,"unload"),2);case 2:if(n.h)return n.A();C(n,3);i.xd=!1;Fh(i,"unload");t&&!pt()&&(t=!1);Oh(i);r=i.Sy.map(function(n){return n()});i.Sy=[];return an(n,Promise.all(r),5);case 5:i.dispatchEvent(Uh("unloading"));i.sy&&(i.sy.release(),i.sy=null);i.h&&(i.l.q(),i.Ld.q());i.Ry.stop();i.hy&&(i.hy.release(),i.hy=null);i.ly&&(i.ly.stop(),i.ly=null);if(!i.N){n.k(6);break}return an(n,i.N.stop(),7);case 7:i.N=null,i.Od=null;case 6:if(!i.o){n.k(8);break}return an(n,i.o.stop(),8);case 8:if(!i.v){n.k(10);break}return an(n,i.v.su(),11);case 11:i.v=null;case 10:i.Sl&&(i.Sl.release(),i.Sl=null);i.I&&(i.I.release(),i.I=null);if(!Ot("webkit")||!i.P){n.k(12);break}return an(n,i.P.su(),13);case 13:i.P=null;case 12:if(!i.R){n.k(14);break}return an(n,i.R.su(),15);case 15:i.R=null;case 14:if(i.s&&!e)i.s.Ly();i.kl&&!e&&(i.kl.su(),i.kl=null);e||i.My.stop();i.Nl&&ih(i.Nl);i.Dl&&(i.Dl.i=null);if(!i.C){n.k(16);break}return an(n,i.C.su(),17);case 17:i.C=null;case 16:i.h&&(Vo(i.h),i.h.src&&(i.h.removeAttribute("src"),i.h.load()));if(!i.P){n.k(18);break}return an(n,i.P.su(),19);case 19:i.P=null;case 18:i.Ud&&i.El!=i.Ud.Pg()&&(i.Ud.s||i.Ud.su(),i.Ud=null);i.El=null;i.Pd=null;i.Pl=null;if(i.g){u=lt(i.g.ma);for(a=u.next();!a.done;a=u.next())for(o=a.value,s=lt([o.Vu,o.Gu]),f=s.next();!f.done;f=s.next())(c=f.value)&&c.jo&&c.jo.release();l=lt(i.g.ha);for(h=l.next();!h.done;h=l.next())d=h.value,d.jo&&d.jo.release()}i.i&&i.i.Th.b2&&(su={},ct.clear());i.g=null;i.p=new Gf;i.Oy=null;i.Dd=null;i.Cl=null;i.wy=-1;i.my=[];i.py=-1;A0(i);case 3:_(n);i.Rl.release();X(n,4);break;case 4:if(t&&pt()&&!i.R&&i.h)return an(n,Wh(i),0);n.k(0)}})};n.xy=function(n){this.Ml=n};n.load=function(t,e,i){e=void 0===e?null:e;var r=this,u,a,o,s,f,c,l,h,d,v,m,p,w;return sn(function(n){switch(n.i){case 1:if(r.m==z0)throw new vt(2,7,7e3);u=null;a="";t instanceof ml?(u=t,a=u.Pg()||""):a=t||"";return an(n,Lh(r.Rl,"load"),2);case 2:r.Rl.release();if(!r.h)throw new vt(2,7,7002);if(!r.El){n.k(3);break}r.El=a;return an(n,r._y(!1),3);case 3:o=++r.iy;s=function(){return sn(function(n){if(1==n.i)return r.iy==o?n.k(0):u?an(n,u.su(),3):n.k(3);throw new vt(2,7,7e3)})};f=function(t,e){return sn(function(n){switch(n.i){case 1:return C(n,2),an(n,Lh(r.Rl,e),4);case 4:return an(n,s(),5);case 5:return an(n,t(),6);case 6:return an(n,s(),7);case 7:u&&r.i&&(u.i=r.i);case 2:_(n),r.Rl.release(),X(n,0)}})};q(n,5,6);null==e&&u&&(e=u.getStartTime());r.Ml=e;r.xd=!1;r.dispatchEvent(Uh("loading"));if(u){i=u.El;n.k(8);break}if(i){n.k(8);break}return an(n,f(function(){return sn(function(n){if(1==n.i)return an(n,Gh(r,a),2);i=n.h;on(n)})},"guessMimeType_"),8);case 8:c=!!u;if(u){gl(u,r);r.p=u.getStats();n.k(11);break}return an(n,jh(r,a,e,i,!0),12);case 12:(u=n.h)?(u.p=!1,gl(u,r),r.p=u.getStats(),u.start(),u.m["catch"](function(){})):r.p=new Gf;case 11:return l=!u,h=Date.now()/1e3,r.p=u?u.getStats():new Gf,r.El=a,r.Pd=i||null,l?an(n,f(function(){return sn(function(n){return an(n,$h(r,i),0)})},"initializeSrcEqualsDrmInner_"),21):an(n,f(function(){return sn(function(n){if(1==n.i)return an(n,Promise.race([u.Tl,u.m]),2);r.Od=u.D;var t=u;t.Ml=!0;r.N=t.v;r.g=u.Rg();on(n)})},"waitForFinish"),15);case 15:if(r.R){n.k(16);break}return an(n,f(function(){return sn(function(n){return an(n,Wh(r),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return an(n,f(function(){return sn(function(n){return an(n,u.m,0)})},"waitForFinish"),18);case 18:r.i=u.getConfiguration();r.gy=u.I;r.N&&r.N.ps&&r.h&&r.N.ps(r.h);r.sy=yl(u);r.uy=u.Dd;if(d=u.o)r.Rd=d;c&&r.h&&"AUDIO"===r.h.nodeName&&(Xh(r),r.B("manifest.disableVideo",!0));r.P=Tl(u);return an(n,f(function(){return sn(function(n){return an(n,r.P.Xl(r.h),0)})},"drmEngine_.attach"),19);case 19:return!(v=u.P)||r._d&&r._d==v||(r.o=bl(u),r._d=u.P,"function"!=typeof r.o.ps&&(On("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),r.o.ps=function(){}),"function"!=typeof r.o.ws&&(On("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),r.o.ws=function(){}),"function"!=typeof r.o.cs&&(On("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),r.o.cs=function(){})),m=El(u),p=u.yl,an(n,f(function(){return sn(function(n){return an(n,Yh(r,h,p,m),0)})},"loadInner_"),20);case 20:wl(u);r.Pd&&Rt()&&ur(r.Pd)&&Ns(r.R,r.El,r.Pd);n.k(14);break;case 21:return an(n,f(function(){return sn(function(n){return an(n,Qh(r,h,i),0)})},"srcEqualsInner_"),14);case 14:r.dispatchEvent(Uh("loaded"));case 6:_(n);if(!u){n.k(23);break}return an(n,u.su(),23);case 23:r.Ud=null;X(n,0);break;case 5:w=W(n);if(!w||7e3==w.code){n.k(25);break}return an(n,r._y(!1),25);case 25:throw w}})};function Xh(n){for(var t=lt(n.g.ma),e=t.next();!e.done;e=t.next())e=e.value,e.Gu&&(e.Gu.Qm(),e.Gu=null),e.ga=e.Vu&&e.Vu.ga?e.Vu.ga:0;n.g.ma=n.g.ma.filter(function(n){return n.Vu})}n.Uy=function(t,e){t=void 0===t?!0:t;e=void 0===e?!1:e;var i=this,r;return sn(function(n){return 1==n.i?an(n,Hh(i),2):3!=n.i?(r=n.h,an(n,i._y(t,e),3)):n.A(r)})};n.Ny=function(t,e){t=void 0===t?!1:t;e=void 0===e?!1:e;var i=this,r;return sn(function(n){return 1==n.i?an(n,Hh(i,e),2):3!=n.i?(r=n.h,an(n,i.detach(t),3)):n.A(r)})};function Hh(r,u){u=void 0===u?!1:u;var a,o;return sn(function(n){if(1==n.i){a=null;if(!(r.g&&r.N&&r.Od&&r.El))return n.k(2);o=r.h.currentTime;r.D1()&&!u&&(o=null);return an(n,Vh(r,r.El,o,r.Pd,!0,!1,!1),3)}if(2!=n.i){a=n.h;r.by.push(a);r.N&&r.N.ps&&r.N.ps(null);var t=a,e=r.N,i=r.Od;t.h=r.g;t.v=e;t.D=i;t=a;e=r._d;t.g=r.o;t.P=e;a.o=r.Rd;a.start();r.g=null;r.N=null;r.Od=null;r.o=null;r._d=null}return n.A(a)})}n.preload=function(t,e,i){e=void 0===e?null:e;var r=this,u;return sn(function(n){if(1==n.i)return an(n,jh(r,t,e,i),2);(u=n.h)?u.start():X0(r,new vt(2,7,7005));return n.A(u)})};n.Dy=function(){var t=this,e,i,r,u;return sn(function(n){e=[];i=lt(t.by);for(r=i.next();!r.done;r=i.next())u=r.value,u.s||e.push(u.su());t.by=[];return an(n,Promise.all(e),0)})};function jh(t,e,i,r,u){u=void 0===u?!1:u;var a,o,s,f;return sn(function(n){if(1==n.i)return r?n.k(2):an(n,Gh(t,e),3);2!=n.i&&(r=n.h);if(a=qh(t,r))return n.A(null);o=!1;s=!0;u&&(t.o&&t._d==t.i.P2&&(s=!1),t.h&&"AUDIO"===t.h.nodeName&&(o=!0));f=Vh(t,e,i,r||null,!u,o,s);f=u?f.then(function(n){n.p=!1;return n}):f.then(function(n){t.by.push(n);return n});return n.A(f)})}function Vh(c,t,e,i,r,u,a){r=void 0===r?!0:r;u=void 0===u?!1:u;a=void 0===a?!0:a;var o,s,f,l,h,d,v,m,p,w,g,b,y,T,E;return sn(function(n){if(1==n.i)return o=null,s=te(c.i),u&&(s.manifest.Zp=!0),f=function(){return o.Cl&&o.s?null:o},l=function(){return f()?f().getConfiguration():c.i},h=function(n,t){f()?o.B(n,t):c.B(n,t)},Infinity!=c.Tl.width||Infinity!=c.Tl.height||c.i.vg?n.k(2):an(n,xt(),3);2!=n.i&&(d=n.h,c.Tl.width=d.width,c.Tl.height=d.height);v=new po(s,c.Tl,null);m={yg:c.D,filter:function(t){var e,i;return sn(function(n){if(1==n.i)return an(n,wo(v,t),2);if(4!=n.i){e=n.h;if(!e)return n.k(0);i=Uh("trackschanged");return an(n,Promise.resolve(),4)}o.dispatchEvent(i);on(n)})},Fy:function(n){return E0(c,n)},By:function(n){var t=o.N;n:{var e=lt(t.i);for(var i=e.next();!i.done;i=e.next())if(i=i.value,i.Jd==n.Jd&&i.id==n.id&&i.startTime==n.startTime&&i.endTime==n.endTime){e=i;break n}e=null}null==e&&(t.i.add(n),n=new A("regionadd",new Map([["region",n]])),t.dispatchEvent(n))},uh:function(n){return o.dispatchEvent(n)},Al:function(n){return o.Al(n)},Xy:function(){return l().Th.Ep},Hy:function(){return l().Th.Yw},jy:function(){h("streaming.lowLatencyMode",!0)},fp:function(){c.v&&o.Cl&&c.v.fp()},Vy:function(n){var t=o.l,e=t?t.i:null;e&&t.p&&yo(v,e.keySystem,n)},Gy:function(){var n=(new Map).set("isLive",c.D1());o.dispatchEvent(Uh("manifestupdated",n));pl(o,!1,function(){if(c.s)c.s.Gy(c.D1())})},G:function(){return c.o.G()},zd:function(n,t,e,i){var r=n;if("com.apple.hls.interstitial"==n&&(r="com.apple.quicktime.HLS",n={startTime:t,endTime:e,values:i},c.s))c.s.qy(c,c.h,n);i=lt(i);n=i.next();for(var u={};!n.done;u={Ky:void 0},n=i.next())u.Ky=n.value,"ID"!=u.Ky.name&&pl(o,!1,function(n){return function(){t0(c,t,e,r,n.Ky)}}(u))},Mp:function(n){return c.Mp(n,c.i.Th.kp)},Wy:function(n,t){return c.Wy(n,t)}};p=new ic(function(){return c.zy()});p.addEventListener("regionadd",function(n){var t=n.region;H0(c,"timelineregionadded",t,o);pl(o,!1,function(){c.s&&(c.s.Yy(t),c.s.$y(c,c.h,t))})});w=null;s.Th.Zw&&(w=new rc(function(){return c.Wd()}),w.addEventListener("qualitychange",function(n){j0(c,n.quality,n.position)}),w.addEventListener("audiotrackchange",function(n){j0(c,n.quality,n.position,!0)}));g=!0;b={jl:c.D,Al:function(n){return o.Al(n)},ah:function(f){pl(o,!0,function(){n:{var n=f,t=Uh("keystatuschanged");c.dispatchEvent(t);var e=Object.keys(n);1==e.length&&""==e[0]&&(e=["00"],n={"00":n[""]});t=1==e.length&&"00"==e[0];var i=!1;if(e.length){e=lt(c.g.ma);for(var r=e.next();!r.done;r=e.next()){r=r.value;var u=[];r.Vu&&u.push(r.Vu);r.Gu&&u.push(r.Gu);u=lt(u);for(var a=u.next();!a.done;a=u.next()){var o=a.value;a=r.qo;if(o.Pi.size){r.qo=!0;o=lt(o.Pi);for(var s=o.next();!s.done;s=o.next())if(s=s.value,(s=n[t?"00":s])||c.P.I)r.qo=r.qo&&!!s&&!Eo.includes(s)}a!=r.qo&&(i=!0)}}}if(i&&(_0(c),!N0(c)))break n;(n=c.v.v)&&!n.qo&&P0(c)}})},ph:function(n,t){var e=Uh("expirationupdated");o.dispatchEvent(e);if((e=o.v)&&e.ph)e.ph(n,t)},uh:function(n){o.dispatchEvent(n);"drmsessionupdate"==n.type&&g&&(g=!1,n=Date.now()/1e3-o.Rd,(c.p||o.getStats()).v=n,c.Il&&As(c.Il))}};y=i0(c,f);Zu(c.D,y);T=function(){return c.Tg(b)};E={Ag:s,Sg:m,kg:p,Mg:w,Tg:T,Eg:v,yg:y,Ig:r,Ng:a};o=new ml(t,i,e,E);return n.A(o)})}function Gh(t,e){var i,r;return sn(function(n){if(1==n.i)return i=t.i.manifest.Uf,an(n,Ol(e,t.D,i),2);r=n.h;"application/x-mpegurl"==r&&kt()&&(r="application/vnd.apple.mpegurl");return n.A(r)})}function qh(n,t){if(!pt())return!0;if(t){if(""==(n.h||Lt()).canPlayType(t))return!1;if(!(pt()&&t in ko))return!0;if(ur(t))return kt()&&(n.i.bh.Ul["com.apple.fps"]||n.i.bh.Ul["com.apple.fps.1_0"])?n.i.Th.zw:n.i.Th.Jw}return!1}function Kh(n){var t=n.i.z2;t!==n.Oy&&(n.C=t(),n.C.B?n.C.B(n.i.K2):On("Text displayer w/ configure",'Text displayer should have a "configure" method!'),n.Oy=t,n.C.wb(n.yl))}function Wh(s){var t,e,i;return sn(function(n){if(1==n.i)return Fh(s,"media-source"),s.h.removeAttribute("src"),Vo(s.h),Kh(s),t=s0(s.h,s.C,{f1:function(){return s.keySystem()},zd:function(n,t,e){n=lt(n);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.data&&"number"==typeof i.ld&&i.frames){var r=i.ld+t,u=e;u&&r>u&&(u=r);for(var a=lt(i.frames),o=a.next();!o.done;o=a.next())t0(s,r,u,"org.id3",o.value);if(s.s)s.s.Qy(i,r)}},uh:function(n){return s.dispatchEvent(n)},Qd:function(){s.N&&s.N.update&&s.N.update()}},s.Il),t.B(s.i.I2),e=s.i.manifest,i=e.rw,t.Rd=i,an(n,t.D,2);s.R=t;on(n)})}function zh(t,e,n){function i(){return k0(t)}t.l.K(e,"playing",i);t.l.K(e,"pause",i);t.l.K(e,"ended",i);t.l.K(e,"ratechange",function(){var n=t.h.playbackRate;0!=n&&(t.Sl&&t.Sl.set(n),n=Uh("ratechange"),t.dispatchEvent(n))});e.remote&&(t.l.K(e.remote,"connect",function(){return _0(t)}),t.l.K(e.remote,"connecting",function(){return _0(t)}),t.l.K(e.remote,"disconnect",function(){return sn(function(n){if(1==n.i)return t.v&&"disconnected"==e.remote.state?an(n,Qc(t.v),2):n.k(2);_0(t);on(n)})}));e.audioTracks&&(t.l.K(e.audioTracks,"addtrack",function(){return _0(t)}),t.l.K(e.audioTracks,"removetrack",function(){return _0(t)}),t.l.K(e.audioTracks,"change",function(){return _0(t)}));e.textTracks&&(t.l.K(e.textTracks,"addtrack",function(n){if(n.track)switch(n=n.track,n.kind){case"metadata":n0(t,n);break;case"chapters":e0(t,n);break;default:_0(t)}}),t.l.K(e.textTracks,"removetrack",function(){return _0(t)}),t.l.K(e.textTracks,"change",function(){return _0(t)}));"none"!=e.preload&&t.l.W(e,"loadedmetadata",function(){t.p.P=Date.now()/1e3-n})}function Yh(i,t,e,r){var u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k;return sn(function(n){switch(n.i){case 1:Fh(i,"load"),u=i.h,i.Sl=new Of({gm:function(){return u.playbackRate},ym:function(){return u.defaultPlaybackRate},Tm:function(n){u.playbackRate=n},bm:function(n){u.currentTime+=n}}),zh(i,u,t),xh(i,i.i),i.yy=i.i.L2,i.Ty=i.i.U2,i.Ey=i.i.j2,G0(i.g.xv,i.i.G2,i.i.q2),i.o.init(function(n,t,e){i.g&&i.v&&n!=i.v.v&&R0(i,n,!0,void 0===t?!1:t,void 0===e?0:e)}),i.o.ps(u),i.o.ws(i.Dl),i.v=c0(i),i.v.B(i.i.Th),i.m=$0,i.dispatchEvent(Uh("streaming")),a=e;case 2:(s=i.v.v)||a||(a=N0(i)?i.o.Qo():null);f=[];o=s||a;c=lt([o.Gu,o.Vu]);for(l=c.next();!l.done;l=c.next())(h=l.value)&&!h.jo&&f.push(h.Fd());if(!(0<f.length)){n.k(4);break}return an(n,Promise.all(f),4);case 4:if(!o||0!=o.Ko){n.k(2);break}if(i.N&&i.N.Jy)i.N.Jy(o);i.g.Sp&&!i.i.Th.Ep&&M("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");i.Nl&&rh(i.Nl,i.g.Sp&&i.i.Th.Ep);G0(i.g.xv,i.i.G2,i.i.q2);bc(i.v,i.i.G2,i.i.q2);d=function(n){i.I=r0(i,n);i.hy=u0(i,n);a0(i,u,Math.max(i.g.Uv,i.i.Th.Bv))};i.i.Th.Ww||(v=i.Ml,null==v&&i.g.startTime&&(v=i.g.startTime),d(v));if(s){n.k(7);break}if(!i.i.Th.Ww){n.k(8);break}m=i.g.xv;p=i.Ml||i.h.currentTime;null==i.Ml&&i.g.startTime&&(p=i.g.startTime);w=m.q1();g=m.G1();p<w?p=w:p>g&&(p=g);return an(n,S0(a,p),9);case 9:b=n.h,d(b);case 8:R0(i,a,!0,!1,0);case 7:return i.I.ready(),y=i.Zy().find(function(n){return n.active}),y||((T=ru(i.g.ha,i.yy,i.Ty,i.Ey)[0]||null)&&Vf(i.p.h,T,!0),a&&(T?(C0(i,a.Vu,T)&&(i.yl=!0),i.yl&&i.C.wb(!0),x0(i)):i.yl=!1),T&&(i.i.Th.Wm||i.n4())&&(Ac(i.v,T),F0(i))),an(n,i.v.start(r),10);case 10:i.i.R2.enabled&&(i.o.enable(),U0(i));_0(i);N0(i);i.g.ma.some(function(n){return n.Io});if((E=i.D1())&&(i.i.Th.n2&&i.i.Th.n2.enabled||i.g.t4||i.i.Th.n2.a2)||i.i.Th.d2)S=function(){return M0(i)},i.l.K(u,"timeupdate",S);E||(A=function(){return I0(i)},i.l.K(u,"timeupdate",A),I0(i),i.g.e4&&(0<i.i.Th.w2&&(k=function(){var t;return sn(function(n){if(1==n.i){t=i.zy().end-i.h.currentTime;if(isNaN(t)||!(t<=i.i.Th.w2))return n.k(0);i.l.Y(u,"timeupdate",k);return an(n,i.preload(i.g.e4),4)}i.Ud=n.h;on(n)})},i.l.K(u,"timeupdate",k)),i.l.K(u,"ended",function(){i.load(i.Ud||i.g.e4)})));if(i.s)i.s.Gy(E);i.xd=!0;on(n)}})}function $h(t,e){var i,r,u,a,o;return sn(function(n){return 1==n.i?(i=Ki,r=Date.now()/1e3,u=!0,t.P=t.Tg({jl:t.D,Al:function(n){X0(t,n)},ah:function(){},ph:function(){var n=Uh("expirationupdated");t.dispatchEvent(n)},uh:function(n){t.dispatchEvent(n);"drmsessionupdate"==n.type&&u&&(u=!1,t.p.v=Date.now()/1e3-r)}}),t.P.B(t.i.bh),a={id:0,language:"und",Ko:0,Io:!1,Vu:null,Gu:null,ga:100,Go:!0,qo:!0,wa:[]},o={id:0,Ho:null,groupId:null,Fd:function(){return Promise.resolve()},jo:null,mimeType:e?ir(e):"",va:e?rr(e):"",Za:!0,vo:[],Pi:new Set,language:"und",Xo:null,label:null,type:i.Fu,Io:!1,Wo:null,Yd:null,Ta:[],Po:!1,ba:null,ya:null,"do":!1,Rm:null,Bo:null,external:!1,Ea:!1,uo:new Set,Hd:!1},o.uo.add($i(o.mimeType,o.va)),e.startsWith("audio/")?(o.type=i.Bu,a.Vu=o):a.Gu=o,t.P.Dl=!0,an(n,La(t.P,[a],[]),2)):an(n,t.P.Xl(t.h),0)})}function Qh(a,t,e){var o,s,i,r,u,f,c,l,h,d,v,m;return sn(function(n){switch(n.i){case 1:Fh(a,"src-equals");o=a.h;a.I=new kf(o);s=!1;a.Sy.push(function(){s=!0});null!=a.Ml&&a.I.Dv(a.Ml);a.Sl=new Of({gm:function(){return o.playbackRate},ym:function(){return o.defaultPlaybackRate},Tm:function(n){o.playbackRate=n},bm:function(n){o.currentTime+=n}});i=a.i.Th.Bv;a0(a,o,i);o.textTracks&&(Kh(a),r=function(){var n=v0(a).find(function(n){return"disabled"!==n.mode});n&&(n.mode="showing")},u=function(){var n=v0(a).find(function(n){return"disabled"!==n.mode});n&&(n.mode="hidden")},a.l.K(o,"enterpictureinpicture",function(){return r()}),a.l.K(o,"leavepictureinpicture",function(){return u()}),o.remote?(a.l.K(o.remote,"connect",function(){return u()}),a.l.K(o.remote,"connecting",function(){return u()}),a.l.K(o.remote,"disconnect",function(){return u()})):"webkitCurrentPlaybackTargetIsWireless"in o&&a.l.K(o,"webkitcurrentplaybacktargetiswirelesschanged",function(){return u()}),f=o,f.webkitSupportsFullscreen&&a.l.K(f,"webkitpresentationmodechanged",function(){"inline"!=f.webkitPresentationMode?r():u()}));zh(a,o,t);c=uh(a.Nl,a.El,e);!c.includes("#t=")&&(0<a.i.G2||isFinite(a.i.q2))&&(c+="#t=",0<a.i.G2&&(c+=a.i.G2),isFinite(a.i.q2)&&(c+=","+a.i.q2));if(!a.R){n.k(2);break}return an(n,a.R.su(),3);case 3:a.R=null;case 2:return Vo(o),o.src=c,(yt()||Et())&&o.load(),"none"!=o.preload&&!o.autoplay&&ur(e)&&Rt()&&o.load(),a.m=Q0,a.dispatchEvent(Uh("streaming")),l=new Fu,pf(o,HTMLMediaElement.HAVE_METADATA,a.l,function(){a.I.ready();l.resolve()}),pf(o,HTMLMediaElement.HAVE_CURRENT_DATA,a.l,function(){var t,e,i,r,u;return sn(function(n){if(1==n.i)return Jh(a),t=v0(a),t.find(function(n){return"disabled"!=n.mode})?(0<t.length&&(a.yl=!0,a.C.wb(!0)),n.k(2)):an(n,new Promise(function(n){a.l.W(o.textTracks,"change",n);new S(n).Ui(1)}),2);if(s)return n.A();e=!1;i=lt(t);for(r=i.next();!r.done;r=i.next())u=r.value,"disabled"!==u.mode&&(e?(u.mode="disabled",M("Found more than one enabled text track, disabling it",u)):(d0(a,u),e=!0));Zh(a);on(n)})}),o.error?l.reject(V0(a)):"none"==o.preload&&(M('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),a.l.W(o,"error",function(){l.reject(V0(a))}),an(n,yr(a.i.Th.g2,l),4);case 4:if((h=a.D1())&&(a.i.Th.n2&&a.i.Th.n2.enabled||a.i.Th.n2.a2)||a.i.Th.d2)d=function(){return M0(a)},a.l.K(o,"timeupdate",d);h||(v=function(){return I0(a)},a.l.K(o,"timeupdate",v),I0(a));a.s&&(a.s.Gy(h),h&&(m=a.zy().end,a.l.K(o,"progress",function(){var n=a.zy().end;m!=n&&(a.s.Gy(a.D1()),m=n)})));a.xd=!0;on(n)}})}function Jh(n){var t=n.i.C2;""!=t&&n.i4(t,n.i.O2)}function Zh(n){var t=n.i.L2;""!=t&&n.r4(t,n.i.U2,n.i.j2)}function n0(r,u){if("metadata"==u.kind){u.mode="hidden";r.l.K(u,"cuechange",function(){if(u.activeCues)for(var n=lt(u.activeCues),t=n.next();!t.done;t=n.next())if(t=t.value,t0(r,t.startTime,t.endTime,t.type,t.value),r.s)r.s.u4(t.value);if(u.cues){n=[];t=lt(u.cues);for(var e=t.next(),i={};!e.done;i={a4:void 0},e=t.next())i.a4=e.value,"com.apple.quicktime.HLS"==i.a4.type&&null!=i.a4.startTime&&(e=n.find(function(t){return function(n){return n.startTime==t.a4.startTime&&n.endTime==t.a4.endTime}}(i)),e||(e={startTime:i.a4.startTime,endTime:i.a4.endTime,values:[]},n.push(e)),e.values.push(i.a4.value));n=lt(n);for(t=n.next();!t.done;t=n.next())t=t.value,t.values.some(function(n){return"X-ASSET-URI"==n.key||"X-ASSET-LIST"==n.key})&&r.s&&(t.values.push({key:"CUE",description:"",data:0!=t.startTime||r.D1()?"ONCE":"ONCE,PRE",mimeType:null,F0:null}),r.s.qy(r,r.h,t))}});var n=new S(function(){var n=m0(r);n=lt(n);for(var t=n.next();!t.done;t=n.next())t.value.mode="hidden"}).Fi().Ui(.5);r.Sy.push(function(){n.stop()})}}function t0(n,t,e,i,r){t=(new Map).set("startTime",t).set("endTime",e).set("metadataType",i).set("payload",r);n.dispatchEvent(Uh("metadata",t))}function e0(n,t){if(t&&"chapters"==t.kind){t.mode="hidden";var e=new S(function(){t.mode="hidden"}).Fi().Ui(.5);n.Sy.push(function(){e.stop()})}}n.o4=function(){for(var n=this.Rl;n.i;)n.release()};n.Tg=function(n){return new Da(n)};function i0(I,u){function r(n){u()?u().dispatchEvent(n):I.dispatchEvent(n)}function e(n){u()?pl(u(),!0,n):n()}u||(u=function(){return null});return new Qu(function(n,t,e,i){var r=u()?u().g:I.o;r&&r.ss(n,t,e,i)},function(c,n,t){n=(new Map).set("headers",c).set("request",n).set("requestType",t);r(Uh("downloadheadersreceived",n));e(function(){if(I.Dl){var n=I.Dl;if(n.h.enabled){var t=c["cmsd-static"];if(t)try{var e=new Map,i=t.split(",");for(t=0;t<i.length;t++){var r=i[t].split("=");e.set(r[0],Nh(r[1]))}}catch(f){}if(e=c["cmsd-dynamic"]){try{var u=new Map,a=e.split(";");for(e=1;e<a.length;e++){var o=a[e].split("=");u.set(o[0],Nh(o[1]))}var s=u}catch(f){s=null}s&&(n.i=s)}}}})},function(n,t,e,i){n=(new Map).set("request",n).set("error",t).set("httpResponseCode",e).set("aborted",i);r(Uh("downloadfailed",n))},function(A,k,M){e(function(){var n=I.Nl,t=M;t=void 0===t?{}:t;if(n.i.enabled)if("HEAD"===k.method)oh(n,k);else switch(A){case 0:try{if(n.i.enabled){if(t.type){n:{switch(t.type){case 4:var e=n.v?Ah:Sh;break n;case 3:case 2:e=n.v?Mh:kh;break n;case 5:e="s";break n}e=void 0}n.g=e}oh(n,k,{Sb:ph,Ab:!n.l})}}catch(S){yn("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",S)}break;case oa:try{if(n.i.enabled){var i=t.Yf;e=0;i&&(e=i.endTime-i.startTime);var r={d:1e3*e,Xb:n.h.D1()?"l":"v"};r.Sb=fh(t);var u=r.Sb===gh||r.Sb===wh||r.Sb===bh||r.Sb===Eh,a=t.stream;if(a){var o=n.h.zm();if(u&&(r.Lb=ch(n,a.type),r.Sb!==Eh)){var s=lh(n,a.type);r.Ob=o?s/Math.abs(o):s}a.ga&&(r._b=a.ga/1e3);if(a.jo&&i){var f=a.jo.Zv(i.endTime,!0,0>o);if(f){var c=f.next().value;if(c&&c!=i){if(!it(i.xh(),c.xh())){var l=c.xh()[0],h=k.Of[0],d=new URL(l),v=new URL(h);if(d.origin!==v.origin)var m=l;else{for(var p=d.pathname.split("/").slice(1),w=v.pathname.split("/").slice(1,-1);p[0]===w[0];)p.shift(),w.shift();for(;w.length;)w.shift(),p.unshift("..");m=p.join("/")}r.xb=m}if((c.Uh||c.Fh)&&(i.Uh!=c.Uh||i.Fh!=c.Fh)){var g=c.Uh+"-";c.Fh&&(g+=c.Fh);r.Bb=g}}}var b=n.h.zm()||1,y=lh(n,a.type)||500,T=a.ga;var E=T?T*(i.endTime-i.startTime)/1e3/(y/b/1e3)*n.i.J2:NaN;isNaN(E)||(r.Ub=E)}}u&&r.Sb!==Eh&&(r.Fb=hh(n,r.Sb)/1e3);oh(n,k,r)}}catch(S){yn("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",S)}break;case 2:case 5:case 6:oh(n,k,{Sb:"k"});break;case 4:oh(n,k,{Sb:"o"})}})},function(n,t,e,i){(n=u()?u().v:I.N)&&n.s4&&n.s4(i)},function(n,t){if(t.data){t=t.data.byteLength;var e=u()?u().getStats():I.p;e&&(e.Sm=isNaN(e.Sm)?t:e.Sm+t,0===n&&(e.Am=t))}})}function r0(t,n){return new Mf(t.h,t.g,t.i.Th,n,function(){t.hy&&Ff(t.hy,!0);t.v&&t.v.op();t.Pl&&o0(t)},function(n){return t.dispatchEvent(n)})}function u0(e,n){n=new Rl(e.sy,e.D1()||0<n);n.addEventListener("enter",function(n){H0(e,"timelineregionenter",n.region)});n.addEventListener("exit",function(n){H0(e,"timelineregionexit",n.region)});n.addEventListener("skip",function(n){var t=n.region;n.seeking||(H0(e,"timelineregionenter",t),H0(e,"timelineregionexit",t))});var t=new Uf(e.h);t.i.add(n);e.uy&&t.i.add(e.uy);return t}function a0(n,t,e){n.Pl=new Du;n.Pl.i=_u;Cu(n.Pl,e,Math.min(.5,e/2));A0(n);n.ly=new S(function(){o0(n)}).Bi(.25);n.l.K(t,"waiting",function(){return o0(n)});n.l.K(t,"stalled",function(){return o0(n)});n.l.K(t,"canplaythrough",function(){return o0(n)});n.l.K(t,"progress",function(){return o0(n)})}function o0(n){switch(n.m){case Q0:if(n.Iy())var t=!0;else{var e=xo(n.h.buffered);t=null!=e&&e>=n.h.duration-1}break;case $0:n:if(n.Iy()||Ls(n.R))t=!0;else{if(n.g.xv.D1()){e=n.g.xv.H1();var i=xo(n.h.buffered);if(null!=i&&i>=e){t=!0;break n}}t=!1}break;default:t=!1}i=Fo(n.h.buffered,n.h.currentTime);e=n.Pl;var r=t,u=e.g.get(e.i);t=e.i;i=r||i>=u?Lu:_u;e.i=i;(t=t!=i)&&i===Lu&&(e.h=Date.now());t&&A0(n)}function s0(n,t,e,i){return new Ms(n,t,e,i)}function f0(n){return new eh({G:function(){return n.o?n.o.G():NaN},Wd:function(){return n.Wd()},getCurrentTime:function(){return n.h?n.h.currentTime:0},zm:function(){return n.zm()},f4:function(){return n.f4()},Cb:function(){return n.Cb()},D1:function(){return n.D1()}},n.i.Y2)}function c0(u){return new wc(u.g,{up:function(){return u.I?u.I.Cv():0},G:function(){return u.o.G()},zm:function(){return u.zm()},Gm:u.R,jl:u.D,Al:function(n){return X0(u,n)},uh:function(n){return u.dispatchEvent(n)},Nv:function(n,t){var e=n.startTime;n=n.endTime;var i=t.type;t=t.va.includes(",");if(i!=z){if(u.I){u.I.Ov();var r=Os(u.R,i);!u.D1()&&u.h.paused&&null!=r&&0<r&&u.I.Cv()<r&&u.I.Dv(r)}o0(u)}e=(new Map).set("start",e).set("end",n).set("contentType",i).set("isMuxed",t);u.dispatchEvent(Uh("segmentappended",e))},Rp:function(n,t){(t=t.Bh)&&u.uy&&ac(u.uy,t,n)},Pp:function(n,t){var e=u.P;if(e.h.Hl&&!e.I&&["audio","video"].includes(n)){n=new Pa(dt(t));t=0;for(var i=lt(n.data),r=i.next();!r.done;r=i.next())t+=r.value.length;if(0==t)e=Promise.resolve();else{t=new Uint8Array(t);i=0;n=lt(n.data);for(r=n.next();!r.done;r=n.next())r=r.value,t.set(r,i),i+=r.length;ja(e,"cenc",t);e=e.m}}else e=Promise.resolve();return e},Mp:function(n,t){return u.Mp(n,t)}})}n.B=function(n,t){2==arguments.length&&"string"==typeof n&&(n=tl(n,t));n.Th&&"c4"in n.Th&&(On("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),n.I2.I2=n.Th.c4,delete n.Th.c4);n.Th&&"jd"in n.Th&&(On("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),n.I2.I2=n.Th.jd,delete n.Th.jd);n.Th&&"l4"in n.Th&&(On("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),n.Th.Jw=n.Th.l4&&kt(),delete n.Th.l4);if(n.Th&&"boolean"==typeof n.Th.n2){On("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var e=n.Th.n2;n.Th.n2={};n.Th.n2.enabled=e}if(n.Th&&!(n.Th.n2&&"t2"in n.Th.n2)&&("h4"in n.Th||"d4"in n.Th)){e=n.Th.h4||0;var i=Math.abs((n.Th.d4||1)-e)/2;n.Th.n2=n.Th.n2||{};n.Th.n2.t2=e+i;n.Th.n2.e2=i}n.Th&&"d4"in n.Th&&(On("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete n.Th.d4);n.Th&&"h4"in n.Th&&(On("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete n.Th.h4);n.Th&&"v4"in n.Th&&(On("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),n.Th.n2=n.Th.n2||{},n.Th.n2.t2=n.Th.v4,delete n.Th.v4);n.Th&&"m4"in n.Th&&(On("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),n.Th.n2=n.Th.n2||{},n.Th.n2.e2=n.Th.m4,delete n.Th.m4);n.Th&&"w4"in n.Th&&(On("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),n.Th.n2=n.Th.n2||{},n.Th.n2.i2=n.Th.w4,delete n.Th.w4);n.Th&&"g4"in n.Th&&(On("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),n.Th.n2=n.Th.n2||{},n.Th.n2.u2=n.Th.g4,delete n.Th.g4);n.Th&&"b4"in n.Th&&(On("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),n.Th.n2=n.Th.n2||{},n.Th.n2.a2=n.Th.b4,delete n.Th.b4);n.Th&&"y4"in n.Th&&(On("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),n.Th.n2=n.Th.n2||{},n.Th.n2.o2=n.Th.y4,delete n.Th.y4);if(n.I2&&"T4"in n.I2){On("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var r=n.I2.T4;n.I2.Vd=function(){return r};delete n.I2.T4}n.manifest&&n.manifest.Cw&&"E4"in n.manifest.Cw&&(On("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete n.manifest.Cw.E4);n.Th&&"S4"in n.Th&&(On("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete n.Th.S4);n.manifest&&n.manifest.ow&&"A4"in n.manifest.ow&&(On("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete n.manifest.ow.A4);n.Th&&"$d"in n.Th&&(On("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),n.I2.$d=n.Th.$d,delete n.Th.$d);n.Th&&n.Th.Ep&&(void 0==n.Th.Tp&&(n.Th.Tp=0),void 0==n.Th.Bv&&(n.Th.Bv=.01),void 0==n.Th.Vm&&(n.Th.Vm=2),void 0==n.Th.bp&&(n.Th.bp=.1),void 0==n.Th.kp&&(n.Th.kp=1),void 0==n.Th.Uf&&(n.Th.Uf={}),void 0==n.Th.Uf.Ms&&(n.Th.Uf.Ms=100),void 0==n.manifest&&(n.manifest={}),void 0==n.manifest.ow&&(n.manifest.ow={}),void 0==n.manifest.ow.dw&&(n.manifest.ow.dw=!1),void 0==n.manifest.Uf&&(n.manifest.Uf={}),void 0==n.manifest.Uf.Ms&&(n.manifest.Uf.Ms=100),void 0==n.bh&&(n.bh={}),void 0==n.bh.Uf&&(n.bh.Uf={}),void 0==n.bh.Uf.Ms&&(n.bh.Uf.Ms=100));e=ll(this.i,n,T0(this));l0(this);return e};function l0(n){n.gy=new po(n.i,n.Tl,n.P);if(n.N){var t=te(n.i.manifest);n.h&&"AUDIO"===n.h.nodeName&&(t.Zp=!0);n.N.B(t)}n.P&&n.P.B(n.i.bh);if(n.v){n.v.B(n.i.Th);try{n.m!=z0&&bo(n.gy,n.g)&&_0(n)}catch(r){X0(n,r)}n.o&&N0(n);t=n.v.v;!t||t.Go&&t.qo||P0(n)}n.D&&(n.D.Mf(n.i.Th.$w),n.D.If(n.i.Th.Qw),n.D.m=n.i.Th.Wf);n.R&&(n.R.B(n.i.I2),n.R.Rd=n.i.manifest.rw);if(n.C)if(t=n.i.z2,n.Oy!=t){var e=n.C;n.C=t();n.C.B?n.C.B(n.i.K2):On("Text displayer w/ configure",'Text displayer should have a "configure" method!');n.C.gb||On("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!');n.C.wb(e.Km());e.su();if(n.R){e=n.R;var i=n.C;e.Tl=i;e.h&&(e.h.v=i)}n.Oy=t;n.v&&(t=n.v,(e=t.g.get(z))&&Mc(t,e.stream,!0,0,!0))}else n.C.B&&n.C.B(n.i.K2);n.o&&(n.o.B(n.i.R2),n.i.R2.enabled?n.o.enable():n.o.disable(),U0(n));n.Pl&&(t=n.i.Th.Bv,n.g&&(t=Math.max(t,n.g.Uv)),Cu(n.Pl,t,Math.min(.5,t/2)));n.g&&G0(n.g.xv,n.i.G2,n.i.q2);n.s&&n.s.B(n.i.sg);n.Nl&&n.Nl.B(n.i.Y2);n.Dl&&n.Dl.B(n.i.tg)}n.getConfiguration=function(){var n=T0(this);ll(n,this.i,T0(this));return n};n.M4=function(){var n=T0(this);ll(n,this.i,T0(this));return il(this.i,T0(this))};n.I4=function(){if(this.h){var n=this.h.buffered.length;n=n?this.h.buffered.end(n-1):0;var t=this.getConfiguration().Th.yp;t=Math.min(this.h.currentTime+t,this.zy().end);if(n>=t)return 1;if(!(n<=this.h.currentTime)&&n<t)return(n-this.h.currentTime)/(t-this.h.currentTime)}return 0};n.N4=function(){for(var n in this.i)delete this.i[n];ll(this.i,T0(this),T0(this));l0(this)};n.P4=function(){return this.m};n.R4=function(){return this.g?this.g.type:null};n.D4=function(){return this.h};n.f4=function(){return this.D};n.Pg=function(){return this.El};n.C4=function(){return this.s?this.s:null};n.D1=function(){return this.g&&!this._4()?this.g.xv.D1():this.h&&this.h.src?Infinity==this.h.duration:!1};n.B1=function(){return this.g?this.g.xv.B1():!1};n.L4=function(){if(this.g&&!this._4()){var n=this.g.ma;return n.length?!n[0].Gu:!1}return this.h&&this.h.src?this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight:!1};n.zy=function(){if(this.g&&!this._4()){if(!this.xd&&"HLS"==this.g.type)return{start:0,end:0};var n=this.g.xv;return{start:n.q1(),end:n.G1()}}if(this.h&&this.h.src&&(n=this.h.seekable)&&n.length){var t=this.i?this.i.G2:0;t=Math.max(n.start(0),t);var e=this.i?this.i.q2:Infinity;n=Math.min(n.end(n.length-1),e);return{start:t,end:n}}return{start:0,end:0}};n.O4=function(){this.D1()&&(this.h.currentTime=this.zy().end)};n.x4=function(){return this.xd};n.keySystem=function(){var n=this.Bf();return n?n.keySystem:""};n.Bf=function(){return this.P?this.P.i:null};n.Wl=function(){return this.P?this.P.Wl():Infinity};n.Kl=function(){return this.P?this.P.Kl():[]};n.zl=function(){return this.P?this.P.zl():{}};n.U4=function(){return this.Pl?this.Pl.i==_u:!1};n.zm=function(){return this.h?this.Sl?this.Sl.g:1:0};n.F4=function(i,n){var r=this;n=void 0===n?!0:n;0==i?M("A trick play rate of 0 is unsupported!"):(this.Ld.q(),this.Sl.set(i),this.m==$0&&(this.o.vs(i),Ec(this.v,n&&1<Math.abs(i))),this.D1()&&this.Ld.K(this.h,"timeupdate",function(){var n=r.h.currentTime,t=r.zy(),e=r.i.Th.Xv;0<i?Math.floor(n)>=Math.floor(t.end)&&r.B4():Math.floor(n)<=Math.floor(t.start+e)&&r.B4()}))};n.B4=function(){var n=this.Sl.ym();this.m==Q0&&this.Sl.set(n);this.m==$0&&(this.Sl.set(n),this.o.vs(n),Ec(this.v,!1));this.Ld.q()};n.Cb=function(){if(this.g&&!this._4()){for(var n=this.v?this.v.v:null,t=[],e=0,i=lt(this.g.ma),r=i.next();!r.done;r=i.next())if(r=r.value,eu(r)){var u=Yr(r);u.active=r==n;u.active||1==e||null==n||r.Gu!=n.Gu||r.Vu!=n.Vu||(u.active=!0);u.active&&e++;t.push(u)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(n){return nu(n)}):[]};n.Zy=function(){if(this.g&&!this._4()){for(var n=this.v?this.v.s:null,t=[],e=lt(this.g.ha),i=e.next();!i.done;i=e.next()){i=i.value;var r=$r(i);r.active=i==n;t.push(r)}return t}return this.h&&this.h.src&&this.h.textTracks?v0(this).map(function(n){return Zr(n)}):[]};n.X4=function(){var n=this.my;this.g&&(n=this.g.yo);return n.map(function(n){return Qr(n)})};n.H4=function(r){var u=this,t,a,o,e;return sn(function(n){if(1==n.i){if(u.m!=$0&&u.m!=Q0)return n.A(null);t=u.my;u.g&&(t=u.g.yo);return(a=t.find(function(n){return n.id==r}))?a.jo?n.k(2):an(n,a.Fd(),2):n.A(null)}if(4!=n.i)return o=[],a.jo.Wv(function(n){var t=h0(n.Co||a.Co);if(t){t=t.rows*t.yr;for(var e=n.v-n.startTime,i=0;i<t;i++)o.push(u.j4(r,n.startTime+e*i/t))}}),an(n,Promise.all(o),4);e=n.h;return n.A(e.filter(function(n){return n}))})};function h0(n){return n?(n=/(\d+)x(\d+)/.exec(n))?{yr:parseInt(n[1],10),rows:parseInt(n[2],10)}:null:null}n.j4=function(t,e){var i=this,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){if(1==n.i){if(i.m!=$0&&i.m!=Q0)return n.A(null);r=i.my;i.g&&(r=i.g.yo);return(u=r.find(function(n){return n.id==t}))?u.jo?n.k(2):an(n,u.Fd(),2):n.A(null)}a=u.jo.find(e);if(null==a)return n.A(null);o=u.jo.get(a);s=h0(o.Co||u.Co);if(!s)return n.A(null);f=u.width||0;c=u.height||0;l=f/s.yr;h=c/s.rows;d=s.yr*s.rows;v=o.v-o.startTime;m=o.p||v/d;p=o.startTime;g=w=0;1<d&&(b=Math.floor((e-o.startTime)/m),p=o.startTime+b*m,w=b%s.yr*l,g=Math.floor(b/s.yr)*h);y=!1;if(T=o.zh)y=!0,h=T.height,w=T.positionX,g=T.positionY,l=T.width;return n.A({Yf:o,imageHeight:c,imageWidth:f,height:h,positionX:w,positionY:g,startTime:p,duration:m,Of:o.xh(),width:l,V4:y})})};n.G4=function(e){function n(){var n=i.g.ha.find(function(n){return n.id==e.id});n&&n!=i.v.s&&(Vf(i.p.h,n,!1),Ac(i.v,n),O0(i),F0(i),i.yy=n.language)}var i=this;if(this.g&&this.I&&(n(),!this._4()))return;(function(){if(i.h&&i.h.textTracks){var n=v0(i),t=n.find(function(n){return"disabled"!==n.mode});if(n=n.find(function(n){return Jr(n)===e.id}))t!==n&&(t&&(t.mode="disabled",i.l.Y(t,"cuechange"),i.C.remove(0,Infinity)),n&&d0(i,n)),O0(i),F0(i)}})()};function d0(t,e){t.l.K(e,"cuechange",function(){t.C.remove(0,Math.max(0,t.h.currentTime-t.i.Th.Cp));var n=Array.from(e.activeCues||[]).map(jl).filter(br);t.C.append(n)});e.mode=document.pictureInPictureElement?"showing":"hidden"}n.q4=function(e,i,r){function n(){var n=u.g.ma.find(function(n){return n.id==e.id});if(n&&eu(n)){var t=u.v.v;u.i.R2.enabled&&(t.Gu!=n.Gu||t.Vu&&n.Vu&&t.Vu.language==n.Vu.language&&t.Vu.ba==n.Vu.ba)&&M("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");u._4()?R0(u,n,!1,!1,0):R0(u,n,!1,i||!1,r||0);u.Rd=new yu(n,u.i.I2.v1);N0(u)}}var u=this;i=void 0===i?!1:i;r=void 0===r?0:r;if(this.g&&this.I&&(n(),!this._4()))return;(function(){if(u.h&&u.h.audioTracks){var n=Array.from(u.h.audioTracks);n=lt(n);for(var t=n.next();!t.done;t=n.next())if(t=t.value,Jr(t)==e.id){D0(u,t);break}}})()};n.K4=function(){return W0(this.Cb())};n.W4=function(){return W0(this.Zy())};n.z4=function(){return Array.from(K0(this.Cb()))};n.Y4=function(){return Array.from(K0(this.Zy()))};n.i4=function(u,a,o,s,f){function n(){function n(n,t){return n.Gu||t.Gu?n.Gu&&t.Gu?Math.abs((n.Gu.height||0)-(t.Gu.height||0))+Math.abs((n.Gu.width||0)-(t.Gu.width||0)):Infinity:0}c.Rd=new Tu(u,a||"",o||0,"",!1,"","","",c.i.I2.v1,f||"");var t=c.v.v,e=c.Rd.create(c.g.ma),i=null;e=lt(e.values());for(var r=e.next();!r.done;r=e.next())r=r.value,eu(r)&&(!i||n(i,t)>n(r,t))&&(i=r);i!=t&&(i?(t=Yr(i),c.q4(t,!0,s||0)):P0(c))}var c=this;o=void 0===o?0:o;s=void 0===s?0:s;f=void 0===f?"":f;if(this.g&&this.I&&(n(),!this._4()))return;(function(){if(c.h&&c.h.audioTracks){var n=ru(c.Cb(),u,a||"",!1)[0];n&&c.q4(n)}})()};n.r4=function(t,e,i){function n(){r.yy=t;r.Ty=e||"";r.Ey=i||!1;var n=ru(r.g.ha,r.yy,r.Ty,r.Ey)[0]||null;n&&n!=r.v.s&&(Vf(r.p.h,n,!1),r.i.Th.Wm||r.n4())&&(Ac(r.v,n),O0(r),F0(r))}var r=this;i=void 0===i?!1:i;if(this.g&&this.I&&(n(),!this._4()))return;(function(){var n=ru(r.Zy(),t,e||"",i||!1)[0];n&&r.G4(n)})()};n.Q4=function(i,r,u){function n(){for(var n=null,t=lt(a.g.ma),e=t.next();!e.done;e=t.next())if(e=e.value,e.Vu.label==i){n=e;break}null!=n&&(a.Rd=new Tu(n.language,"",0,"",!1,"",i,"",a.i.I2.v1,""),P0(a,r,u))}var a=this;r=void 0===r?!0:r;u=void 0===u?0:u;if(this.g&&this.I&&(n(),!this._4()))return;(function(){if(a.h&&a.h.audioTracks){var n=Array.from(a.h.audioTracks),t=null;n=lt(n);for(var e=n.next();!e.done;e=n.next())e=e.value,e.label==i&&(t=e);t&&D0(a,t)}})()};n.n4=function(){var n=this.yl;return this.C?this.C.Km():n};n.J4=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?p0(this).map(function(n){return Zr(n)}):[]};n.Z4=function(n){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=kr(n),e=p0(this).filter(function(n){return kr(n.language)==t});if(!e||!e.length)return[];n=[];var i=new Set;e=lt(e);for(var r=e.next();!r.done;r=e.next())if((r=r.value)&&r.cues){r=lt(r.cues);for(var u=r.next();!u.done;u=r.next()){var a=u.value;(u=a.id)&&""!=u||(u=a.startTime+"-"+a.endTime+"-"+a.text);a={id:u,title:a.text,startTime:a.startTime,endTime:a.endTime};i.has(u)||(n.push(a),i.add(u))}}return n};function v0(n){return Array.from(n.h.textTracks).filter(function(n){return"metadata"!=n.kind&&"chapters"!=n.kind&&"Shaka Player TextTrack"!=n.label})}function m0(n){return Array.from(n.h.textTracks).filter(function(n){return"metadata"==n.kind})}function p0(n){return Array.from(n.h.textTracks).filter(function(n){return"chapters"==n.kind})}n.n3=function(n){n=!!n;this.yl!=n&&(this.yl=n,this.m==$0?(this.C.wb(n),this.i.Th.Wm||(n?this.v.s||(n=ru(this.g.ha,this.yy,this.Ty,this.Ey),0<n.length&&(Ac(this.v,n[0]),O0(this),F0(this))):Tc(this.v))):this.h&&this.h.src&&this.h.textTracks&&this.C.wb(n),x0(this))};n.t3=function(){if(this.I)var n=this.I.Cv();else{if(null==this.Ml)return new Date;n=this.Ml}if(this.g&&!this._4()){var t=this.g.xv;return new Date(1e3*((t.m||t.g)+n))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*n)):null};n.e3=function(){if(this.g&&!this._4()){var n=this.g.xv;return new Date(1e3*(n.m||n.g))}return this.h&&this.h.getStartDate?(n=this.h.getStartDate(),isNaN(n.getTime())?null:n):null};n.S1=function(){return this.D1()?this.g?this.g.xv.S1():null:null};n.Wd=function(){if(this.m==$0)return this.R.Wd();var n={total:[],Vu:[],Gu:[],text:[]};this.m==Q0&&(n.total=Xo(this.h.buffered));return n};n.getStats=function(){if(this.m!=$0&&this.m!=Q0)return{width:NaN,height:NaN,i3:NaN,r3:NaN,u3:NaN,a3:NaN,o3:NaN,s3:NaN,f3:NaN,c3:NaN,l3:NaN,h3:NaN,d3:NaN,v3:NaN,m3:NaN,w3:NaN,g3:NaN,b3:NaN,y3:NaN,T3:NaN,E3:NaN,S3:NaN,A3:NaN,M3:NaN,I3:[],N3:[]};k0(this);var n=this.h,t=n.currentTime/n.duration;if(!isNaN(t)&&!this.D1()){var e=this.p;t=Math.round(100*t);e.g=isNaN(e.g)?t:Math.max(e.g,t)}this.I&&(this.p.Cl=this.I.Lv(),this.p.El=this.I._v());if(n.getVideoPlaybackQuality){e=n.getVideoPlaybackQuality();t=this.p;var i=Number(e.totalVideoFrames);t.Nl=Number(e.droppedVideoFrames);t.Pl=i;this.p.Il=Number(e.corruptedVideoFrames)}this.P?(e=this.P,e=e.N?e.N:NaN):e=NaN;this.p.o=e;if(this.m==$0){e=this.v.v;t=this.v.s;if(e){i=this.Sl?this.Sl.g:1;var r=i*e.ga;t&&t.ga&&(r+=i*t.ga);this.p.p=r}e&&e.Gu&&(t=this.p,i=e.Gu.height||NaN,t.m=e.Gu.width||NaN,t.l=i);this.D1()&&(e=this.e3().valueOf()+1e3*n.currentTime,this.p.C=(Date.now()-e)/1e3);this.g&&(this.p.D=this.g.P3,this.p.I=this.g.R3,this.g.xv&&(this.p.R=this.g.xv.h));e=this.o.G();this.p.s=e}this.m==Q0&&(e=this.p,e.Sm=isNaN(e.Sm)?NaN:e.Sm+NaN,e=this.p,t=n.videoHeight||NaN,e.m=n.videoWidth||NaN,e.l=t);var u=this.p;n=u.m;e=u.l;t=u.p;i=u.Pl;r=u.Nl;var a=u.Il,o=u.El,s=u.Cl,f=u.s,c=u.g,l=u.P,h=u.N,d=u.v,v=Xf(u.i,"playing"),m=Xf(u.i,"paused"),p=Xf(u.i,"buffering"),w=u.o,g=u.C,b=u.R,y=u.Am,T=u.Sm,E=u.Sl,S=u.D,A=u.I,k=Hf(u.i),M=[];u=lt(u.h.i);for(var I=u.next();!I.done;I=u.next())I=I.value,M.push({timestamp:I.timestamp,id:I.id,type:I.type,Em:I.Em,ga:I.ga});return{width:n,height:e,i3:t,r3:i,u3:r,a3:a,o3:o,s3:s,f3:f,c3:c,l3:l,h3:h,d3:d,v3:v,m3:m,w3:p,g3:w,b3:g,y3:b,T3:y,E3:T,S3:E,A3:S,M3:A,N3:k,I3:M}};n.D3=function(t,e,i,r,u,a,o){o=void 0===o?!1:o;var s=this,f,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){switch(n.i){case 1:if(s.m!=$0&&s.m!=Q0)throw new vt(1,7,7004);"subtitles"!=i&&"captions"!=i&&M("Using a kind value different of `subtitles` or `captions` can cause unwanted issues.");if(r){n.k(2);break}return an(n,w0(s,t),3);case 3:r=n.h;case 2:f=[];s.s&&(f=s.s.C3());if(s.m!=Q0){n.k(4);break}o&&(i="forced");return an(n,g0(s,t,e,i,r,a||"",f),5);case 5:c=kr(e);l=s.Zy();if(h=l.find(function(n){return kr(n.language)==c&&n.label==(a||"")&&n.kind==i}))return _0(s),n.A(h);throw new vt(1,2,2012);case 4:d=Ki;v=s.zy();m=v.end-v.start;s.g&&(m=s.g.xv.s1());if(Infinity==m)throw new vt(1,4,4033);if(!f.length){n.k(6);break}return an(n,b0(s,t,s.D,s.i.Th.Uf),7);case 7:p=n.h,w=y0(s,p,r,f),g=new Blob([w],{type:"text/vtt"}),t=sf(g),r="text/vtt";case 6:b={id:s.vy++,Ho:null,groupId:null,Fd:function(){return Promise.resolve()},jo:Cf(0,m,[t]),mimeType:r||"",va:u||"",kind:i,Za:!1,vo:[],Pi:new Set,language:e,Xo:e,label:a||null,type:d.Xu,Io:!1,Wo:null,Yd:null,Ta:[],Po:!!o,ba:null,ya:null,"do":!1,Rm:null,Bo:null,external:!0,Ea:!1,uo:new Set([$i(r||"",u||"")]),Hd:!1};y=$i(b.mimeType,b.va);T=cr(y);if(!T)throw new vt(2,2,2014,r);s.g.ha.push(b);_0(s);return n.A($r(b))}})};n._3=function(t,e){var i=this,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){switch(n.i){case 1:if(i.m!=$0&&i.m!=Q0)throw new vt(1,7,7004);if(e){n.k(2);break}return an(n,w0(i,t),3);case 3:e=n.h;case 2:if("text/vtt"!=e)throw new vt(1,2,2017,t);r=Ki;u=i.zy();a=u.end-u.start;i.g&&(a=i.g.xv.s1());if(Infinity==a)throw new vt(1,4,4045);return an(n,b0(i,t,i.D,i.i.Th.Uf),4);case 4:o=n.h;s=pr[e];if(!s)throw new vt(2,2,2014,e);f=s();c={$u:0,Qu:0,Ju:a,Zu:0};l=dt(o);h=f.na(l,c,t,[]);d=[];v=lt(h);m=v.next();for(p={};!m.done;p={L3:void 0,O3:void 0},m=v.next())p.O3=m.value,p.L3=null,w=function(n){return function(){null==n.L3&&(n.L3=Xi([t],[n.O3.sr]));return n.L3||[]}}(p),g=new O(p.O3.startTime,p.O3.endTime,w,0,null,null,0,0,Infinity),p.O3.sr.includes("#xywh")&&(b=p.O3.sr.split("#xywh=")[1].split(","),4===b.length&&g.f0({height:parseInt(b[3],10),positionX:parseInt(b[0],10),positionY:parseInt(b[1],10),width:parseInt(b[2],10)})),d.push(g);y=e;if(!d.length){n.k(5);break}return an(n,Ol(d[0].xh()[0],i.D,i.i.manifest.Uf),6);case 6:y=n.h;case 5:return T={id:i.vy++,Ho:null,groupId:null,Fd:function(){return Promise.resolve()},jo:new Y(d),mimeType:y||"",va:"",kind:"",Za:!1,vo:[],Pi:new Set,language:"und",Xo:null,label:null,type:r.Hu,Io:!1,Wo:null,Yd:null,Ta:[],Po:!1,ba:null,ya:null,"do":!1,Rm:null,Co:"1x1",Bo:null,external:!0,Ea:!1,uo:new Set([$i(y||"","")]),Hd:!1},i.m==Q0?i.my.push(T):i.g.yo.push(T),_0(i),n.A(Qr(T))}})};n.x3=function(t,e,i){var r=this,u,a,o,s;return sn(function(n){switch(n.i){case 1:if(r.m!=$0&&r.m!=Q0)throw new vt(1,7,7004);if(i){n.k(2);break}return an(n,w0(r,t),3);case 3:i=n.h;case 2:return u=[],r.s&&(u=r.s.C3()),an(n,g0(r,t,e,"chapters",i,"",u),4);case 4:a=n.h;o=r.J4();s=o.find(function(n){return n.language==e});if(!s){n.k(5);break}return an(n,new Promise(function(n,t){r.l.W(a,"load",n);r.l.W(a,"error",function(){t(new vt(1,2,2015))})}),6);case 6:return _0(r),n.A(s);case 5:throw new vt(1,2,2012)}})};function w0(t,e){var i;return sn(function(n){switch(n.i){case 1:return q(n,2),an(n,Ol(e,t.D,t.i.Th.Uf),4);case 4:i=n.h;K(n,3);break;case 2:W(n);case 3:if(i)return n.A(i);throw new vt(1,2,2011,e)}})}function g0(o,s,f,c,l,h,d){var v,m,p,w;return sn(function(n){if(1==n.i)return"text/vtt"!=l||d.length?an(n,b0(o,s,o.D,o.i.Th.Uf),3):n.k(2);2!=n.i&&(v=n.h,m=y0(o,v,l,d),p=new Blob([m],{type:"text/vtt"}),s=sf(p),l="text/vtt");w=document.createElement("track");var t=o.Nl,e=s;try{if(t.i.enabled){var i=ah(t);i.Sb=Th;i.Ab=!0;var r=dh(i);var u=mh(e,r)}else u=e}catch(a){yn("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",a),u=e}w.src=u;w.label=h;w.kind=c;w.srclang=f;o.h.getAttribute("crossorigin")||o.h.setAttribute("crossorigin","anonymous");o.h.appendChild(w);return n.A(w)})}function b0(i,r,u,a){var o,s,f;return sn(function(n){if(1==n.i){o=oa;s=na([r],a);s.method="GET";var t=i.Nl;try{t.i.enabled&&oh(t,s,{Sb:Th,Ab:!0})}catch(e){yn("CMCD_TEXT_ERROR","Could not generate text CMCD data.",e)}return an(n,u.request(o,s).promise,2)}f=n.h;return n.A(f.data)})}function y0(n,t,e,i){var r=pr[e];if(r)return e=r(),n={$u:0,Qu:0,Ju:n.h.duration,Zu:0},t=dt(t),t=e.na(t,n,null,[]),th(t,i);throw new vt(2,2,2014,e)}n.U3=function(n,t){this.Tl.width=n;this.Tl.height=t};n.Py=function(n){if(this.m==$0){var t=this.v;n=void 0===n?.1:n;if(t.m.i)t=!1;else if(t.p)t=!1;else{for(var e=lt(t.g.values()),i=e.next();!i.done;i=e.next())i=i.value,!i.mp||i.Jm||i.ip||(i.mp=!1,Wc(t,i,n));t=!0}}else t=!1;return t};n.Rg=function(){M("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for.");return this.g};n.F3=function(){return this.Od};n.B3=function(){var n={Gu:null,Vu:null,text:null};if(this.m!=$0)return n;var t=this.v.v,e=this.h.currentTime;t=lt([t.Gu,t.Vu,this.v.s]);for(var i=t.next();!i.done;i=t.next())if((i=i.value)&&i.jo){var r=i.jo.find(e);r=i.jo.get(r);r={va:r.va||i.va,mimeType:r.mimeType||i.mimeType,ga:r.ga||i.ga};"video"==i.type?(r.width=i.width,r.height=i.height,n.Gu=r):"audio"==i.type?n.Vu=r:i.type==z&&(n.text=r)}return n};function T0(e){var n=cl();n.Th.Lp=function(n){if(e.D1()){var t=null;1001==n.code||1002==n.code?(t=1,e.i.Th.Ep&&(t=.1)):1003==n.code&&(t=.1);null!=t&&(n.kn=1,e.Py(t))}};n.z2=function(){return!e.ny||Rt()&&!document.fullscreenEnabled?HTMLMediaElement.prototype.addTextTrack?new Vl(e.h,"Shaka Player TextTrack"):new ql:new Kl(e.h,e.ny)};return n}n.X3=function(n){this.ny=n};function E0(n,t){for(var e=new Set,i=lt(t.ha),r=i.next();!r.done;r=i.next())r=r.value,"application/cea-608"!=r.mimeType&&"application/cea-708"!=r.mimeType||e.add(r.Ho);i=lt(t.ma);for(r=i.next();!r.done;r=i.next())if((r=r.value.Gu)&&r.Rm)for(var u=lt(r.Rm.keys()),a=u.next();!a.done;a=u.next())if(a=a.value,!e.has(a)){var o=a.startsWith("CC")?"application/cea-608":"application/cea-708",s=new Lf,f=r.Rm.get(a);o={id:n.vy++,Ho:a,groupId:null,Fd:function(){return Promise.resolve()},jo:s,mimeType:o,va:"",kind:"caption",Za:!1,vo:[],Pi:new Set,language:f,Xo:f,label:null,type:z,Io:!1,Wo:null,Yd:null,Ta:r.Ta,Po:!1,ba:null,ya:null,"do":!1,Rm:null,Bo:null,external:!1,Ea:!1,uo:new Set([$i(o,"")]),Hd:!1};t.ha.push(o);e.add(a)}}function S0(t,e){var i,r,u,a,o;return sn(function(n){if(1==n.i)return i=t.Vu,r=t.Gu,u=function(t,e){var i,r,u;return sn(function(n){if(1==n.i)return t?an(n,t.Fd(),2):n.A(null);r=(i=t.jo.Zv(e))?i.next().value:null;if(!r)return n.A(null);u=r.startTime;return n.A(u)})},an(n,u(i,e),2);if(3!=n.i)return a=n.h,an(n,u(r,e),3);o=n.h;return null!=o&&null!=a?n.A(Math.max(o,a)):null!=o?n.A(o):null!=a?n.A(a):n.A(e)})}function A0(n){var t=n.U4();if(n.p&&n.Pl&&n.I){var e=n.Sl;e.v=t;xf(e);n.Nl&&(e=n.Nl,t||e.l||(e.l=!0),e.l&&t&&(e.m=!0),e.o=t);k0(n);e=n.i.Th.n2.s2.ks;if(n.i.Th.n2.s2.enabled&&t&&n.wy<e){e=n.i.Th.n2.s2.l2;var i=n.i.Th.n2.e2,r=n.i.Th.n2.s2.c2;n.Cl&&(n.Cl=Math.min(n.Cl+ ++n.wy*r,e-i))}}t=(new Map).set("buffering",t);n.dispatchEvent(Uh("buffering",t))}function k0(n){if(n.p&&n.Pl){var t=n.p.i,e="playing";n.Pl.i==_u?e="buffering":n.Iy()?e="ended":n.h.paused&&(e="paused");var i=e;if(null==t.i)t.i={timestamp:Date.now()/1e3,state:i,duration:0},t=!0;else{var r=Date.now()/1e3;t.i.duration=r-t.i.timestamp;t.i.state==i?t=!1:(t.h.push(t.i),t.i={timestamp:r,state:i,duration:0},t=!0)}t&&(e=(new Map).set("newstate",e),n.dispatchEvent(Uh("statechanged",e)))}}function M0(n){var t=n.h.playbackRate,e=n.D1();if(n.i.Th.d2&&!e){var i=n.i.Th.v2,r=n.I4();r<=n.i.Th.m2?t!=i&&n.F4(i,!1):1==r&&t!==n.Sl.ym()&&n.B4()}if(e&&(e=n.zy(),Number.isFinite(e.end)&&!(n.h.currentTime<e.start||n.h.paused))){i=n.i.Th.n2.e2;r=n.i.Th.n2.s2.enabled;var u=n.i.Th.n2.s2.f2;if(n.i.Th.n2&&n.i.Th.n2.enabled){var a=n.i.Th.n2.t2;var o=a+i;var s=Math.max(0,a-i);var f=n.i.Th.n2.i2;var c=n.i.Th.n2.u2}else n.g&&n.g.t4&&(a=n.g.t4.t2,null!=n.g.t4.t2?o=n.g.t4.t2+i:null!=n.g.t4.l2&&(o=n.g.t4.l2),null!=n.g.t4.t2?s=Math.max(0,n.g.t4.t2-i):null!=n.g.t4.h2&&(s=n.g.t4.h2),f=n.g.t4.i2||n.i.Th.n2.i2,c=n.g.t4.u2||n.i.Th.n2.u2);n.Cl||"number"!==typeof a||(n.Cl=a);var l=n.i.Th.n2.s2.ks;r&&n.Dd&&null!==n.Cl&&"number"===typeof a&&n.wy<l&&Date.now()-n.Dd>1e3*u&&(u=n.i.Th.n2.s2.h2,n.Cl=Math.max(n.Cl-(a-u)/2,u+i),n.Dd=Date.now());r&&null!==n.Cl&&(o=n.Cl+i,s=n.Cl-i);a=e.end-n.h.currentTime;i=0;n.m==Q0&&(r=n.h.buffered,0<r.length&&(i=r.end(r.length-1),i=Math.max(f,i-e.end)));e=n.i.Th.n2.a2;r=1e3*n.i.Th.n2.o2;u=Date.now()-n.Pl.h;e&&!c&&(c=n.i.Th.n2.u2);e&&c&&u<=r?t!=c&&n.F4(c,!1):void 0!=o&&f&&a-i>o?(t!=f&&n.F4(f,!1),n.Dd=null):void 0!=s&&c&&a-i<s?(t!=c&&n.F4(c,!1),n.Dd=null):t!==n.Sl.ym()&&(n.B4(),n.Dd=Date.now())}}function I0(r){if(r.h){var n=function(n,t){var e=void 0===e?Number.EPSILON:e;if(n===t)e=!0;else{var i=Math.abs(n-t);e=i<=e?!0:e!==Number.EPSILON?Math.abs(i-e)<=Number.EPSILON:!1}return(e||t>n)&&r.py<n?(r.py=n,!0):!1},t=r.zy();t=t.end-t.start;t=0<t?r.h.currentTime/t:0;if(!isNaN(t)){t*=100;if(n(0,t))var e=Uh("started");else n(25,t)?e=Uh("firstquartile"):n(50,t)?e=Uh("midpoint"):n(75,t)?e=Uh("thirdquartile"):(n(100,t)&&(e=Uh("complete")),r.i&&Infinity!=r.i.q2&&r.Iy()&&r.h.pause());e&&r.dispatchEvent(e)}}}function N0(n){try{To(n.gy,n.g)}catch(e){return X0(n,e),!1}var t=iu(n.g.ma);t=n.Rd.create(t);n.o.ds(Array.from(t.values()));return!0}function P0(n,t,e,i,r){t=void 0===t?!0:t;e=void 0===e?0:e;i=void 0===i?!1:i;r=void 0===r?!0:r;var u;(u=N0(n)?n.o.Qo():null)&&R0(n,u,r,t,e,i)}function R0(n,t,e,i,r,u){u=void 0===u?!1:u;var a=n.v.v;if(t==a)i&&Sc(n.v,t,i,r,!0);else{var o=n.p.h;o.h!=t&&(o.h=t,o.i.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",Em:e,ga:t.ga}));Sc(n.v,t,i,r,u,e);i=null;a&&(i=Yr(a));t=Yr(t);t.active=!0;e?(e=(new Map).set("oldTrack",i).set("newTrack",t),n.Il&&ks(n.Il,t,n.R4()),e=Uh("adaptation",e),q0(n,e)):L0(n,i,t)}}function D0(n,t){var e=Array.from(n.h.audioTracks).find(function(n){return n.enabled});t.enabled=!0;e&&(t.id!==e.id&&(e.enabled=!1),e=nu(e),t=nu(t),L0(n,e,t))}function C0(n,t,e){if(0==n.i.D2)return!1;if(1==n.i.D2)return!0;var i=kr(n.i.L2);e=kr(e.language);if(2==n.i.D2)return Er(e,i);if(3==n.i.D2){if(!t)return!1;n=kr(t.language);return Er(e,i)&&!Er(n,e)}M("Invalid autoShowText setting!");return!1}function _0(n){var t=Uh("trackschanged");q0(n,t)}function L0(n,t,e){t=(new Map).set("oldTrack",t).set("newTrack",e);n.Il&&ks(n.Il,e,n.R4());e=Uh("variantchanged",t);q0(n,e)}function O0(n){var t=Uh("textchanged");q0(n,t)}function x0(n){var t=Uh("texttrackvisibility");q0(n,t)}function U0(n){n.i.R2.enabled||B0(n);var t=(new Map).set("newStatus",n.i.R2.enabled);q0(n,Uh("abrstatuschanged",t))}function F0(n){var t=n.Zy().find(function(n){return n.active});t&&n.C&&n.C.gb&&n.C.gb(t.language)}function B0(n,t){t=void 0===t?!0:t;if(n.m==$0){n.Ry.stop();for(var e=lt(n.g.ma),i=e.next();!i.done;i=e.next())i.value.Ko=0;t&&N0(n)}}n.Mp=function(e,n){if(!this.i.R2.enabled||this.m===z0||!navigator.onLine||0==n||!this.g)return!1;if(this.g.ma.some(function(n){var t=n[e.type];return t&&t.id!==e.id&&!n.Ko?"audio"==e.type?e.language===t.language:!0:!1})){for(var t=!1,i=!1,r=lt(this.g.ma),u=r.next();!u.done;u=r.next()){u=u.value;var a=u[e.type];a&&(a.id===e.id?(u.Ko=Date.now()/1e3+n,t=!0):a.Wo&&a.Wo.id==e.id&&(i=!0))}if(!t&&i)return!1;this.Ry.Bi(1);n=this.Wd().Gu.reduce(function(n,t){return n+t.end-t.start},0);P0(this,!1,n,!0,!1);return!0}return!1};function X0(t,e){var i,r,u,a;return sn(function(n){switch(n.i){case 1:if(t.m==z0)return n.A();1===e.kn&&t.p.Sl++;i=!0;if(!(t.xd&&t.g&&t.v)||3016!=e.code&&3014!=e.code&&3015!=e.code&&3018!=e.code){n.k(2);break}q(n,3);return an(n,Qc(t.v),5);case 5:r=n.h;i=!r;r&&(u=Uh("mediasourcerecovered"),t.dispatchEvent(u));K(n,2);break;case 3:W(n),i=!0;case 2:if(!i)return n.A();2===e.kn&&B0(t,!1);a=Uh("error",(new Map).set("detail",e));t.dispatchEvent(a);a.defaultPrevented&&(e.Mn=!0);on(n)}})}n.Wy=function(t,e){var i,r,u,a,o;return sn(function(n){if(1==n.i)return"fonts"in document&&"FontFace"in L?an(n,document.fonts.ready,3):n.k(0);if(!("entries"in document.fonts))return n.A();i=function(n){n=n.entries();for(var t=[],e=n.next();!1===e.done;)t.push(e.value),e=n.next();return t};r=lt(i(document.fonts));for(u=r.next();!u.done;u=r.next())if(a=u.value,a.family==t&&"swap"==a.display)return n.A();o=new FontFace(t,"url("+e+")",{display:"swap"});document.fonts.add(o);on(n)})};function H0(n,t,e,i){i=void 0===i?n:i;n=(new Map).set("detail",{Jd:e.Jd,value:e.value,startTime:e.startTime,endTime:e.endTime,id:e.id,H3:e.H3,j3:e.j3});i.dispatchEvent(Uh(t,n))}function j0(n,t,e,i){i=void 0===i?!1:i;t=(new Map).set("mediaQuality",{ga:t.ga,ya:t.ya,va:t.va,contentType:t.contentType,La:t.La,height:t.height,mimeType:t.mimeType,ba:t.ba,To:t.To,width:t.width,label:t.label,Ta:t.Ta,language:t.language}).set("position",e);n.dispatchEvent(Uh(i?"audiotrackchanged":"mediaqualitychanged",t))}function V0(n,t){t=void 0===t?!0:t;if(!n.h.error)return t?new vt(2,3,3016):null;var e=n.h.error.code;if(!t&&1==e)return null;if(t=n.h.error.msExtendedCode)0>t&&(t+=Math.pow(2,32)),t=t.toString(16);return new vt(2,3,3016,e,t,n.h.error.message)}function G0(n,t,e){0<t&&(n.D1()||n.j1(t));t=n.s1();e<t&&(n.D1()||n.o1(e))}function q0(t,e){sn(function(n){if(1==n.i)return an(n,Promise.resolve(),2);t.m!=z0&&t.dispatchEvent(e);on(n)})}function K0(n){var t=new Set;n=lt(n);for(var e=n.next();!e.done;e=n.next())e=e.value,e.language?t.add(kr(e.language)):t.add("und");return t}function W0(n){var t=new Map,r=new Map;n=lt(n);for(var e=n.next();!e.done;e=n.next()){e=e.value;var i="und",u=[];e.language&&(i=kr(e.language));"variant"==e.type?u=e.No:u=e.Ta;u&&u.length||(u=[""]);t.has(i)||t.set(i,new Set);u=lt(u);for(var a=u.next();!a.done;a=u.next())a=a.value,t.get(i).add(a),e.label&&(r.has(i)||r.set(i,new Map),r.get(i).set(a,e.label))}var o=[];t.forEach(function(n,t){n=lt(n);for(var e=n.next();!e.done;e=n.next()){e=e.value;var i=null;r.has(t)&&r.get(t).has(e)&&(i=r.get(t).get(e));o.push({language:t,role:e,label:i})}});return o}n._4=function(){return this.h&&this.h.remote?"disconnected"!=this.h.remote.state:!1};n.Iy=function(){return!this.h||this.h.ended?!0:this.h.currentTime>=this.zy().end};t("shaka.Player",s);s.prototype.V3=s.prototype.Iy;s.prototype.G3=s.prototype._4;s.prototype.Wy=s.prototype.Wy;s.prototype.q3=s.prototype.X3;s.prototype.K3=s.prototype.B3;s.prototype.W3=s.prototype.F3;s.prototype.z3=s.prototype.Rg;s.prototype.Y3=s.prototype.Py;s.prototype.Q3=s.prototype.U3;s.prototype.J3=s.prototype.x3;s.prototype.Z3=s.prototype._3;s.prototype.nT=s.prototype.D3;s.prototype.getStats=s.prototype.getStats;s.prototype.tT=s.prototype.Wd;s.prototype.bv=s.prototype.S1;s.prototype.eT=s.prototype.e3;s.prototype.iT=s.prototype.t3;s.prototype.rT=s.prototype.n3;s.prototype.uT=s.prototype.Z4;s.prototype.aT=s.prototype.J4;s.prototype.oT=s.prototype.n4;s.prototype.sT=s.prototype.Q4;s.prototype.fT=s.prototype.r4;s.prototype.cT=s.prototype.i4;s.prototype.lT=s.prototype.Y4;s.prototype.hT=s.prototype.z4;s.prototype.dT=s.prototype.W4;s.prototype.vT=s.prototype.K4;s.prototype.mT=s.prototype.q4;s.prototype.pT=s.prototype.G4;s.prototype.wT=s.prototype.j4;s.prototype.gT=s.prototype.H4;s.prototype.bT=s.prototype.X4;s.prototype.yT=s.prototype.Zy;s.prototype.TT=s.prototype.Cb;s.prototype.ET=s.prototype.B4;s.prototype.ST=s.prototype.F4;s.prototype.AT=s.prototype.zm;s.prototype.kT=s.prototype.U4;s.prototype.MT=s.prototype.zl;s.prototype.IT=s.prototype.Kl;s.prototype.NT=s.prototype.Wl;s.prototype.Bf=s.prototype.Bf;s.prototype.keySystem=s.prototype.keySystem;s.prototype.PT=s.prototype.x4;s.prototype.RT=s.prototype.O4;s.prototype.DT=s.prototype.zy;s.prototype.CT=s.prototype.L4;s.prototype.uv=s.prototype.B1;s.prototype.av=s.prototype.D1;s.prototype._T=s.prototype.C4;s.prototype.LT=s.prototype.Pg;s.prototype.OT=s.prototype.f4;s.prototype.xT=s.prototype.D4;s.prototype.UT=s.prototype.R4;s.prototype.FT=s.prototype.P4;s.prototype.BT=s.prototype.N4;s.prototype.XT=s.prototype.I4;s.prototype.HT=s.prototype.M4;s.prototype.getConfiguration=s.prototype.getConfiguration;s.prototype.B=s.prototype.B;s.prototype.jT=s.prototype.o4;s.prototype.VT=s.prototype.Dy;s.prototype.preload=s.prototype.preload;s.prototype.GT=s.prototype.Ny;s.prototype.qT=s.prototype.Uy;s.prototype.load=s.prototype.load;s.prototype.KT=s.prototype.xy;s.prototype.WT=s.prototype._y;s.prototype.detach=s.prototype.detach;s.prototype.zT=s.prototype.Cy;s.prototype.YT=s.prototype.Xl;s.$T=function(u){u=void 0===u?!0:u;var a,o,s,f,c,l,h;return sn(function(n){switch(n.i){case 1:a={};if(!u){n.k(2);break}return an(n,eo(),3);case 3:a=n.h;case 2:var t={};if(pt())for(var e in ko)t[e]=!0;e=lt(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var i=e.next();!i.done;i=e.next())i=i.value,t[i]=pt()?!!ko[i]:wt(i);o=t;e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(ht(sr));t={};e=lt(e);for(i=e.next();!i.done;i=e.next()){i=i.value;t[i]=cr(i)?!0:pt()?Dn(i)||(ci(i)?!0:!1):wt(i);var r=i.split(";")[0];t[r]=t[r]||t[i]}s=t;return an(n,xt(),4);case 4:f=n.h;c={manifest:o,media:s,bh:a,QT:f};l=Z0;for(h in l)c[h]=l[h]();return n.A(c)}})};s.JT=function(){L.Promise||M("A Promise implementation or polyfill is required");if(!(L.Promise&&L.Uint8Array&&Array.prototype.forEach)||c("Trident/"))return!1;var n=Rt();return n&&9>n||!(L.MediaKeys&&L.navigator&&L.navigator.requestMediaKeySystemAccess&&L.MediaKeySystemAccess&&L.MediaKeySystemAccess.prototype.getConfiguration)?!1:pt()?!0:wt("application/x-mpegurl")};s.ZT=function(n){nd=n};s.nE=function(n,t){Z0[n]=t};s.prototype.su=s.prototype.su;var z0=0,Y0=1,$0=2,Q0=3;s.tE={eE:z0,iE:Y0,rE:$0,uE:Q0};s.version="v4.12.6";var J0=["4","12"];Fn=new function(n){this.i=n;this.g=xn;this.h=Un}(new Ln(Number(J0[0]),Number(J0[1])));var Z0={},nd=null;function td(){this.i=[];this.g=this.l=this.v=this.h=0}function ed(n){return n.i.length?n.i.reduce(function(n,t){return n+t},0)/n.i.length:0}function i(n,t,e){var i=this;this.i=n;this.h=t;this.v=e;this.g=!1;this.l=this.h.aE();this.m=new Mn;this.m.K(this.h,google.ima.AdEvent.Type.PAUSED,function(){i.g=!0});this.m.K(this.h,google.ima.AdEvent.Type.RESUMED,function(){i.g=!1})}n=i.prototype;n.oE=function(){return!1};n.sE=function(){return!0};n.fE=function(){return!0};n.s1=function(){return this.i.s1()};n.cE=function(){return this.i.cE()};n.lE=function(){return this.h.lE()};n.hE=function(){return this.g};n.dE=function(){return 0<=this.i.getSkipTimeOffset()};n.vE=function(){var n=this.i.getSkipTimeOffset();n=this.lE()-n;return Math.max(n,0)};n.mE=function(){return this.h.getAdSkippableState()};n.jc=function(){return this.h.jc()};n.pause=function(){return this.h.pause()};n.play=function(){return this.h.resume()};n.aE=function(){return this.h.aE()};n.pE=function(n){this.v.volume=n;return this.h.pE(n)};n.wE=function(){return 0==this.h.aE()};n.gE=function(){return this.i.gE()};n.resize=function(n,t){var e=!1,i=this.v;document.fullscreenEnabled?e=!!document.fullscreenElement:i.webkitSupportsFullscreen&&(e=i.webkitDisplayingFullscreen);this.h.resize(n,t,e?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.tu)};n.bE=function(n){(this.v.muted=n)?(this.l=this.aE(),this.h.pE(0)):this.h.pE(this.l)};n.yE=function(){var n=this.i.getAdPodInfo();return null==n?1:n.getTotalAds()};n.TE=function(){var n=this.i.getAdPodInfo();return null==n?1:n.getAdPosition()};n.EE=function(){return this.i.EE()};n.SE=function(){return this.i.SE()};n.AE=function(){return this.i.AE()};n.kE=function(){return this.i.kE()};n.ME=function(){return this.i.ME()};n.IE=function(){return this.i.IE()};n.NE=function(){return this.i.NE()};n.PE=function(){return this.i.PE()};n.RE=function(){return this.i.RE()};n.DE=function(){var n=this.i.getAdPodInfo();return null==n?0:n.DE()};n.CE=function(){var n=this.i.getAdPodInfo();return null==n?0:n.CE()};n.release=function(){this.h=this.i=null};t("shaka.ads.ClientSideAd",i);i.prototype.release=i.prototype.release;i.prototype.CE=i.prototype.CE;i.prototype.DE=i.prototype.DE;i.prototype.RE=i.prototype.RE;i.prototype.PE=i.prototype.PE;i.prototype.NE=i.prototype.NE;i.prototype.IE=i.prototype.IE;i.prototype.ME=i.prototype.ME;i.prototype.kE=i.prototype.kE;i.prototype.AE=i.prototype.AE;i.prototype.SE=i.prototype.SE;i.prototype.EE=i.prototype.EE;i.prototype.TE=i.prototype.TE;i.prototype.yE=i.prototype.yE;i.prototype.bE=i.prototype.bE;i.prototype.resize=i.prototype.resize;i.prototype.gE=i.prototype.gE;i.prototype.wE=i.prototype.wE;i.prototype.pE=i.prototype.pE;i.prototype.aE=i.prototype.aE;i.prototype.play=i.prototype.play;i.prototype.pause=i.prototype.pause;i.prototype.jc=i.prototype.jc;i.prototype.mE=i.prototype.mE;i.prototype.vE=i.prototype.vE;i.prototype.dE=i.prototype.dE;i.prototype.hE=i.prototype.hE;i.prototype.lE=i.prototype.lE;i.prototype.cE=i.prototype.cE;i.prototype.s1=i.prototype.s1;i.prototype.fE=i.prototype.fE;i.prototype.sE=i.prototype.sE;i.prototype.oE=i.prototype.oE;function id(){}function rd(n,t){var e=[],i=0;null!=t&&(i=t);n=lt(fn(n,"Ad"));for(var r=n.next();!r.done;r=n.next())if(r=de(r.value,"InLine"))if(r=de(r,"Creatives")){r=lt(fn(r,"Creative"));for(var u=r.next();!u.done;u=r.next()){var a=de(u.value,"Linear");if(a&&(u=null,a.attributes.skipoffset&&(u=Zt(a.attributes.skipoffset),isNaN(u)&&(u=null)),a=de(a,"MediaFiles"))){var o=fn(a,"MediaFile");a=o;o=o.filter(function(n){return"streaming"==n.attributes.delivery});o.length&&(a=o);a=a.sort(function(n,t){return(parseInt(t.attributes.height,10)||0)-(parseInt(n.attributes.height,10)||0)});a=lt(a);for(o=a.next();!o.done;o=a.next()){o=o.value;var s=ce(o);if(s){e.push({id:null,startTime:i,endTime:null,uri:s,mimeType:o.attributes.type||null,dE:null!=u,_E:u,LE:null,OE:!1,xE:0,UE:null,once:!0,FE:null==t,BE:Infinity==t,XE:!1});break}}}}}return e}t("shaka.ads.Utils",id);id.HE="ads-loaded";id.jE="ad-started";id.VE="ad-first-quartile";id.GE="ad-midpoint";id.qE="ad-third-quartile";id.KE="ad-complete";id.WE="ad-stopped";id.zE="ad-skipped";id.YE="ad-volume-changed";id.$E="ad-muted";id.QE="ad-paused";id.JE="ad-resumed";id.ZE="ad-skip-state-changed";id.nS="ad-cue-points-changed";id.tS="ima-ad-manager-loaded";id.eS="ima-stream-manager-loaded";id.iS="ad-clicked";id.rS="ad-progress";id.uS="ad-buffering";id.aS="ad-impression";id.oS="ad-duration-changed";id.sS="ad-closed";id.fS="ad-loaded";id.cS="all-ads-completed";id.lS="ad-linear-changed";id.hS="ad-metadata";id.dS="ad-recoverable-error";id.vS="ad-error";id.mS="ad-break-ready";id.pS="ad-interaction";id.wS="ad-content-pause-requested";id.gS="ad-content-resume-requested";id.bS="ad-content-attach-requested";function ud(n,t,e,i,r){var u=this;this.s=n;this.g=t;this.I=!1;this.p=this.o=null;this.D=NaN;this.l=r;this.v=null;this.h=new Mn;google.ima.settings.yS(e);google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0);this.P=new google.ima.AdDisplayContainer(this.s,this.g);this.P.initialize();this.m=new google.ima.AdsLoader(this.P);this.m.getSettings().setPlayerType("shaka-player");this.m.getSettings().setPlayerVersion("v4.12.6");this.i=null;this.C=i||new google.ima.AdsRenderingSettings;this.h.K(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(n){od(u,n)});this.h.K(this.m,google.ima.AdErrorEvent.Type.vS,function(n){ad(u,n)});this.h.K(this.g,"ended",function(){u.m.contentComplete()});this.h.W(this.g,"play",function(){u.I=!0})}ud.prototype.B=function(n){this.o=n};ud.prototype.stop=function(){this.i&&this.i.stop();this.s&&Vo(this.s)};ud.prototype.release=function(){this.stop();this.p&&this.p.disconnect();this.h&&this.h.release();this.i&&this.i.su();this.m.su();this.P.su()};function ad(n,t){t.getError();t=(new Map).set("originalEvent",t);n.l(new A("ad-error",t));ld(n,null);n.l(new A("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function od(n,t){n.l(new A("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-n.D)));if(n.o.fg){var e={currentTime:n.g.currentTime};n.i=t.getAdsManager(e,n.C);n.g.muted?n.i.pE(0):n.i.pE(n.g.volume);n.h.K(n.g,"timeupdate",function(){n.g.duration&&(e.currentTime=n.g.currentTime)});n.h.K(n.g,"volumechange",function(){n.v&&(n.v.pE(n.g.volume),n.g.muted&&n.v.bE(!0))})}else n.i=t.getAdsManager(n.g,n.C);n.l(new A("ima-ad-manager-loaded",(new Map).set("imaAdManager",n.i)));var i=n.i.C3();if(i.length){t=[];i=lt(i);for(var r=i.next();!r.done;r=i.next())t.push({start:r.value,end:null});n.l(new A("ad-cue-points-changed",(new Map).set("cuepoints",t)))}fd(n);try{n.i.init(n.g.offsetWidth,n.g.offsetHeight,sd(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.tu),n.h.K(n.g,"loadeddata",function(){n.i.resize(n.g.offsetWidth,n.g.offsetHeight,sd(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.tu)}),"ResizeObserver"in L?(n.p=new ResizeObserver(function(){n.i.resize(n.g.offsetWidth,n.g.offsetHeight,sd(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.tu)}),n.p.observe(n.g)):n.h.K(document,"fullscreenchange",function(){n.i.resize(n.g.offsetWidth,n.g.offsetHeight,sd(n)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.tu)}),n.I||n.o.cg?n.i.start():n.h.W(n.g,"play",function(){n.I=!0;n.i.start()})}catch(u){ld(n,null)}}function sd(n){if(document.fullscreenEnabled)return!!document.fullscreenElement;n=n.g;return n.webkitSupportsFullscreen?n.webkitDisplayingFullscreen:!1}function fd(e){function t(n,t){n=(new Map).set("originalEvent",n);e.l(new A(t,n))}e.h.K(e.i,google.ima.AdErrorEvent.Type.vS,function(n){ad(e,n)});e.h.K(e.i,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){cd(e,n)});e.h.K(e.i,google.ima.AdEvent.Type.STARTED,function(n){cd(e,n)});e.h.K(e.i,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")});e.h.K(e.i,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")});e.h.K(e.i,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")});e.h.K(e.i,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")});e.h.K(e.i,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){ld(e,n)});e.h.K(e.i,google.ima.AdEvent.Type.cS,function(n){ld(e,n)});e.h.K(e.i,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")});e.h.K(e.i,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")});e.h.K(e.i,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")});e.h.K(e.i,google.ima.AdEvent.Type.PAUSED,function(n){e.v&&(e.v.g=!0,t(n,"ad-paused"))});e.h.K(e.i,google.ima.AdEvent.Type.RESUMED,function(n){e.v&&(e.v.g=!1,t(n,"ad-resumed"))});e.h.K(e.i,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.v&&t(n,"ad-skip-state-changed")});e.h.K(e.i,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")});e.h.K(e.i,google.ima.AdEvent.Type.rS,function(n){t(n,"ad-progress")});e.h.K(e.i,google.ima.AdEvent.Type.uS,function(n){t(n,"ad-buffering")});e.h.K(e.i,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")});e.h.K(e.i,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")});e.h.K(e.i,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")});e.h.K(e.i,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")});e.h.K(e.i,google.ima.AdEvent.Type.cS,function(n){t(n,"all-ads-completed")});e.h.K(e.i,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")});e.h.K(e.i,google.ima.AdEvent.Type.hS,function(n){t(n,"ad-metadata")});e.h.K(e.i,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")});e.h.K(e.i,google.ima.AdEvent.Type.mS,function(n){t(n,"ad-break-ready")});e.h.K(e.i,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function cd(n,t){var e=t.getAd();e?(n.v=new i(e,n.i,n.g),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||n.o.lg||n.l(new A("ad-content-pause-requested")),t=(new Map).set("ad",n.v).set("sdkAdObject",e).set("originalEvent",t),n.l(new A("ad-started",t)),n.v.gE()&&(n.s.setAttribute("ad-active","true"),n.o.fg||n.g.pause(),n.g.muted?(t=n.v,t.l=n.g.volume,t.h.pE(0)):n.v.pE(n.g.volume))):M("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function ld(n,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!n.o.lg&&n.l(new A("ad-content-resume-requested"));n.l(new A("ad-stopped",(new Map).set("originalEvent",t)));n.v&&n.v.gE()&&(n.s.removeAttribute("ad-active"),n.o.fg||n.g.ended||n.g.play())}function I(n,t,e,i,r,u,a,o){this.i=n;this.g=(this.h=t)?e||0:e;this.v=i;this.o=r;this.s=u;this.l=a;this.m=o}n=I.prototype;n.oE=function(){return!0};n.sE=function(){return!0};n.fE=function(){return this.m};n.s1=function(){var n=this.i.duration;return isNaN(n)?-1:n};n.cE=function(){return this.s1()};n.lE=function(){var n=this.i.duration;return isNaN(n)?-1:n-this.i.currentTime};n.hE=function(){return this.i.paused};n.dE=function(){return this.h&&null!=this.v?this.s1()-this.lE()<this.g+this.v:this.h};n.vE=function(){if(this.dE()){var n=this.lE()+this.g-this.s1();return Math.max(n,0)}return Math.max(this.lE(),0)};n.mE=function(){return this.h&&0==this.vE()};n.jc=function(){this.mE()&&this.o()};n.pause=function(){return this.i.pause()};n.play=function(){return this.i.play()};n.aE=function(){return this.i.volume};n.pE=function(n){this.i.volume=n};n.wE=function(){return this.i.muted};n.gE=function(){return!0};n.resize=function(){};n.bE=function(n){this.i.muted=n};n.yE=function(){return this.s};n.TE=function(){return this.l};n.EE=function(){return""};n.SE=function(){return""};n.AE=function(){return 0};n.kE=function(){return 0};n.ME=function(){return 0};n.IE=function(){return""};n.NE=function(){return""};n.PE=function(){return""};n.RE=function(){return null};n.DE=function(){return 0};n.CE=function(){return 0};n.release=function(){this.i=null};t("shaka.ads.InterstitialAd",I);I.prototype.release=I.prototype.release;I.prototype.CE=I.prototype.CE;I.prototype.DE=I.prototype.DE;I.prototype.RE=I.prototype.RE;I.prototype.PE=I.prototype.PE;I.prototype.NE=I.prototype.NE;I.prototype.IE=I.prototype.IE;I.prototype.ME=I.prototype.ME;I.prototype.kE=I.prototype.kE;I.prototype.AE=I.prototype.AE;I.prototype.SE=I.prototype.SE;I.prototype.EE=I.prototype.EE;I.prototype.TE=I.prototype.TE;I.prototype.yE=I.prototype.yE;I.prototype.bE=I.prototype.bE;I.prototype.resize=I.prototype.resize;I.prototype.gE=I.prototype.gE;I.prototype.wE=I.prototype.wE;I.prototype.pE=I.prototype.pE;I.prototype.aE=I.prototype.aE;I.prototype.play=I.prototype.play;I.prototype.pause=I.prototype.pause;I.prototype.jc=I.prototype.jc;I.prototype.mE=I.prototype.mE;I.prototype.vE=I.prototype.vE;I.prototype.dE=I.prototype.dE;I.prototype.hE=I.prototype.hE;I.prototype.lE=I.prototype.lE;I.prototype.cE=I.prototype.cE;I.prototype.s1=I.prototype.s1;I.prototype.fE=I.prototype.fE;I.prototype.sE=I.prototype.sE;I.prototype.oE=I.prototype.oE;function hd(n,t,e,i){function r(){if(!h.N&&h.l&&!h.C._4()){h.l=h.h.currentTime;h.m&&!h.m.FE&&!h.m.BE&&h.l<h.m.startTime&&(h.m=null);var n=pd(h);n&&wd(h,n,1,1,Date.now())}}var h=this;this.Pl=null;this.D=n;this.C=t;this.h=e;this.I=null;this.s=!0;this.o=this.h;this.g=i;this.R=new Set;this.P=new Set;this.p=new Map;this.i=new s;yd(this);this.Sl=new Mn;this.v=new Mn;this.N=!1;this.m=this.l=null;this.Sl.K(this.h,"timeupdate",function(){if(!(h.N||h.l||h.C._4())){h.l=h.h.currentTime;var n=pd(h,!0);n&&wd(h,n,1,1,Date.now())}});this.Sl.K(this.h,"ended",function(){r()});this.Il=new S(r);if("requestVideoFrameCallback"in this.h&&!_t()){var u=this.h,a=function(){r();u.requestVideoFrameCallback(a)};u.requestVideoFrameCallback(a)}else this.Il.Bi(.025);this.Nl=new S(function(){var t,e,i,r,u,a,o,s,f,c,l;return sn(function(n){switch(n.i){case 1:if(!h.P.size||null==h.l){n.k(0);break}t=h.C.P4();if(t==z0||t==Y0)return n.A();e=!1;i=Array.from(h.P);r=h.C.zy();u=lt(i);a=u.next();case 3:if(a.done){n.k(5);break}o=a.value;if(o==h.m){n.k(4);break}s=o.endTime||o.startTime;if(!(1<=r.start-s)){f=o.startTime-h.l;0<f&&10>=f&&(h.p.has(o)||h.p.set(o,h.i.preload(o.uri,null,o.mimeType||void 0)));n.k(4);break}if(!h.p.has(o)){n.k(7);break}return an(n,h.p.get(o),8);case 8:(c=n.h)&&c.su(),h.p["delete"](o);case 7:l=JSON.stringify(o),h.R.has(l)&&h.R["delete"](l),h.P["delete"](o),e=!0;case 4:a=u.next();n.k(3);break;case 5:e&&bd(h),on(n)}})}).Bi(1)}hd.prototype.B=function(n){this.Pl=n;dd(this)};function dd(n){if(n.D&&n.Pl&&!n.N){var t=n.Pl.lg,e=n.h;e.webkitSupportsFullscreen&&e.webkitDisplayingFullscreen&&(t=!1);n.s==t&&(n.s=!t,n.s?(n.o=n.h,n.I&&(n.I.parentElement&&n.D.removeChild(n.I),n.I=null)):(n.I||(t=document.createElement(n.h.tagName),t.autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgb(0, 0, 0)",t.setAttribute("playsinline",""),n.I=t),n.o=n.I))}}hd.prototype.stop=function(){this.v&&this.v.q();this.R.clear();this.P.clear();this.i.Dy();this.p.clear();this.i.detach();this.N=!1;this.m=this.l=null};hd.prototype.release=function(){this.stop();this.Sl&&this.Sl.release();this.v&&this.v.release();this.D&&Vo(this.D);this.Il&&(this.Il.stop(),this.Il=null);this.Nl&&(this.Nl.stop(),this.Nl=null);this.i.su()};function vd(t,e){var i;sn(function(n){if(1==n.i)return yd(t),an(n,gd(t,e),2);i=n.h;i.length?md(t,i):M("Unsupported HLS interstitial",e);on(n)})}hd.prototype.TS=function(a){var o=this,s,f,c,l,h,d,v,m,p;return sn(function(n){switch(n.i){case 1:return s={type:12},an(n,Td(o,a,s),2);case 2:f=n.h;c=re(f,"VAST,vmap:VMAP");if(!c)throw new vt(2,10,10007);l=[];if("VAST"==c.tagName){l=rd(c,o.l);n.k(3);break}if("vmap:VMAP"!=c.tagName){n.k(3);break}for(var t=[],e=lt(fn(c,"vmap:AdBreak")),i=e.next();!i.done;i=e.next()){var r=i.value,u=r.attributes.timeOffset;u&&(i=null,"start"==u?i=0:"end"==u?i=Infinity:i=Zt(u),(r=de(r,"vmap:AdSource"))&&(r=de(r,"vmap:AdTagURI"))&&(r=ce(r))&&t.push({time:i,uri:r}))}h=lt(t);d=h.next();case 5:if(d.done){n.k(3);break}v=d.value;return an(n,Td(o,v.uri,s),8);case 8:m=n.h;p=re(m,"VAST");if(!p)throw new vt(2,10,10007);l.push.apply(l,ht(rd(p,v.time)));d=h.next();n.k(5);break;case 3:md(o,l),on(n)}})};function md(n,t){var e=!1;t=lt(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;var r=i.id||JSON.stringify(i);if(!n.R.has(r)){e=!0;n.R.add(r);n.P.add(i);r=!1;if(i.FE&&null==n.l)r=!0;else if(0==i.startTime&&!i.OE)r=!0;else if(null!=n.l){var u=i.startTime-n.l;0<u&&10>=u&&(r=!0)}r&&(n.p.has(i)||n.p.set(i,n.i.preload(i.uri,null,i.mimeType||void 0)))}}e&&bd(n)}function pd(n,t,e){t=void 0===t?!1:t;e=void 0===e?null:e;var i=0,r=null;if(n.P.size&&null!=n.l){var u=n.h.ended,a=Array.from(n.P).sort(function(n,t){return t.startTime-n.startTime}),o=a;o=t?a.filter(function(n){return n.FE}):u?a.filter(function(n){return n.BE}):a.filter(function(n){return!n.FE&&!n.BE});a=lt(o);for(o=a.next();!o.done;o=a.next()){o=o.value;var s=!1;if(t)s=o.FE;else if(u)s=o.BE;else if(!o.FE&&!o.BE){var f=n.l-Math.round(1e3*o.startTime)/1e3;0<f&&(1>=f||!o.OE)&&(s=null==e&&n.m&&!n.m.FE&&!n.m.BE&&n.m.startTime>=o.startTime?!1:!0)}s&&(!n.m||o.startTime>=n.m.startTime)&&(i==(e||0)?r=o:r&&!o.OE&&.001<Math.round(1e3*o.startTime)/1e3-Math.round(1e3*r.startTime)/1e3&&(r=o,i=0),i++)}}return r}function wd(i,r,u,a,o,s){s=void 0===s?0:s;var t,e,f,c,l,h,d,v,m,p,w,g,b,y,T,E;sn(function(n){switch(n.i){case 1:dd(i);i.m=r;t=Date.now();!i.o.parentElement&&i.D&&i.D.appendChild(i.o);1==a&&1==u&&(u=Array.from(i.P).filter(function(n){return r.FE?n.FE==r.FE:r.BE?n.BE==r.BE:.001>Math.abs(n.startTime-r.startTime)}).length);r.once&&(s++,i.P["delete"](r),bd(i));i.N=!0;if(!i.s||1!=a){n.k(2);break}i.g(new A("ad-content-pause-requested",(new Map).set("saveLivePosition",!0)));e=new Fu;f=function(t){return sn(function(n){if(1==n.i)return"detach"!=t.state?n.k(0):_t()?an(n,new Promise(function(n){return new S(n).Ui(.1)}),3):n.k(3);e.resolve();i.v.Y(i.C,"onstatechange",f);on(n)})};i.v.K(i.C,"onstatechange",f);return an(n,e,2);case 2:return i.s||(i.h.pause(),null!=r.xE&&0!=r.xE&&(i.h.currentTime+=r.xE)),c=!1,l=null,h=function(){if(!i.s&&null==r.xE)if(r.XE&&r.endTime&&Infinity!=r.endTime)i.h.currentTime!=r.endTime&&(i.h.currentTime=r.endTime);else{var n=Date.now();i.h.currentTime+=(n-o)/1e3;o=n}},d=function(){var t,e;return sn(function(n){if(1==n.i){h();l&&l.stop();if(t=pd(i,r.FE,a-s))return i.g(new A("ad-stopped")),i.v.q(),wd(i,t,u,++a,o,s),n.k(0);r.BE&&(i.l=null,i.m=null);return i.s?an(n,i.i.detach(),4):an(n,i.i._y(),4)}i.s&&(e=r.xE,null==e&&(e=r.XE&&r.endTime&&Infinity!=r.endTime?r.endTime-(i.l||0):(Date.now()-o)/1e3),i.g(new A("ad-content-resume-requested",(new Map).set("offset",e))));i.g(new A("ad-stopped"));i.v.q();i.N=!1;i.s?bd(i):(h(),i.h.ended||i.h.play());dd(i);on(n)})},v=function(t){return sn(function(n){if(c)return n.A();c=!0;i.g(new A("ad-error",(new Map).set("originalEvent",t)));return an(n,d(),0)})},m=function(){return sn(function(n){if(1==n.i){if(c)return n.A();c=!0;return an(n,d(),2)}i.g(new A("ad-complete"));on(n)})},p=function(){return sn(function(n){if(c)return n.A();c=!0;i.g(new A("ad-skipped"));return an(n,d(),0)})},w=new I(i.o,r.dE,r._E,r.LE,p,u,a,!i.s),i.s||(w.bE(i.h.muted),w.pE(i.h.volume)),i.g(new A("ad-started",(new Map).set("ad",w))),(g=w.mE())&&i.g(new A("ad-skip-state-changed")),i.v.W(i.i,"error",v),i.v.K(i.o,"timeupdate",function(){if(i.o.duration){var n=w.mE();g!=n&&0<w.lE()&&0<w.s1()&&i.g(new A("ad-skip-state-changed"));g=n}}),i.v.W(i.i,"firstquartile",function(){h();i.g(new A("ad-first-quartile"))}),i.v.W(i.i,"midpoint",function(){h();i.g(new A("ad-midpoint"))}),i.v.W(i.i,"thirdquartile",function(){h();i.g(new A("ad-third-quartile"))}),i.v.W(i.i,"complete",m),i.v.K(i.o,"play",function(){i.g(new A("ad-resumed"))}),i.v.K(i.o,"pause",function(){var n=i.i.getConfiguration();i.o.currentTime>=n.q2?m():i.g(new A("ad-paused"))}),i.v.K(i.o,"volumechange",function(){i.o.muted?i.g(new A("ad-muted")):i.g(new A("ad-volume-changed"))}),q(n,4),yd(i),r.startTime&&r.endTime&&Infinity!=r.endTime&&r.startTime!=r.endTime&&(b=r.endTime-r.startTime,0<b&&i.i.B("playRangeEnd",b)),r.UE&&(l=new S(function(){w.jc()}).Ui(r.UE),i.i.B("playRangeEnd",r.UE)),an(n,i.i.Xl(i.o),6);case 6:return i.p.has(r)?an(n,i.p.get(r),10):an(n,i.i.load(r.uri,null,r.mimeType||void 0),8);case 10:return y=n.h,i.p["delete"](r),y?an(n,i.i.load(y),8):an(n,i.i.load(r.uri,null,r.mimeType||void 0),8);case 8:r.UE&&(l&&l.stop(),l=new S(function(){w.jc()}).Ui(r.UE));T=(Date.now()-t)/1e3;i.g(new A("ads-loaded",(new Map).set("loadTime",T)));i.s&&i.h.play();K(n,0);break;case 4:E=W(n),v(E),on(n)}})}function gd(t,e){var i,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,U,F,A,k,M,B,I,N,X,H,P,R,j,V,G,D,C,_,L,O,x;return sn(function(n){switch(n.i){case 1:i=[];if(!e)return n.A(i);r=e.values.find(function(n){return"X-ASSET-URI"==n.key});u=e.values.find(function(n){return"X-ASSET-LIST"==n.key});if(!r&&!u)return n.A(i);a=null;if(o=e.values.find(function(n){return"ID"==n.key}))a=o.data;s=null==a?Math.floor(10*e.startTime)/10:e.startTime;(f=e.endTime)&&Infinity!=e.endTime&&"number"==typeof e.endTime&&(f=null==a?Math.floor(10*e.endTime)/10:e.endTime);c=e.values.find(function(n){return"X-RESTRICT"==n.key});h=l=!0;c&&c.data&&(d=c.data,l=!d.includes("SKIP"),h=!d.includes("JUMP"));v=l?0:null;if(m=e.values.find(function(n){return"X-ENABLE-SKIP-AFTER"==n.key}))p=m.data,v=parseFloat(p),isNaN(v)&&(v=l?0:null);w=null;if(g=e.values.find(function(n){return"X-ENABLE-SKIP-FOR"==n.key}))b=g.data,w=parseFloat(b),isNaN(v)&&(w=null);y=null;if(T=e.values.find(function(n){return"X-RESUME-OFFSET"==n.key}))E=T.data,y=parseFloat(E),isNaN(y)&&(y=null);S=null;if(U=e.values.find(function(n){return"X-PLAYOUT-LIMIT"==n.key}))F=U.data,S=parseFloat(F),isNaN(S)&&(S=null);M=k=A=!1;if(B=e.values.find(function(n){return"CUE"==n.key}))I=B.data,A=I.includes("ONCE"),k=I.includes("PRE"),M=I.includes("POST");N=!1;(X=e.values.find(function(n){return"X-TIMELINE-OCCUPIES"==n.key}))?(H=X.data,N=H.includes("RANGE")):!T&&t.C.D1()&&(N=!k&&!M);if(r){P=r.data;if(!P)return n.A(i);i.push({id:a,startTime:s,endTime:f,uri:P,mimeType:null,dE:l,_E:v,LE:w,OE:h,xE:y,UE:S,once:A,FE:k,BE:M,XE:N});n.k(2);break}if(!u){n.k(2);break}R=u.data;if(!R)return n.A(i);q(n,4);j={type:11};return an(n,Td(t,R,j),6);case 6:V=n.h;G=Xt(V);D=JSON.parse(G);if(C=D["SKIP-CONTROL"])_=C["ENABLE-SKIP-AFTER"],"number"==typeof _&&(v=parseFloat(_),isNaN(_)&&(v=l?0:null)),L=C["ENABLE-SKIP-FOR"],"number"==typeof L&&(w=parseFloat(L),isNaN(L)&&(w=null));for(O=0;O<D.ASSETS.length;O++)x=D.ASSETS[O],x.URI&&i.push({id:a+"_asset_"+O,startTime:s,endTime:f,uri:x.URI,mimeType:null,dE:l,_E:v,LE:w,OE:h,xE:y,UE:S,once:A,FE:k,BE:M,XE:N});K(n,2);break;case 4:W(n);case 2:return n.A(i)}})}function bd(n){for(var t=[],e=lt(n.P),i=e.next(),r={};!i.done;r={ES:void 0},i=e.next())i=i.value,r.ES={start:i.startTime,end:null},i.FE?(r.ES.start=0,r.ES.end=null):i.BE?(r.ES.start=-1,r.ES.end=null):i.XE&&(r.ES.end=i.endTime),t.find(function(t){return function(n){return t.ES.start==n.start&&t.ES.end==n.end}}(r))||t.push(r.ES);n.g(new A("ad-cue-points-changed",(new Map).set("cuepoints",t)))}function yd(n){n.i.B(n.C.M4());n.i.B("ads.disableHLSInterstitial",!0);n.i.B("ads.disableDASHInterstitial",!0);var t=n.i.f4();t.Df();t.Lf();Zu(n.C.f4(),t)}function Td(t,e,i){var r,u,a;return sn(function(n){if(1==n.i)return r=na([e],Uu()),u=t.C.f4().request(7,r,i),an(n,u.promise,2);a=n.h;return n.A(a.data)})}function l(n,t,e,i,r){this.h=n;this.v=Zt(this.h._E);this.i=r;this.g=t;this.l=e;this.o=i;this.m=!1}n=l.prototype;n.oE=function(){return!0};n.sE=function(){return!1};n.fE=function(){return!1};n.s1=function(){return this.h.durationInSeconds};n.cE=function(){return this.s1()};n.lE=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.i.currentTime};n.hE=function(){return this.i.paused};n.dE=function(){return"number"==typeof this.v?!0:!1};n.vE=function(){if("number"!=typeof this.v)return this.lE();var n=this.lE()+this.v-this.s1();return Math.max(n,0)};n.mE=function(){return 0==this.vE()};n.jc=function(){this.m=!0;this.i.currentTime+=this.lE()};n.pause=function(){return this.i.pause()};n.play=function(){return this.i.play()};n.aE=function(){return this.i.volume};n.pE=function(n){this.i.volume=n};n.wE=function(){return this.i.muted};n.gE=function(){return this.o};n.resize=function(){};n.bE=function(n){this.i.muted=n};n.yE=function(){return this.l?this.l:1};n.TE=function(){return this.g?this.g:1};n.EE=function(){return this.h.adTitle};n.SE=function(){return""};n.AE=function(){return 0};n.kE=function(){return 0};n.ME=function(){return 0};n.IE=function(){return this.h.adId};n.NE=function(){return this.h.creativeId};n.PE=function(){return""};n.RE=function(){return null};n.DE=function(){return 0};n.CE=function(){return 0};n.release=function(){this.l=this.g=this.i=this.h=null};t("shaka.ads.MediaTailorAd",l);l.prototype.release=l.prototype.release;l.prototype.CE=l.prototype.CE;l.prototype.DE=l.prototype.DE;l.prototype.RE=l.prototype.RE;l.prototype.PE=l.prototype.PE;l.prototype.NE=l.prototype.NE;l.prototype.IE=l.prototype.IE;l.prototype.ME=l.prototype.ME;l.prototype.kE=l.prototype.kE;l.prototype.AE=l.prototype.AE;l.prototype.SE=l.prototype.SE;l.prototype.EE=l.prototype.EE;l.prototype.TE=l.prototype.TE;l.prototype.yE=l.prototype.yE;l.prototype.bE=l.prototype.bE;l.prototype.resize=l.prototype.resize;l.prototype.gE=l.prototype.gE;l.prototype.wE=l.prototype.wE;l.prototype.pE=l.prototype.pE;l.prototype.aE=l.prototype.aE;l.prototype.play=l.prototype.play;l.prototype.pause=l.prototype.pause;l.prototype.jc=l.prototype.jc;l.prototype.mE=l.prototype.mE;l.prototype.vE=l.prototype.vE;l.prototype.dE=l.prototype.dE;l.prototype.hE=l.prototype.hE;l.prototype.lE=l.prototype.lE;l.prototype.cE=l.prototype.cE;l.prototype.s1=l.prototype.s1;l.prototype.fE=l.prototype.fE;l.prototype.sE=l.prototype.sE;l.prototype.oE=l.prototype.oE;function Ed(n,t,e,i){this.C=n;this.Sl=t;this.h=e;this.l=null;this.Cl=NaN;this.g=i;this.R=!1;this.p=null;this.v=[];this.Pl=[];this.Il=this.P=this.i=null;this.I=new Map;this.m=[];this.s=[];this.D="";this.Nl=!0;this.N="";this.o=new Mn}Ed.prototype.stop=function(){for(var n=lt(this.m),t=n.next();!t.done;t=n.next())t=t.value,this.o.Y(t.target,t.type,t.listener);Rd(this);this.m=[];this.s=[];this.D="";this.Nl=!0;this.N="";this.p=null;this.v=[];this.Pl=[];this.I.clear()};Ed.prototype.release=function(){this.stop();this.o&&this.o.release()};Ed.prototype.Gy=function(n){this.R=n;""!=this.D&&(Ad(this,this.D,this.Nl),this.Nl=!1)};Ed.prototype.C3=function(){for(var n=[],t=lt(this.v),e=t.next();!e.done;e=t.next()){e=lt(e.value.sg);for(var i=e.next();!i.done;i=e.next())i=i.value,n.push({start:i.startTimeInSeconds,end:i.startTimeInSeconds+i.durationInSeconds})}return n};function Sd(t,e,i){var r,u,a,o,s,f,c,l,h,d,v,m;sn(function(n){if(1==n.i)return r={type:7},u=na([e],Uu()),u.method="POST",i&&(a=JSON.stringify(i),u.body=Vt(a)),o=t.Sl.request(7,u,r),q(n,2),an(n,o.promise,4);if(2!=n.i){s=n.h;f=Xt(s.data);c=JSON.parse(f);if(c.manifestUrl&&c.trackingUrl)l=new wi(e),h=new wi(c.trackingUrl),t.D=l.resolve(h).toString(),d=Date.now()/1e3,v=d-t.Cl,t.g(new A("ads-loaded",(new Map).set("loadTime",v))),m=new wi(c.manifestUrl),t.l.resolve(l.resolve(m).toString()),t.l=null;else throw Error("Insufficient data from MediaTailor.");return K(n,0)}W(n);if(!t.N.length)return t.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),t.l=null,n.A();t.l.resolve(t.N);t.l=null;on(n)})}function Ad(t,e,i){var r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b;sn(function(n){if(1==n.i)return r={type:8},u=na([e],Uu()),a=t.Sl.request(7,u,r),q(n,2),an(n,a.promise,4);if(2!=n.i){o=n.h;s=[];f=Xt(o.data);c=JSON.parse(f);if(0<c.avails.length){if(JSON.stringify(t.v)!=JSON.stringify(c.avails)){t.v=c.avails;l=lt(t.v);for(h=l.next();!h.done;h=l.next())for(d=h.value,v=lt(d.nonLinearAdsList),m=v.next();!m.done;m=v.next())for(p=m.value,w=lt(p.nonLinearAdList),g=w.next();!g.done;g=w.next())b=g.value,kd(t,b);s=t.C3();t.g(new A("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else t.v.length&&t.g(new A("ad-cue-points-changed",(new Map).set("cuepoints",s))),Rd(t),t.v=[];i&&(t.R||0<s.length)&&Id(t);return K(n,0)}W(n);on(n)})}function kd(t,e){var i,r,u,a,o,s,f,c,l;sn(function(n){if(1==n.i){if(!e.staticResource)return n.A();i=Md(e);if(r=t.I.get(i))return n.A();u={type:9};a=na([e.staticResource],Uu());o=t.Sl.request(7,a,u);q(n,2);t.I.set(i,[]);return an(n,o.promise,4)}if(2!=n.i)return s=n.h,f=Xt(s.data),c=JSON.parse(f),l=c.apps,t.I.set(i,l),K(n,0);W(n);t.I["delete"](i);on(n)})}function Md(n){return[n.adId,n.adParameters,n.adSystem,n.adTitle,n.creativeAdId,n.creativeId,n.creativeSequence,n.height,n.width,n.staticResource].join("")}function Id(n){Pd(n);n.R||(Nd(n),n.o.K(n.h,"seeked",function(){Nd(n)}),n.o.K(n.h,"ended",function(){Rd(n)}));n.o.K(n.h,"timeupdate",function(){Pd(n)})}function Nd(n){var t=n.h.currentTime;if(0!=t&&null==n.p){for(var e,i,r=lt(n.v),u=r.next();!u.done;u=r.next()){u=u.value;for(var a=lt(u.sg),o=a.next();!o.done;o=a.next())if(o=o.value,!i)o.startTimeInSeconds<t&&(i=o,e=u);else if(o.startTimeInSeconds<t&&o.startTimeInSeconds>i.startTimeInSeconds+i.durationInSeconds){i=o;e=u;break}}e&&i&&!n.Pl.includes(i.adId)&&(n.p=t,n.h.currentTime=e.startTimeInSeconds)}}function Pd(n){if(n.h.duration&&(n.i||n.v.length)){var t=n.h.currentTime,e=!1;if(n.i){e=!0;var i=n.P,r=i.startTimeInSeconds+.5*i.durationInSeconds,u=i.startTimeInSeconds+.75*i.durationInSeconds;t>=i.startTimeInSeconds+.25*i.durationInSeconds&&!n.s.includes("firstQuartile")?(n.s.push("firstQuartile"),Cd(n,"firstQuartile")):t>=r&&!n.s.includes("midpoint")?(n.s.push("midpoint"),Cd(n,"midpoint")):t>=u&&!n.s.includes("thirdQuartile")&&(n.s.push("thirdQuartile"),Cd(n,"thirdQuartile"));i=n.i.lE();r=n.i.s1();n.i.mE()&&0<i&&0<r&&Cd(n,"skipStateChanged");0<r&&(0>=i||i>r)&&Rd(n)}if(!n.i||!n.i.gE()){n:for(i=lt(n.v),r=i.next();!r.done;r=i.next()){r=r.value;if(n.i&&n.i.gE())break;for(u=0;u<r.sg.length;u++){var a=r.sg[u],o=a.startTimeInSeconds+a.durationInSeconds;if(a.startTimeInSeconds<=t&&o>t){if(n.Pl.includes(a.adId)){if(n.h.ended)continue;n.h.currentTime=o;break n}Rd(n);n.Il=r;n.i=new l(a,u+1,r.sg.length,!0,n.h);n.P=a;0===u&&Cd(n,"breakStart");Dd(n);break}}}if(!n.i)for(i=lt(n.v),r=i.next();!r.done;r=i.next()){r=r.value;if(n.i)break;for(u=0;u<r.nonLinearAdsList.length;u++)if(a=r.nonLinearAdsList[u],a.nonLinearAdList.length){o=r.startTimeInSeconds;var s=n.I.get(Md(a.nonLinearAdList[0]));if(o<=t&&s&&s.length){Rd(n);o=n;s=lt(s);for(var f=s.next();!f.done;f=s.next())if(f=f.value,f.data.source.length){var c=document.createElement("img");c.src=f.data.source[0].url;c.style.top=(f.placeholder.top||0)+"%";c.style.height=100-(f.placeholder.top||0)+"%";c.style.left=(f.placeholder.left||0)+"%";c.style.maxWidth=100-(f.placeholder.left||0)+"%";c.style.objectFit="contain";c.style.position="absolute";o.C.appendChild(c)}n.Il=r;n.i=new l(a,u+1,r.sg.length,!1,n.h);n.P=a;0===u&&Cd(n,"breakStart");Dd(n);break}}}e&&!n.i&&(t=n.h.currentTime,n.p&&n.p>t&&(n.h.currentTime=n.p),n.p=null)}}}function Rd(n){if(n.i){for(;n.C.lastChild;)n.C.removeChild(n.C.firstChild);n.R||n.Pl.push(n.P.adId);var t=n.i.m;(void 0===t?0:t)?Cd(n,"skip"):Cd(n,"complete");t=lt(n.m);for(var e=t.next();!e.done;e=t.next())e=e.value,n.o.Y(e.target,e.type,e.listener);n.m=[];n.s=[];t=n.i.TE();e=n.i.yE();t===e&&Cd(n,"breakEnd");n.i=null;n.P=null;n.Il=null}}function Dd(n){var t=!1;n.h.paused?t=!0:(Cd(n,"impression"),Cd(n,"start"));n.m.push({target:n.h,type:"volumechange",listener:function(){n.h.muted&&Cd(n,"mute")}});n.m.push({target:n.h,type:"volumechange",listener:function(){n.h.muted||Cd(n,"unmute")}});n.m.push({target:n.h,type:"play",listener:function(){t?(Cd(n,"impression"),Cd(n,"start"),t=!1):Cd(n,"resume")}});n.m.push({target:n.h,type:"pause",listener:function(){Cd(n,"pause")}});for(var e=lt(n.m),i=e.next();!i.done;i=e.next())i=i.value,n.o.K(i.target,i.type,i.listener)}function Cd(n,t){var e=n.P.trackingEvents.find(function(n){return n.eventType==t});e||(e=n.Il.adBreakTrackingEvents.find(function(n){return n.eventType==t}));if(e){var i={type:10};e=lt(e.beaconUrls);for(var r=e.next();!r.done;r=e.next())(r=r.value)&&""!=r&&(r=na([r],Uu()),r.method="POST",n.Sl.request(7,r,i))}switch(t){case"impression":n.g(new A("ad-impression"));break;case"start":n.g(new A("ad-started",(new Map).set("ad",n.i)));break;case"mute":n.g(new A("ad-muted"));break;case"unmute":n.g(new A("ad-volume-changed"));break;case"resume":n.g(new A("ad-resumed"));break;case"pause":n.g(new A("ad-paused"));break;case"firstQuartile":n.g(new A("ad-first-quartile"));break;case"midpoint":n.g(new A("ad-midpoint"));break;case"thirdQuartile":n.g(new A("ad-third-quartile"));break;case"complete":n.g(new A("ad-complete"));n.g(new A("ad-stopped"));break;case"skip":n.g(new A("ad-skipped"));n.g(new A("ad-stopped"));break;case"breakStart":n.C.setAttribute("ad-active","true");break;case"breakEnd":n.C.removeAttribute("ad-active");break;case"skipStateChanged":n.g(new A("ad-skip-state-changed"))}}function u(n,t){this.i=n;this.g=null;this.h=t}n=u.prototype;n.oE=function(){return!0};n.sE=function(){return!1};n.fE=function(){return!1};n.s1=function(){return this.g?this.g.duration:-1};n.cE=function(){return this.s1()};n.lE=function(){return this.g?this.g.duration-this.g.currentTime:-1};n.hE=function(){return this.h.paused};n.dE=function(){return this.i.dE()};n.vE=function(){var n=this.i.getSkipTimeOffset();n=this.lE()-n;return Math.max(n,0)};n.mE=function(){return 0==this.vE()};n.jc=function(){this.h.currentTime+=this.lE()};n.pause=function(){return this.h.pause()};n.play=function(){return this.h.play()};n.aE=function(){return this.h.volume};n.pE=function(n){this.h.volume=n};n.wE=function(){return this.h.muted};n.gE=function(){return!0};n.resize=function(){};n.bE=function(n){this.h.muted=n};n.yE=function(){var n=this.i.getAdPodInfo();return null==n?1:n.getTotalAds()};n.TE=function(){var n=this.i.getAdPodInfo();return null==n?1:n.getAdPosition()};n.EE=function(){return this.i.EE()};n.SE=function(){return this.i.SE()};n.AE=function(){return 0};n.kE=function(){return this.i.kE()};n.ME=function(){return this.i.ME()};n.IE=function(){return this.i.IE()};n.NE=function(){return this.i.NE()};n.PE=function(){return this.i.PE()};n.RE=function(){return null};n.DE=function(){var n=this.i.getAdPodInfo();return null==n?0:n.DE()};n.CE=function(){var n=this.i.getAdPodInfo();return null==n?0:n.CE()};n.release=function(){this.h=this.g=this.i=null};t("shaka.ads.ServerSideAd",u);u.prototype.release=u.prototype.release;u.prototype.CE=u.prototype.CE;u.prototype.DE=u.prototype.DE;u.prototype.RE=u.prototype.RE;u.prototype.PE=u.prototype.PE;u.prototype.NE=u.prototype.NE;u.prototype.IE=u.prototype.IE;u.prototype.ME=u.prototype.ME;u.prototype.kE=u.prototype.kE;u.prototype.AE=u.prototype.AE;u.prototype.SE=u.prototype.SE;u.prototype.EE=u.prototype.EE;u.prototype.TE=u.prototype.TE;u.prototype.yE=u.prototype.yE;u.prototype.bE=u.prototype.bE;u.prototype.resize=u.prototype.resize;u.prototype.gE=u.prototype.gE;u.prototype.wE=u.prototype.wE;u.prototype.pE=u.prototype.pE;u.prototype.aE=u.prototype.aE;u.prototype.play=u.prototype.play;u.prototype.pause=u.prototype.pause;u.prototype.jc=u.prototype.jc;u.prototype.mE=u.prototype.mE;u.prototype.vE=u.prototype.vE;u.prototype.dE=u.prototype.dE;u.prototype.hE=u.prototype.hE;u.prototype.lE=u.prototype.lE;u.prototype.cE=u.prototype.cE;u.prototype.s1=u.prototype.s1;u.prototype.fE=u.prototype.fE;u.prototype.sE=u.prototype.sE;u.prototype.oE=u.prototype.oE;function _d(n,t,e,i){var r=this;this.s=n;this.l=t;this.v=null;this.I=NaN;this.g=i;this.D=!1;this.p=this.m=this.o=null;this.C="";this.P=[];this.h=new Mn;n=new google.ima.dai.api.UiSettings;n.yS(e);this.i=new google.ima.dai.api.StreamManager(this.l,this.s,n);this.g(new A("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.i)));this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.LOADED,function(n){Ld(r,n)});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.C.length?r.v.resolve(r.C):r.v.reject("IMA Stream request returned an error and there was no backup asset uri provided.");r.v=null});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.STARTED,function(n){n=n.getAd();r.m=new u(n,r.l);r.p&&(r.m.g=r.p);r.g(new A("ad-started",(new Map).set("ad",r.m)));r.s.setAttribute("ad-active","true")});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.s.removeAttribute("ad-active");var n=r.l.currentTime;r.o&&r.o>n&&(r.l.currentTime=r.o,r.o=null)});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.rS,function(n){r.p=n.getStreamData().adProgressData;r.m&&(r.m.g=r.p)});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.g(new A("ad-first-quartile"))});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.g(new A("ad-midpoint"))});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.g(new A("ad-third-quartile"))});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.g(new A("ad-complete"));r.g(new A("ad-stopped"));r.s.removeAttribute("ad-active");r.m=null});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.g(new A("ad-skipped"));r.g(new A("ad-stopped"))});this.h.K(this.i,google.ima.dai.api.StreamEvent.Type.nS,function(n){var t=n.getStreamData();n=[];t=lt(t.cuepoints);for(var e=t.next();!e.done;e=t.next())e=e.value,n.push({start:e.start,end:e.end});r.P=n;r.g(new A("ad-cue-points-changed",(new Map).set("cuepoints",n)))})}n=_d.prototype;n.B=function(){};n.stop=function(){this.C="";this.o=null;this.P=[]};n.release=function(){this.stop();this.h&&this.h.release()};n.u4=function(n){if(n.key&&n.data){var t={};t[n.key]=n.data;this.i.onTimedMetadata(t)}};n.C3=function(){return this.P};function Ld(e,n){e.g(new A("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.I)));n=n.getStreamData().url;e.v.resolve(n);e.v=null;e.D||e.h.K(e.l,"seeked",function(){var n=e.l.currentTime;if(0!=n){e.i.streamTimeForContentTime(n);var t=e.i.previousCuePointForStreamTime(n);t&&!t.played&&(e.o=n,e.l.currentTime=t.start)}})}function e(){zu.call(this);this.i=this.g=this.v=this.h=null;this.m=new td;this.o=navigator.language;this.l=null}N(e,zu);n=e.prototype;n.yS=function(n){this.o=n};n.B=function(n){this.l=n;this.h&&this.h.B(this.l);this.v&&this.v.B(this.l);this.i&&this.i.B(this.l)};n.SS=function(n,t,e){var i=this;this.h&&this.h.release();this.h=new hd(n,t,e,function(n){return Od(i,n)});this.h.B(this.l)};n.AS=function(n,t,e){var i=this;if(!L.google||!google.ima||!google.ima.AdsLoader)throw new vt(2,10,1e4);this.v&&this.v.release();this.v=new ud(n,t,this.o,e,function(n){return Od(i,n)});this.v.B(this.l)};n.release=function(){this.h&&(this.h.release(),this.h=null);this.v&&(this.v.release(),this.v=null);this.g&&(this.g.release(),this.g=null);this.i&&(this.i.release(),this.i=null);zu.prototype.release.call(this)};n.Ly=function(){this.h&&this.h.stop();this.v&&this.v.stop();this.g&&this.g.stop();this.i&&this.i.stop();this.dispatchEvent(new A("ad-stopped"));this.dispatchEvent(new A("ad-content-attach-requested"));this.m=new td};n.kS=function(n){if(!this.v)throw new vt(1,10,10001);var t=this.v;t.i&&t.i.su();t.m&&t.m.contentComplete();t.D=Date.now()/1e3;t.m.requestAds(n)};n.MS=function(n){if(!this.v)throw new vt(1,10,10001);var t=this.v;t.C=n;t.i&&t.i.updateAdsRenderingSettings(t.C)};n.IS=function(n,t,e){var i=this;this.g&&this.g.release();this.g=new Ed(n,t,e,function(n){return Od(i,n)})};n.NS=function(n,t,e){if(!this.g)throw new vt(1,10,10005);var i=this.g;e=void 0===e?"":e;i.l?n=Promise.reject(new vt(1,10,10004)):(i.l=new Fu,Sd(i,n,t),i.N=e||"",i.Cl=Date.now()/1e3,n=i.l);return n};n.PS=function(n){if(!this.g)throw new vt(1,10,10005);var t=this.g;t.D=n;t.g(new A("ads-loaded",(new Map).set("loadTime",0)))};n.RS=function(n,t){var e=this;if(!L.google||!google.ima||!google.ima.dai)throw new vt(2,10,10002);this.i&&this.i.release();this.i=new _d(n,t,this.o,function(n){return Od(e,n)});this.i.B(this.l)};n.DS=function(n,t){t=void 0===t?"":t;if(!this.i)throw new vt(1,10,10003);n.CS||(n.CS={});var e=n.CS;(e._S||e.LS)&&M('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.');n.CS._S="shaka-player";n.CS.LS="v4.12.6";e=this.i;e.v?n=Promise.reject(new vt(1,10,10004)):(n instanceof google.ima.dai.api.LiveStreamRequest&&(e.D=!0),e.v=new Fu,e.i.requestStream(n),e.C=t||"",e.I=Date.now()/1e3,n=e.v);return n};n.OS=function(n){if(!this.i)throw new vt(1,10,10003);(n._S||n.LS)&&M('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.');n._S="Shaka Player";n.LS="v4.12.6";this.i.i.replaceAdTagParameters(n)};n.xS=function(){On("AdManager.getServerSideCuePoints","Please use getCuePoints function.");return this.C3()};n.C3=function(){var n=[];this.i&&(n=n.concat(this.i.C3()));this.g&&(n=n.concat(this.g.C3()));return n};n.getStats=function(){var n=this.m;return{loadTimes:n.i,US:ed(n),FS:n.h,BS:n.v,XS:n.l,HS:n.g}};n.Gy=function(n){if(this.g)this.g.Gy(n)};n.Yy=function(n){this.i&&"urn:google:dai:2018"==n.Jd&&this.i.i.processMetadata(n.Jd,n.j3?n.j3.attributes.t1:null,n.startTime)};n.Qy=function(n,t){this.i&&this.i.i.processMetadata("ID3",n.data,t)};n.u4=function(n){if(this.i)this.i.u4(n)};n.qy=function(n,t,e){this.l&&this.l.hg||(this.h||this.SS(null,n,t),this.h&&vd(this.h,e))};n.$y=function(n,t,e){if(!(this.l&&this.l.dg||"urn:mpeg:dash:event:alternativeMPD:2022"!=e.Jd)&&(this.h||this.SS(null,n,t),this.h)){n=this.h;t=lt(e.j3.children);for(var i=t.next();!i.done;i=t.next()){var r=i.value;if("AlternativeMPD"==r.tagName&&(i=r.attributes.uri,r=r.attributes.mode,i)){var u=i;var a=r;break}}u?(t="replace"==a,a="insert"==a,(t||a)&&md(n,[{id:e.id,startTime:e.startTime,endTime:e.endTime,uri:u,mimeType:null,dE:!1,_E:null,LE:null,OE:!0,xE:a?0:null,UE:null,once:!1,FE:!1,BE:!1,XE:t&&!a}])):M("Unsupported MPD alternate",e)}};n.jS=function(n){if(!this.h)throw new vt(1,10,10006);md(this.h,[n])};n.TS=function(n){if(!this.h)throw new vt(1,10,10006);return this.h.TS(n)};function Od(n,t){if(t&&t.type)switch(t.type){case"ads-loaded":n.m.i.push(t.loadTime);break;case"ad-started":n.m.h++;break;case"ad-complete":n.m.v++;break;case"ad-skipped":n.m.l++;break;case"ad-error":n.m.g++}n.dispatchEvent(t)}t("shaka.ads.AdManager",e);e.prototype.TS=e.prototype.TS;e.prototype.jS=e.prototype.jS;e.prototype.$y=e.prototype.$y;e.prototype.qy=e.prototype.qy;e.prototype.u4=e.prototype.u4;e.prototype.Qy=e.prototype.Qy;e.prototype.Yy=e.prototype.Yy;e.prototype.Gy=e.prototype.Gy;e.prototype.getStats=e.prototype.getStats;e.prototype.C3=e.prototype.C3;e.prototype.xS=e.prototype.xS;e.prototype.OS=e.prototype.OS;e.prototype.DS=e.prototype.DS;e.prototype.RS=e.prototype.RS;e.prototype.PS=e.prototype.PS;e.prototype.NS=e.prototype.NS;e.prototype.IS=e.prototype.IS;e.prototype.MS=e.prototype.MS;e.prototype.kS=e.prototype.kS;e.prototype.Ly=e.prototype.Ly;e.prototype.release=e.prototype.release;e.prototype.AS=e.prototype.AS;e.prototype.SS=e.prototype.SS;e.prototype.B=e.prototype.B;e.prototype.yS=e.prototype.yS;e.HE="ads-loaded";e.jE="ad-started";e.VE="ad-first-quartile";e.GE="ad-midpoint";e.qE="ad-third-quartile";e.KE="ad-complete";e.WE="ad-stopped";e.zE="ad-skipped";e.YE="ad-volume-changed";e.$E="ad-muted";e.QE="ad-paused";e.JE="ad-resumed";e.ZE="ad-skip-state-changed";e.nS="ad-cue-points-changed";e.tS="ima-ad-manager-loaded";e.eS="ima-stream-manager-loaded";e.iS="ad-clicked";e.rS="ad-progress";e.uS="ad-buffering";e.aS="ad-impression";e.oS="ad-duration-changed";e.sS="ad-closed";e.fS="ad-loaded";e.cS="all-ads-completed";e.lS="ad-linear-changed";e.hS="ad-metadata";e.dS="ad-recoverable-error";e.vS="ad-error";e.mS="ad-break-ready";e.pS="ad-interaction";e.wS="ad-content-pause-requested";e.gS="ad-content-resume-requested";e.bS="ad-content-attach-requested";nd=function(){return new e};function xd(n){return JSON.stringify(n,function(n,t){if("function"!=typeof t){if(t instanceof Event||t instanceof A){var e={};for(i in t)(n=t[i])&&"object"==typeof n?"detail"==i&&(e[i]=n):i in Event||(e[i]=n);return e}if(t instanceof Error){var i=new Set(["name","message","stack"]);for(e in t)i.add(e);e=lt(Object.getOwnPropertyNames(t));for(n=e.next();!n.done;n=e.next())i.add(n.value);e={};i=lt(i);for(n=i.next();!n.done;n=i.next())n=n.value,e[n]=t[n];t={VS:"Error",GS:e}}else if(t instanceof TimeRanges){i={VS:"TimeRanges",length:t.length,start:[],end:[]};t=lt(Xo(t));for(e=t.next();!e.done;e=t.next())e=e.value,n=e.end,i.start.push(e.start),i.end.push(n);t=i}else t=ArrayBuffer.isView(t)&&1===t.BYTES_PER_ELEMENT?{VS:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return t}})}function Ud(n){return JSON.parse(n,function(n,t){if("NaN"==t)var e=NaN;else if("-Infinity"==t)e=-Infinity;else if("Infinity"==t)e=Infinity;else if(t&&"object"==typeof t&&"TimeRanges"==t.VS)e=Fd(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.VS)e=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.VS){n=t.GS;t=Error(n.message);for(e in n)t[e]=n[e];e=t}else e=t;return e})}function Fd(t){return{length:t.length,start:function(n){return t.start[n]},end:function(n){return t.end[n]}}}var Bd="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Xd="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Hd=["loop","playbackRate"],jd=["pause","play"],Vd={LT:2,hT:4,vT:4,XT:1,tT:2,NT:2,MT:2,AT:2,lT:4,dT:4,bT:2,wT:2,CT:10,kT:1,uv:1,av:10,oT:1,keySystem:10,DT:1,FT:10,UT:10,PT:1,V3:1},Gd={getConfiguration:4,getStats:5,yT:2,TT:2},qd={iT:1,eT:20,bv:20},Kd=[["getConfiguration","configure"]],Wd=[["isTextTrackVisible","setTextTrackVisibility"]],zd="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),Yd=["attach","attachCanvas","detach","load","unload"];function $d(n,t,e,i,r,u,a){var o=this;this.D=n;this.Sl=a;this.l=new S(t);this.Il=e;this.s=!1;this.p=i;this.I=r;this.Pl=u;this.h=this.m=!1;this.R="";this.o=null;this.C=function(){return t1(o)};this.P=function(n,t){n=Ud(t);switch(n.type){case"event":var e=n.qS,i=Ku(n.event);o.p(e,i);break;case"update":e=n.update;for(i in e){n=o.i[i]||{};for(var r in e[i])n[r]=e[i][r]}o.s&&(o.Il(),o.s=!1);break;case"asyncComplete":if(i=n.id,r=n.error,n=o.g[i],delete o.g[i],n)if(r){i=new vt(r.kn,r.category,r.code);for(e in r)i[e]=r[e];n.reject(i)}else n.resolve()}};this.i={Gu:{},KS:{}};this.N=0;this.g={};this.v=null;s1.add(this)}n=$d.prototype;n.su=function(){s1["delete"](this);e1(this);a1&&n1(this);this.l&&(this.l.stop(),this.l=null);this.I=this.p=null;this.h=this.m=!1;this.P=this.C=this.v=this.g=this.i=this.o=null;return Promise.resolve()};n.WS=function(){return this.h};n.zS=function(){return this.R};n.init=function(){if(this.D.length)if(L.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0;this.l.Fi();var n=new chrome.cast.SessionRequest(this.D,[],null,this.Sl,null);n=new chrome.cast.ApiConfig(n,function(n){for(var t=lt(s1),e=t.next();!e.done;e=t.next()){e=e.value;var i=n;e.v=new Fu;e.s=!0;Jd(e,i)}},function(n){for(var t=lt(s1),e=t.next();!e.done;e=t.next())e=e.value,u1="available"==n,e.l.Fi()},"origin_scoped");chrome.cast.initialize(n,function(){},function(){});u1&&this.l.Ui(r1);(n=a1)&&n.status!=chrome.cast.SessionStatus.STOPPED?(this.v=new Fu,this.s=!0,Jd(this,n)):a1=null}else L.YS!==f1&&(o1=L.YS||null,L.YS=f1)};n.$S=function(n){this.o=n;this.h&&i1(this,{type:"appData",QS:this.o})};n.cast=function(){var t=this;return sn(function(n){if(!t.m)throw new vt(1,8,8e3);if(!u1)throw new vt(1,8,8001);if(t.h)throw new vt(1,8,8002);t.v=new Fu;chrome.cast.requestSession(function(n){return Jd(t,n)},function(n){return Zd(t,n)});return an(n,t.v,0)})};function Qd(t){t.h&&chrome.cast.requestSession(function(n){return Jd(t,n)},function(n){return Zd(t,n)})}n.JS=function(){if(this.h){e1(this);if(a1){n1(this);try{a1.stop(function(){},function(){})}catch(DE){}a1=null}t1(this)}};n.get=function(n,t){var e=this;if("video"==n){if(jd.includes(t))return function(){return e.ZS.apply(e,[n,t].concat(ht(Z.apply(0,arguments))))}}else if("player"==n){if(qd[t]&&!this.get("player","isLive")())return function(){};if(zd.includes(t))return function(){return e.ZS.apply(e,[n,t].concat(ht(Z.apply(0,arguments))))};if(Yd.includes(t))return function(){return e.nA.apply(e,[n,t].concat(ht(Z.apply(0,arguments))))};if(Vd[t]||Gd[t])return function(){return e.i[n][t]}}return this.i[n][t]};n.set=function(n,t,e){this.i[n][t]=e;i1(this,{type:"set",qS:n,tA:t,value:e})};function Jd(n,t){var e=n.Pl();a1=t;t.addUpdateListener(n.C);t.addMessageListener("urn:x-cast:com.google.shaka.v2",n.P);t1(n);i1(n,{type:"init",eA:e,QS:n.o});n.v.resolve()}function Zd(n,t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}n.v.reject(new vt(2,8,e,t))}n.ZS=function(n,t){i1(this,{type:"call",qS:n,methodName:t,iA:Z.apply(2,arguments)})};n.nA=function(n,t){var e=Z.apply(2,arguments),i=new Fu,r=this.N.toString();this.N++;this.g[r]=i;try{i1(this,{type:"asyncCall",qS:n,methodName:t,iA:e,id:r})}catch(u){i.reject(u)}return i};function n1(n){var t=a1;t.removeUpdateListener(n.C);t.removeMessageListener("urn:x-cast:com.google.shaka.v2",n.P)}function t1(n){var t=a1?"connected"==a1.status:!1;if(n.h&&!t){n.I();for(var e in n.i)n.i[e]={};e1(n)}n.h=t;n.R=t?a1.receiver.friendlyName:"";n.l.Fi()}function e1(n){for(var t in n.g){var e=n.g[t];delete n.g[t];e.reject(new vt(1,7,7e3))}}function i1(n,t){t=xd(t);var e=a1;try{e.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},Tn)}catch(i){throw t=new vt(2,8,8005,i),e=new A("error",(new Map).set("detail",t)),n.p("player",e),n.JS(),t}}var r1=.02,u1=!1,a1=null,o1=null,s1=new Set;function f1(n){o1?L.YS=o1:delete L.YS;o1=null;if(n)for(var t=lt(s1),e=t.next();!e.done;e=t.next())e.value.init();"function"===typeof L.YS&&L.YS(n)}function c1(n,t,e,i){i=void 0===i?!1:i;zu.call(this);var r=this;this.g=n;this.h=t;this.m=this.o=this.v=this.s=this.l=null;this.P=e;this.C=i;this.p=new Map;this.i=new $d(e,function(){return m1(r)},function(){return p1(r)},function(n,t){return y1(r,n,t)},function(){return w1(r)},function(){return v1(r)},i);l1(this)}N(c1,zu);n=c1.prototype;n.su=function(n){n&&this.i.JS();this.m&&(this.m.release(),this.m=null);n=[];this.h&&(n.push(this.h.su()),this.h=null);this.i&&(n.push(this.i.su()),this.i=null);this.s=this.l=this.g=null;zu.prototype.release.call(this);return Promise.all(n)};n.rA=function(){return this.l};n.uA=function(){return this.s};n.aA=function(){return this.i.m&&u1};n.WS=function(){return this.i.WS()};n.zS=function(){return this.i.zS()};n.cast=function(){var t=this;return sn(function(n){return 1==n.i?an(n,t.i.cast(),2):t.h?an(n,t.h._y(),0):n.A()})};n.$S=function(n){this.i.$S(n)};n.oA=function(){Qd(this.i)};n.JS=function(){this.i.JS()};n.sA=function(t,e){e=void 0===e?!1:e;var i=this;return sn(function(n){if(1==n.i){if(t==i.P&&e==i.C)return n.A();i.P=t;i.C=e;i.i.JS();return an(n,i.i.su(),2)}i.i=null;i.i=new $d(t,function(){return m1(i)},function(){return p1(i)},function(n,t){return y1(i,n,t)},function(){return w1(i)},function(){return v1(i)},e);i.i.init();on(n)})};function l1(i){i.i.init();i.m=new Mn;for(var n=lt(Bd),t=n.next();!t.done;t=n.next())i.m.K(i.g,t.value,function(n){i.i.WS()||(n=Ku(n),i.v.dispatchEvent(n))});for(var e in Wu)i.m.K(i.h,Wu[e],function(n){i.i.WS()||i.o.dispatchEvent(n)});i.l={};n={};for(var r in i.g)n={fA:n.fA},n.fA=r,Object.defineProperty(i.l,n.fA,{t:!1,Cs:!0,get:function(n){return function(){return g1(i,n.fA)}}(n),set:function(e){return function(n){var t=e.fA;i.i.WS()?i.i.set("video",t,n):i.g[t]=n}}(n)});i.s={};d1(i,function(n){Object.defineProperty(i.s,n,{t:!1,Cs:!0,get:function(){return b1(i,n)}})});h1(i);i.v=new zu;i.v.kf=i.l;i.o=new zu;i.o.kf=i.s}function h1(e){var i=new Map;d1(e,function(n,t){i.has(t)?(t=i.get(t),n.length<t.length?e.p.set(n,t):e.p.set(t,n)):i.set(t,n)})}function d1(n,t){function e(n){return"constructor"==n||"function"!=typeof i[n]?!1:!r.has(n)}var i=n.h,r=new Set,u;for(u in i)e(u)&&(r.add(u),t(u,i[u]));n=Object.getPrototypeOf(i);for(u=Object.getPrototypeOf({});n&&n!=u;){for(var a=lt(Object.getOwnPropertyNames(n)),o=a.next();!o.done;o=a.next())o=o.value,e(o)&&(r.add(o),t(o,i[o]));n=Object.getPrototypeOf(n)}}function v1(n){var t={Gu:{},KS:{},cA:{},manifest:n.h.Pg(),startTime:null};n.g.pause();for(var e=lt(Hd),i=e.next();!i.done;i=e.next())i=i.value,t.Gu[i]=n.g[i];n.g.ended||(t.startTime=n.g.currentTime);e=lt(Kd);for(i=e.next();!i.done;i=e.next()){var r=i.value;i=r[1];r=n.h[r[0]]();t.KS[i]=r}e=lt(Wd);for(i=e.next();!i.done;i=e.next())r=i.value,i=r[1],r=n.h[r[0]](),t.cA[i]=r;return t}function m1(n){var t=new A("caststatuschanged");n.dispatchEvent(t)}function p1(n){var t=new A(n.l.paused?"pause":"play");n.v.dispatchEvent(t)}function w1(i){for(var n=lt(Kd),t=n.next();!t.done;t=n.next()){var e=t.value;t=e[1];e=i.i.get("player",e[0])();i.h[t](e)}var r=i.i.get("player","getAssetUri")();e=i.i.get("video","ended");n=Promise.resolve();var u=i.g.autoplay;t=null;e||(t=i.i.get("video","currentTime"));var a;(e=i.i.get("player","getTextTracks")())&&e.length&&(a=e.find(function(n){return n.active}));var o=i.i.get("player","isTextTrackVisible")();r&&(i.g.autoplay=!1,n=i.h.load(r,t));var s={};t=lt(Hd);for(e=t.next();!e.done;e=t.next())e=e.value,s[e]=i.i.get("video",e);n.then(function(){if(i.g){for(var n=lt(Hd),t=n.next();!t.done;t=n.next())t=t.value,i.g[t]=s[t];n=lt(Wd);for(t=n.next();!t.done;t=n.next()){var e=t.value;t=e[1];e=i.i.get("player",e[0])();i.h[t](e)}i.h.n3(o);a&&i.h.r4(a.language,a.Ta,a.Po);i.g.autoplay=u;r&&i.g.play()}},function(n){n=(new Map).set("detail",n);n=new A("error",n);i.h.dispatchEvent(n)})}function g1(i,n){if("addEventListener"==n)return function(n,t,e){return i.v.addEventListener(n,t,e)};if("removeEventListener"==n)return function(n,t,e){return i.v.removeEventListener(n,t,e)};if(i.i.WS()&&0==Object.keys(i.i.i.Gu).length){var t=i.g[n];if("function"!=typeof t)return t}return i.i.WS()?i.i.get("video",n):(n=i.g[n],"function"==typeof n&&(n=n.bind(i.g)),n)}function b1(i,n){i.p.has(n)&&(n=i.p.get(n));if("addEventListener"==n)return function(n,t,e){return i.o.addEventListener(n,t,e)};if("removeEventListener"==n)return function(n,t,e){return i.o.removeEventListener(n,t,e)};if("getMediaElement"==n)return function(){return i.l};if("getSharedConfiguration"==n)return i.i.get("player","getConfiguration");if("getNetworkingEngine"==n)return function(){return i.h.f4()};if("getDrmEngine"==n)return function(){return i.h.P};if("getAdManager"==n)return function(){return i.h.C4()};if("setVideoContainer"==n)return function(n){return i.h.X3(n)};if(i.i.WS()){if("getManifest"==n||"drmInfo"==n)return function(){M(n+"() does not work while casting!");return null};if("attach"==n||"detach"==n)return function(){M(n+"() does not work while casting!");return Promise.resolve()}}return i.i.WS()&&0==Object.keys(i.i.i.Gu).length&&(Vd[n]||Gd[n])||!i.i.WS()?i.h[n].bind(i.h):i.i.get("player",n)}function y1(n,t,e){n.i.WS()&&("video"==t?n.v.dispatchEvent(e):"player"==t&&n.o.dispatchEvent(e))}t("shaka.cast.CastProxy",c1);c1.prototype.lA=c1.prototype.sA;c1.prototype.hA=c1.prototype.JS;c1.prototype.dA=c1.prototype.oA;c1.prototype.vA=c1.prototype.$S;c1.prototype.cast=c1.prototype.cast;c1.prototype.mA=c1.prototype.zS;c1.prototype.pA=c1.prototype.WS;c1.prototype.wA=c1.prototype.aA;c1.prototype.gA=c1.prototype.uA;c1.prototype.bA=c1.prototype.rA;c1.prototype.su=c1.prototype.su;function T1(n,t,e,i){zu.call(this);var r=this;this.i=n;this.h=t;this.v=new Mn;this.N={Gu:n,KS:t};this.I=e||function(){};this.R=i||function(n){return n};this.g=null;this.D=!1;this.o=!0;this.m=0;this.C=!1;this.p=!0;this.s=this.l=null;this.P=new S(function(){I1(r)});E1(this)}N(T1,zu);n=T1.prototype;n.isConnected=function(){return this.D};n.yA=function(){return this.o};n.TA=function(n){this.g=n};n.EA=function(){this.g=null};n.SA=function(n){this.g||(this.g={AA:cast.receiver.media.MetadataType.GENERIC});this.g.title=n};n.kA=function(n){this.g||(this.g={AA:cast.receiver.media.MetadataType.GENERIC});this.g.images=[{url:n}]};n.MA=function(n){this.g||(this.g={});this.g.artist=n;this.g.AA=cast.receiver.media.MetadataType.MUSIC_TRACK};n.su=function(){var t=this,e,i;return sn(function(n){if(1==n.i)return t.v&&(t.v.release(),t.v=null),e=[],t.h&&(e.push(t.h.su()),t.h=null),t.P&&(t.P.stop(),t.P=null),t.i=null,t.N=null,t.I=null,t.D=!1,t.o=!0,t.l=null,t.s=null,zu.prototype.release.call(t),an(n,Promise.all(e),2);i=cast.receiver.CastReceiverManager.getInstance();i.stop();on(n)})};function E1(t){var n=cast.receiver.CastReceiverManager.getInstance();n.IA=function(){return S1(t)};n.NA=function(){return S1(t)};n.PA=function(){var n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();n&&_1(t,{type:"update",update:{Gu:{volume:n.level,muted:n.muted}}},t.l);_1(t,{type:"event",qS:"video",event:{type:"volumechange"}},t.l)};t.s=n.getCastMessageBus("urn:x-cast:com.google.cast.media");t.s.RA=function(n){return D1(t,n)};t.l=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2");t.l.RA=function(n){return R1(t,n)};n.start();n=lt(Bd);for(var e=n.next();!e.done;e=n.next())t.v.K(t.i,e.value,function(n){return M1(t,"video",n)});for(var i in Wu)t.v.K(t.h,Wu[i],function(n){return M1(t,"player",n)});t.v.K(t.i,"loadeddata",function(){t.C=!0});t.v.K(t.h,"loading",function(){t.o=!1;A1(t)});t.v.K(t.i,"playing",function(){t.o=!1;A1(t)});t.v.K(t.i,"pause",function(){A1(t)});t.v.K(t.h,"unloading",function(){t.o=!0;A1(t)});t.v.K(t.i,"ended",function(){new S(function(){t.i&&t.i.ended&&(t.o=!0,A1(t))}).Ui(x1)})}function S1(n){n.m=0;n.p=!0;n.D=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length;A1(n)}function A1(t){var e;sn(function(n){if(1==n.i)return an(n,Promise.resolve(),2);if(!t.h)return n.A();e=new A("caststatuschanged");t.dispatchEvent(e);N1(t)||L1(t);on(n)})}function k1(t,e,i){var r,u,a,o,s,f,c,l,h,d;sn(function(n){switch(n.i){case 1:for(r in e.KS)u=e.KS[r],t.h[r](u);t.I(i);a=t.i.autoplay;return e.manifest?(t.i.autoplay=!1,q(n,5),an(n,t.h.load(e.manifest,e.startTime),7)):an(n,Promise.resolve(),3);case 7:K(n,3);break;case 5:return o=W(n),s=(new Map).set("detail",o),f=new A("error",s),t.h&&t.h.dispatchEvent(f),n.A();case 3:if(!t.h)return n.A();for(c in e.Gu)l=e.Gu[c],t.i[c]=l;for(h in e.cA)d=e.cA[h],t.h[h](d);t.i.autoplay=a;e.manifest&&(t.i.play(),L1(t));on(n)}})}function M1(n,t,e){n.h&&(I1(n),_1(n,{type:"event",qS:t,event:e},n.l))}function I1(n){n.P.Ui(O1);for(var t={Gu:{},KS:{}},e=lt(Xd),i=e.next();!i.done;i=e.next())i=i.value,t.Gu[i]=n.i[i];if(n.h.D1())for(var r in qd)0==n.m%qd[r]&&(t.KS[r]=n.h[r]());for(var u in Vd)0==n.m%Vd[u]&&(t.KS[u]=n.h[u]());if(e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())t.Gu.volume=e.level,t.Gu.muted=e.muted;_1(n,{type:"update",update:t},n.l);for(var a in Gd)0==n.m%Gd[a]&&(t={KS:{}},t.KS[a]=n.h[a](),_1(n,{type:"update",update:t},n.l));n.C&&(n.m+=1);N1(n)}function N1(n){return n.p&&(n.i.duration||n.h.D1())?(P1(n),n.p=!1,!0):!1}function P1(n,t){var e={Q2:n.h.Pg(),DA:n.h.D1()?"LIVE":"BUFFERED",contentType:""};n.h.D1()||(e.duration=n.i.duration);n.g&&(e.metadata=n.g);L1(n,void 0===t?0:t,e)}function R1(t,n){var e=Ud(n.data);switch(e.type){case"init":t.m=0;t.C=!1;t.p=!0;k1(t,e.eA,e.QS);I1(t);break;case"appData":t.I(e.QS);break;case"set":var i=e.qS,r=e.tA;e=e.value;if("video"==i)if(n=cast.receiver.CastReceiverManager.getInstance(),"volume"==r){n.setSystemVolumeLevel(e);break}else if("muted"==r){n.setSystemVolumeMuted(e);break}t.N[i][r]=e;break;case"call":i=t.N[e.qS];i[e.methodName].apply(i,e.iA);break;case"asyncCall":i=e.qS;r=e.methodName;"player"==i&&"load"==r&&(t.m=0,t.C=!1);var u=e.id,a=n.senderId;n=t.N[i];e=n[r].apply(n,e.iA);"player"==i&&"load"==r&&(e=e.then(function(){t.p=!0}));e.then(function(){return C1(t,a,u,null)},function(n){return C1(t,a,u,n)})}}function D1(e,n){var i=Ud(n.data);switch(i.type){case"PLAY":e.i.play();L1(e);break;case"PAUSE":e.i.pause();L1(e);break;case"SEEK":n=i.currentTime;var t=i.resumeState;null!=n&&(e.i.currentTime=Number(n));t&&"PLAYBACK_START"==t?(e.i.play(),L1(e)):t&&"PLAYBACK_PAUSE"==t&&(e.i.pause(),L1(e));break;case"STOP":e.h._y().then(function(){e.h&&L1(e)});break;case"GET_STATUS":P1(e,Number(i.requestId));break;case"VOLUME":t=i.volume;n=t.level;t=t.muted;var r=e.i.volume,u=e.i.muted;null!=n&&(e.i.volume=Number(n));null!=t&&(e.i.muted=t);r==e.i.volume&&u==e.i.muted||L1(e);break;case"LOAD":e.m=0;e.C=!1;e.p=!1;n=i.media;t=i.currentTime;r=e.R(n.Q2);u=i.autoplay||!0;e.I(n.customData);u&&(e.i.autoplay=!0);e.h.load(r,t).then(function(){e.h&&P1(e)})["catch"](function(n){var t="LOAD_FAILED";7==n.category&&7e3==n.code&&(t="LOAD_CANCELLED");_1(e,{requestId:Number(i.requestId),type:t},e.s)});break;default:_1(e,{requestId:Number(i.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.s)}}function C1(n,t,e,i){n.h&&_1(n,{type:"asyncComplete",id:e,error:i},n.l,t)}function _1(n,t,e,i){n.D&&(n=xd(t),i?e.getCastChannel(i).send(n):e.broadcast(n))}function L1(n,t,e){e=void 0===e?null:e;var i={CA:0,playbackRate:n.i.playbackRate,_A:n.o?U1:n.h.U4()?B1:n.i.paused?X1:F1,currentTime:n.i.currentTime,LA:63,volume:{level:n.i.volume,muted:n.i.muted}};e&&(i.media=e);_1(n,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[i]},n.s)}t("shaka.cast.CastReceiver",T1);T1.prototype.su=T1.prototype.su;T1.prototype.OA=T1.prototype.MA;T1.prototype.xA=T1.prototype.kA;T1.prototype.UA=T1.prototype.SA;T1.prototype.FA=T1.prototype.EA;T1.prototype.BA=T1.prototype.TA;T1.prototype.XA=T1.prototype.yA;T1.prototype.isConnected=T1.prototype.isConnected;var O1=.5,x1=5,U1="IDLE",F1="PLAYING",B1="BUFFERING",X1="PAUSED";function H1(n,t,e,i,r){if(i>=r)return null;for(var u=-1,a=-1,o=0;o<e.length;o++)if(e[o].some(function(n){return null!=n&&""!=n.i.trim()})){u=o;break}for(o=e.length-1;0<=o;o--)if(e[o].some(function(n){return null!=n&&""!=n.i.trim()})){a=o;break}if(-1===u||-1===a)return null;for(var s=o=!1,f="white",c="black",l=j1(i,r,o,s,f,c);u<=a;u++){for(var h=e[u],d=-1,v=-1,m=0;m<h.length;m++)if(null!=h[m]&&""!==h[m].i.trim()){d=m;break}for(m=h.length-1;0<=m;m--)if(null!=h[m]&&""!==h[m].i.trim()){v=m;break}if(-1===d||-1===v)h=V1(i,r),n.pr.push(h);else{for(;d<=v;d++)if(m=h[d]){var p=m.l,w=m.g,g=m.v,b=m.h;if(p!=o||w!=s||g!=f||b!=c)l.sr&&n.pr.push(l),l=j1(i,r,p,w,g,b),o=p,s=w,f=g,c=b;l.sr+=m.i}else l.sr+=" ";l.sr&&n.pr.push(l);u!==a&&(l=V1(i,r),n.pr.push(l));l=j1(i,r,o,s,f,c)}}return n.pr.length?{ta:n,stream:t}:null}function j1(n,t,e,i,r,u){n=new Oe(n,t,"");e&&n.textDecoration.push(ai);i&&(n.fontStyle=ri);n.color=r;n.backgroundColor=u;return n}function V1(n,t){n=new Oe(n,t,"");n.lineBreak=!0;return n}function G1(n,t,e,i,r){this.i=n;this.l=t;this.g=e;this.h=i;this.v=r}function q1(n,t){this.g=[];this.i=1;this.h=0;this.P=n;this.C=t;this.v=this.m=!1;this.l="white";this.o="black";this.s=this.p=null;W1(this)}function K1(n,t,e){var i="CC"+((n.P<<1|n.C)+1),r=new Oe(t,e,"");r.cr=1;var u=tv.get(n.i);u&&(r.line=u);null!=n.s&&null!=n.p&&(r.position=10+Math.min(70,10*n.s)+2.5*n.p);(t=H1(r,i,n.g,t,e))&&15<n.i+t.ta.pr.length-3&&(u=tv.get(n.i+3-t.ta.pr.length))&&(r.line=u);return t}function W1(n){$1(n,0,15);n.i=1}function z1(n,t,e){if(!(32>e||127<e)){var i="";switch(t){case 0:i=Q1.has(e)?Q1.get(e):String.fromCharCode(e);break;case 1:i=J1.get(e);break;case 2:n.g[n.i].pop();i=Z1.get(e);break;case 3:n.g[n.i].pop(),i=nv.get(e)}i&&n.g[n.i].push(new G1(i,n.m,n.v,n.o,n.l))}}function Y1(n,t,e,i){if(!(0>e||0>t))if(t>=e)for(--i;0<=i;i--)n.g[t+i]=n.g[e+i].map(function(n){return n});else for(var r=0;r<i;r++)n.g[t+r]=n.g[e+r].map(function(n){return n})}function $1(n,t,e){for(var i=0;i<=e;i++)n.g[t+i]=[]}var Q1=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),J1=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),Z1=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),nv=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),tv=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function ev(n,t){this.h=0;this.o=new q1(n,t);this.g=new q1(n,t);this.i=this.v=new q1(n,t);this.l=0;this.m=null}function iv(n,t,e){n.i=n.g;var i=n.i,r=null;3!==n.h&&4!==n.h&&(r=K1(i,n.l,e),e=n.g,e.i=0<e.h?e.h:0,$1(e,0,15),e=n.v,e.i=0<e.h?e.h:0,$1(e,0,15),i.i=15);n.h=3;i.h=t;return r}function rv(n){n.h=1;n.i=n.v;n.i.h=0}function uv(n){yn("Cea608DataChannel","CEA-608 text mode entered, but is unsupported");n.i=n.o;n.h=4}var av="black green blue cyan red yellow magenta black".split(" "),ov="white green blue cyan red yellow magenta white_italics".split(" ");function sv(n,t){this.R=t;this.Pl=n;this.Sl=this.l=!1;this.m=this.o=this.D=this.Il=this.N=0;this.I=2;this.g=[];this.i=this.h=this.v=0;this.P=this.p=!1;this.C="white";this.s="black";fv(this)}function fv(n){n.g=[];for(var t=0;16>t;t++)n.g.push(cv())}function cv(){for(var n=[],t=0;42>t;t++)n.push(null);return n}function lv(n,t){hv(n)&&(n.g[n.h][n.i]=new G1(t,n.P,n.p,n.s,n.C),n.i++)}function hv(n){var t=n.i<n.m&&0<=n.i;return n.h<n.o&&0<=n.h&&t}sv.prototype.isVisible=function(){return this.l};function dv(n,t,e){var i=new Oe(n.v,t,"");i.textAlign=0===n.I?"left":1===n.I?"right":Ge;var r=i.region;n.R&&(r.id+="svc"+n.R);r.id+="win"+n.Pl;r.height=n.o;r.width=n.m;r.bn=2;r.gn=2;r.viewportAnchorX=n.N;r.viewportAnchorY=n.Il;r.wn=n.Sl?Jn:2;switch(n.D){case 0:r.regionAnchorX=0;r.regionAnchorY=0;break;case 1:r.regionAnchorX=50;r.regionAnchorY=0;break;case 2:r.regionAnchorX=100;r.regionAnchorY=0;break;case 3:r.regionAnchorX=0;r.regionAnchorY=50;break;case 4:r.regionAnchorX=50;r.regionAnchorY=50;break;case 5:r.regionAnchorX=100;r.regionAnchorY=50;break;case 6:r.regionAnchorX=0;r.regionAnchorY=100;break;case 7:r.regionAnchorX=50;r.regionAnchorY=100;break;case 8:r.regionAnchorX=100,r.regionAnchorY=100}if(e=H1(i,"svc"+e,n.g,n.v,t))n.v=t;return e}sv.prototype.display=function(){this.l=!0};function vv(){this.g=[];this.h=null;this.i=0}function mv(n,t){3===t.type?(n.i=2*(t.value&63)-1,n.h=[]):n.h&&(0<n.i&&(n.h.push(t),n.i--),0===n.i&&(n.g.push(new pv(n.h)),n.h=null,n.i=0))}function pv(n){this.i=0;this.h=n}pv.prototype._c=function(){return this.i<this.h.length};pv.prototype.Lc=function(){return this.i};function wv(n){if(!n._c())throw new vt(2,2,3e3);return n.h[n.i++]}pv.prototype.jc=function(n){if(this.i+n>this.h.length)throw new vt(2,2,3e3);this.i+=n};function gv(n){this.g=n;this.h=[null,null,null,null,null,null,null,null];this.i=null}function bv(n,t,e,i){if(128<=e&&135>=e)i=e&7,n.h[i]&&(n.i=n.h[i]);else{if(136===e){e=wv(t).value;t=null;e=lt(yv(n,e));for(var r=e.next();!r.done;r=e.next())r=n.h[r.value],r.isVisible()&&(t=dv(r,i,n.g)),fv(r);return t}if(137===e)for(t=wv(t).value,t=lt(yv(n,t)),e=t.next();!e.done;e=t.next())e=n.h[e.value],e.isVisible()||(e.v=i),e.display();else{if(138===e){e=wv(t).value;t=null;e=lt(yv(n,e));for(r=e.next();!r.done;r=e.next())r=n.h[r.value],r.isVisible()&&(t=dv(r,i,n.g)),r.l=!1;return t}if(139===e){e=wv(t).value;t=null;e=lt(yv(n,e));for(r=e.next();!r.done;r=e.next())r=n.h[r.value],r.isVisible()?t=dv(r,i,n.g):r.v=i,r.l=!r.l;return t}if(140===e)return t=wv(t).value,Tv(n,t,i);if(143===e)return i=Tv(n,255,i),Ev(n),i;if(144===e)t.jc(1),i=wv(t).value,n.i&&(n.i.p=0<(i&128),n.i.P=0<(i&64));else if(145===e)i=wv(t).value,e=wv(t).value,t.jc(1),n.i&&(t=Sv((e&48)>>4,(e&12)>>2,e&3),n.i.C=Sv((i&48)>>4,(i&12)>>2,i&3),n.i.s=t);else if(146===e)i=wv(t).value,t=wv(t).value,n.i&&(n=n.i,n.h=i&15,n.i=t&63);else if(151===e)t.jc(1),t.jc(1),i=wv(t).value,t.jc(1),n.i&&(n.i.I=i&3);else if(152<=e&&159>=e){e=(e&15)-8;r=null!==n.h[e];if(!r){var u=new sv(e,n.g);u.v=i;n.h[e]=u}i=wv(t).value;u=wv(t).value;var a=wv(t).value,o=wv(t).value,s=wv(t).value;t=wv(t).value;r&&0===(t&7)||(t=n.h[e],t.h=0,t.i=0,t.P=!1,t.p=!1,t.C="white",t.s="black");t=n.h[e];t.l=0<(i&32);t.Il=u&127;t.N=a;t.D=(o&240)>>4;t.Sl=0<(u&128);t.o=(o&15)+1;t.m=(s&63)+1;n.i=n.h[e]}}}return null}function yv(n,t){for(var e=[],i=0;8>i;i++)1===(t&1)&&n.h[i]&&e.push(i),t>>=1;return e}function Tv(n,t,e){var i=null;t=lt(yv(n,t));for(var r=t.next();!r.done;r=t.next()){r=r.value;var u=n.h[r];u.isVisible()&&(i=dv(u,e,n.g));n.h[r]=null}return i}function Ev(n){n.i=null;n.h=[null,null,null,null,null,null,null,null]}function Sv(n,t,e){var i={0:0,1:0,2:1,3:1};n=i[n];t=i[t];e=i[e];return kv[n<<2|t<<1|e]}var Av=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),kv="black blue green cyan red magenta yellow white".split(" ");function Mv(){this.h=[];this.i=[];this.g=new vv;this.l=0;this.m=new Map([["CC1",new ev(0,0)],["CC2",new ev(0,1)],["CC3",new ev(1,0)],["CC4",new ev(1,1)]]);this.s=this.o=0;this.v=new Map;this.C=!0;this.p=new Set;Iv(this)}Mv.prototype.clear=function(){this.l=0;this.h=[];this.i=[];var n=this.g;n.g=[];n.h=[];n.i=0;Iv(this);n=lt(this.v.values());for(var t=n.next();!t.done;t=n.next())Ev(t.value)};function Iv(n){n.o=0;n.s=0;for(var t=lt(n.m.values()),e=t.next();!e.done;e=t.next())e=e.value,e.h=0,e.i=e.v,e.m=null,W1(e.g),W1(e.v),W1(e.o);n.C=!0}Mv.prototype.tn=function(n,t){if(this.C){for(var e=lt(this.m.values()),i=e.next();!i.done;i=e.next())i.value.l=t;this.C=!1}n=new pa(n,0);if(!(8>n.Oc())&&181===n.xc()&&49===n.Uc()&&1195456820===n.Fc()&&3===n.xc()&&(e=n.xc(),0!==(e&64)))for(e&=31,n.jc(1),i=0;i<e;i++){var r=n.xc(),u=(r&4)>>2,a=n.xc(),o=n.xc();u&&(r&=3,0===r||1===r?this.h.push({cn:t,type:r,HA:a,jA:o,order:this.h.length}):(this.i.push({cn:t,type:r,value:a,order:this.i.length}),this.i.push({cn:t,type:2,value:o,order:this.i.length})))}};Mv.prototype.decode=function(){function n(n,t){return n.cn-t.cn||n.order-t.order}var t=[];this.h.sort(n);this.i.sort(n);for(var e=lt(this.h),i=e.next();!i.done;i=e.next())(i=Nv(this,i.value))&&t.push(i);e=lt(this.i);for(i=e.next();!i.done;i=e.next())mv(this.g,i.value);e=lt(this.g.g);for(i=e.next();!i.done;i=e.next())i=Pv(this,i.value),t.push.apply(t,ht(i));this.g.g=[];this.h=[];this.i=[];return t};function Nv(n,t){var e=t.type;if(16===(t.HA&112)){var i=t.HA>>3&1;0===e?n.o=i:n.s=i}i="CC"+((e<<1|(e?n.s:n.o))+1);e=n.m.get(i);if(255===t.HA&&255===t.jA||!t.HA&&!t.jA||!Rv(t.HA)||!Rv(t.jA))return 45<=++n.l&&Iv(n),null;n.l=0;t.HA&=127;t.jA&=127;var r=t.HA;if(1<=r&&15>=r||!t.HA&&!t.jA)return null;r=null;if(16===(t.HA&112))n:{n.p.add(i),i=t.HA;n=t.jA;if(e.m===(i<<8|n))e.m=null;else if(e.m=i<<8|n,16===(i&240)&&64===(n&192)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(i&7)<<1|n>>5&1];i="white";r=!1;var u=null;var a=95<n?n-96:n-64;13>=a?i=ov[Math.floor(a/2)]:15>=a?r=!0:u=Math.floor((a-16)/2);n=1===(n&1);4!==e.h&&(a=e.i,3===e.h&&t!==a.i&&(e=1+t-a.h,Y1(a,e,1+a.i-a.h,a.h),$1(a,0,e-1),$1(a,t+1,15-t)),a.i=t,a.m=n,a.v=r,a.l=i,a.s=u,a.o="black")}else if(17===(i&247)&&32===(n&240))e.i.m=!1,e.i.v=!1,e.i.l="white",z1(e.i,0,32),i=!1,t=ov[(n&14)>>1],"white_italics"===t&&(t="white",i=!0),e.i.m=1===(n&1),e.i.v=i,e.i.l=t;else if(16===(i&247)&&32===(n&240)||23===(i&247)&&45===(n&255))t="black",0===(i&7)&&(t=av[(n&14)>>1]),e.i.o=t;else if(17===(i&247)&&48===(n&240))z1(e.i,1,n);else if(18===(i&246)&&32===(n&224))z1(e.i,i&1?3:2,n);else{if(20===(i&246)&&32===(n&240)){n=t.cn;i=null;switch(t.jA){case 32:rv(e);break;case 33:e=e.i;e.g[e.i].pop();break;case 37:i=iv(e,2,n);break;case 38:i=iv(e,3,n);break;case 39:i=iv(e,4,n);break;case 40:z1(e.i,0,32);break;case 41:e.h=2;e.i=e.g;e.i.h=0;e.l=n;break;case 42:W1(e.o);uv(e);break;case 43:uv(e);break;case 44:t=e.g;i=null;4!==e.h&&(i=K1(t,e.l,n));$1(t,0,15);break;case 45:t=e.i;3!==e.h?i=null:(i=K1(t,e.l,n),r=t.i-t.h+1,Y1(t,r-1,r,t.h),$1(t,0,r-1),$1(t,t.i,15-t.i),e.l=n);break;case 46:$1(e.v,0,15);break;case 47:t=null,4!==e.h&&(t=K1(e.g,e.l,n)),i=e.v,e.v=e.g,e.g=i,rv(e),e.l=n,i=t}r=i;break n}(23==i||31==i)&&33<=n&&35>=n&&(e.i.p=n-32)}r=null}else n=t.jA,z1(e.i,0,t.HA),z1(e.i,0,n);return r}function Pv(n,t){var e=[];try{for(;t._c();){var i=wv(t).value,r=(i&224)>>5,u=i&31;7===r&&0!=u&&(r=wv(t).value&63);if(0!=r){n.p.add("svc"+r);n.v.has(r)||n.v.set(r,new gv(r));for(var a=n.v.get(r),o=t.Lc();t.Lc()-o<u;){r=a;var s=t,f=wv(s),c=f.value,l=f.cn;if(16===c){var h=wv(s);c=c<<16|h.value}if(0<=c&&31>=c){s=r;var d=c,v=l;if(s.i){var m=s.i;r=null;switch(d){case 8:!hv(m)||0>=m.i&&0>=m.h||(0>=m.i?(m.i=m.m-1,m.h--):m.i--,m.g[m.h][m.i]=null);break;case 13:m.isVisible()&&(r=dv(m,v,s.g));if(m.h+1>=m.o){s=m;d=0;for(v=1;16>v;v++,d++)s.g[d]=s.g[v];for(v=0;1>v;v++,d++)s.g[d]=cv()}else m.h++;m.i=0;break;case 14:m.isVisible()&&(r=dv(m,v,s.g));m.g[m.h]=cv();m.i=0;break;case 12:m.isVisible()&&(r=dv(m,v,s.g)),fv(m),s=m,s.h=0,s.i=0}var p=r}else p=null}else if(128<=c&&159>=c)p=bv(r,s,c,l);else{if(4096<=c&&4127>=c)r=s,s=c&255,8<=s&&15>=s?r.jc(1):16<=s&&23>=s?r.jc(2):24<=s&&31>=s&&r.jc(3);else if(4224<=c&&4255>=c)r=s,s=c&255,128<=s&&135>=s?r.jc(4):136<=s&&143>=s&&r.jc(5);else if(32<=c&&127>=c)s=c,r.i&&(127===s?lv(r.i,"♪"):lv(r.i,String.fromCharCode(s)));else if(160<=c&&255>=c)r.i&&lv(r.i,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(s=c&255,r.i)if(Av.has(s)){var w=Av.get(s);lv(r.i,w)}else lv(r.i,"_")}else 4256<=c&&4351>=c&&r.i&&(160!=(c&255)?lv(r.i,"_"):lv(r.i,"[CC]"));p=null}(r=p)&&e.push(r)}}}}catch(g){if(g instanceof vt&&3e3===g.code)yn("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw g}return e}function Rv(n){for(var t=0;n;)t^=n&1,n>>=1;return 1===t}Mv.prototype.en=function(){return Array.from(this.p)};t("shaka.cea.CeaDecoder",Mv);$n=function(){return new Mv};function Dv(n){for(var t=[],e=n,i=n=0;i<e.length;)2==n&&3==e[i]?(n=0,e=[].concat(ht(e)),e.splice(i,1),e=new Uint8Array(e)):0==e[i]?n++:n=0,i++;n=e;for(i=0;i<n.length;){for(e=0;255==n[i];)e+=255,i++;e+=n[i++];for(var r=0;255==n[i];)r+=255,i++;r+=n[i++];4==e&&t.push(n.subarray(i,i+r));i+=r}return t}function Cv(){this.v=new Map;this.g=this.h=0;this.i=Lv}Cv.prototype.init=function(n){function t(n){n=n.name;n in Fv&&(e.i=Fv[n])}var e=this,i=[],r=[];(new ba).ul("moov",k).ul("mvex",k).al("trex",function(n){var t=n.cl;t.jc(4);t.jc(4);n=t.Fc();t=t.Fc();e.h=n;e.g=t}).ul("trak",k).al("tkhd",function(n){var t=n.cl;n=n.version;1==n?(t.jc(8),t.jc(8)):(t.jc(4),t.jc(4));var e=t.Fc();1==n?t.jc(8):t.jc(4);t.jc(4);t.jc(8);t.jc(2);t.jc(2);t.jc(2);t.jc(2);t.jc(36);t.Uc();t.Uc();t.Uc();t.Uc();i.push(e)}).ul("mdia",k).al("mdhd",function(n){n=Zo(n.cl,n.version);r.push(n.Xh)}).ul("minf",k).ul("stbl",k).al("stsd",ya).ul("avc1",t).ul("avc3",t).ul("dvav",t).ul("dva1",t).ul("hev1",t).ul("hvc1",t).ul("dvh1",t).ul("dvhe",t).ul("vvc1",t).ul("vvi1",t).ul("dvc1",t).ul("dvi1",t).ul("encv",Ta).ul("sinf",k).ul("frma",function(n){n=es(n.cl).J0;n in Fv&&(e.i=Fv[n])}).parse(n,!0);if(!i.length||!r.length||i.length!=r.length)throw new vt(2,2,2010);this.i==Lv&&M("Unable to determine bitstream format for CEA parsing!");i.forEach(function(n,t){e.v.set(n,r[t])})};Cv.prototype.parse=function(n){var u=this;if(this.i==Lv)return[];var a=[],o=0,s=[];(new ba).ul("moof",function(n){o=n.start;s=[];k(n)}).ul("traf",function(n){s.push({q0:null,j0:u.h,V0:u.g,VA:[],Xh:9e4});k(n)}).al("trun",function(n){var t=s[s.length-1];n=ns(n.cl,n.version,n.flags);t.VA.push(n)}).al("tfhd",function(n){var t=s[s.length-1];n=Qo(n.cl,n.flags);t.j0=n.j0||u.h;t.V0=n.V0||u.g;n=n.H0;u.v.has(n)&&(t.Xh=u.v.get(n))}).al("tfdt",function(n){var t=s[s.length-1];n=Jo(n.cl,n.version);t.q0=n.q0}).ul("mdat",function(n){for(var t=o-n.start-8,e=n.cl.Lc(),i=lt(s),r=i.next();!r.done;r=i.next()){r=r.value;if(null===r.q0)throw M("Unable to find base media decode time for CEA captions!"),new vt(2,2,2010);n.cl.Gc(e);_v(u,n.cl,r.q0,r.Xh,r.j0,r.V0,t,r.VA,a)}}).parse(n,!1);return a};function _v(n,t,e,i,r,u,a,o,s){var f=0,c=u,l=o.map(function(n){return n.$0});l=[].concat.apply([],ht(l));l.length&&(c=l[0].W0||u);for(t.jc(a+o[0].Q0);t._c();){a=t.Fc();var h=t.xc(),d=null;d=!1;o=1;switch(n.i){case Ov:d=h&31;d=6==d;break;case xv:o=2;t.jc(1);d=h>>1&63;d=39==d||40==d;break;case Uv:o=2;t.jc(1);d=h>>1&63;d=23==d||24==d;break;default:return}if(d)for(h=0,f<l.length&&(h=l[f].z0||0),h=(e+h)/i,o=lt(Dv(t.Hc(a-o))),d=o.next();!d.done;d=o.next())s.push({fn:d.value,cn:h});else try{t.jc(a-o)}catch(v){break}c-=a+4;0==c&&(e=f<l.length?e+(l[f].K0||r):e+r,f++,f<l.length?c=l[f].W0||u:c=u)}}t("shaka.cea.Mp4CeaParser",Cv);var Lv=0,Ov=1,xv=2,Uv=3,Fv={GA:Ov,qA:Ov,Ka:Ov,Wa:Ov,KA:xv,WA:xv,Ya:xv,za:xv,zA:Uv,YA:Uv,$a:Uv,Qa:Uv};Yn["$A"]=function(){return new Cv};function Bv(){this.i=null}Bv.prototype.init=function(){};Bv.prototype.parse=function(n){this.i?this.i.clearData():this.i=new vs;var t=[];n=dt(n);if(!ys(n))return t;n=this.i.parse(n);var e=n.vd(),i=n.md();n=[];switch(e.Gu){case"avc":n.push(6);break;case"hvc":n.push(39),n.push(40)}if(!n.length)return t;e=lt(i);for(i=e.next();!i.done;i=e.next())if(i=i.value,n.includes(i.type)&&null!=i.time)for(var r=lt(Dv(i.data)),u=r.next();!u.done;u=r.next())t.push({fn:u.value,cn:i.time});return t};t("shaka.cea.TsCeaParser",Bv);Yn["QA"]=function(){return new Bv};function Xv(n,t,e){var i=Kv(n),r=null;n=[];var u=[],a=null,o=new Set(i.map(function(n){return n.Ni}));o["delete"](null);var s="cenc";if(1<o.size)throw new vt(2,4,4010);if(!t){u=i.filter(function(n){return"urn:mpeg:dash:sea:2012"==n.JA});if(1<u.length)throw new vt(2,4,4050);u.length&&(a=zv(u[0]));(u=i.find(function(n){return"urn:mpeg:dash:mp4protection:2011"==n.JA}))&&u.Du&&(s=u.Du);u=i.filter(function(n){return"urn:mpeg:dash:mp4protection:2011"==n.JA?(r=n.init||r,!1):"urn:mpeg:dash:sea:2012"!=n.JA});u.length&&(n=qv(r,s,u,e,o),0==n.length&&(n=[Hi("",s,r)]))}if(i.length&&!a&&(t||!u.length))for(n=[],t=lt(Object.values(e)),e=t.next();!e.done;e=t.next())e=e.value,"org.w3.clearkey"!=e&&n.push(Hi(e,s,r));if(o=Array.from(o)[0]||null)for(s=lt(n),t=s.next();!t.done;t=s.next())for(t=lt(t.value.initData),e=t.next();!e.done;e=t.next())e.value.Ni=o;return{ZA:o,nk:r,vo:n,tk:a,ek:!0}}function Hv(n,t,e,i){var r=Xv(n,e,i);if(t.ek){n=1==t.vo.length&&!t.vo[0].keySystem;e=0==r.vo.length;if(0==t.vo.length||n&&!e)t.vo=r.vo;t.ek=!1}else if(0<r.vo.length&&(t.vo=t.vo.filter(function(t){return r.vo.some(function(n){return n.keySystem==t.keySystem})}),0==t.vo.length))throw new vt(2,4,4008);return r.ZA||t.ZA}function jv(n){var t=0,e=qn(n),i=e.getUint32(t,!0);if(i!=n.byteLength)return[];n:{n=t+6;for(t=[];n<e.byteLength-1;){i=e.getUint16(n,!0);n+=2;var r=e.getUint16(n,!0);n+=2;if(0!=(r&1)||r+n>e.byteLength){e=[];break n}var u=dt(e,n,r);t.push({type:i,value:u});n+=r}e=t}return e}function Vv(n){n=lt(he(n,"DATA"));for(var t=n.next();!t.done;t=n.next())if(t=t.value,t.children){t=lt(t.children);for(var e=t.next();!e.done;e=t.next())if(e=e.value,"LA_URL"==e.tagName)return ce(e)}return""}function Gv(n){var t=ve(n.node,"https://dashif.org/CPS","Laurl");if(t&&(t=ce(t)))return t;n=ve(n.node,"urn:microsoft:playready","pro");if(!n||!ce(n))return"";n=ce(n);n=xi(n);n=jv(n).filter(function(n){return n.type===Yv})[0];if(!n)return"";n=Ht(n.value,!0);return(n=ue(n,"WRMHEADER"))?Vv(n):""}function qv(n,t,e,i,r){var u=[];e=lt(e);for(var a=e.next();!a.done;a=e.next()){a=a.value;var o=i[a.JA];if(o){var s;if((s=ve(a.node,"urn:microsoft:playready","pro"))&&ce(s)){s=ce(s);s=xi(s);var f=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);s=[{initData:Ra(s,f,new Set,0),initDataType:"cenc",Ni:a.Ni}]}else s=null;f=null;if("urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===a.JA){f=a;var c=r;if(0==c.size)f=null;else{var l=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),h=new Uint8Array([]);f=[{initData:Ra(h,l,c,1),initDataType:"cenc",Ni:f.Ni}]}}s=Hi(o,t,a.init||n||s||f);if(o=$v.get(o))s.Ri=o(a);u.push(s)}}return u}function Kv(n){var t=[];n=lt(n);for(var e=n.next();!e.done;e=n.next())(e=Wv(e.value))&&t.push(e);return t}function Wv(n){var t=n.attributes.Jd,e=me(n,"urn:mpeg:cenc:2013","default_KID"),i=pe(n,"urn:mpeg:cenc:2013","pssh").map(le),r=n.attributes.value;if(!t)return null;t=t.toLowerCase();if(e&&(e=e.replace(/-/g,"").toLowerCase(),e.includes(" ")))throw new vt(2,4,4009);var u=[];try{u=i.map(function(n){return{initDataType:"cenc",initData:xi(n),Ni:null}})}catch(a){throw new vt(2,4,4007)}return{node:n,JA:t,Ni:e,init:0<u.length?u:null,Du:r}}function zv(n){if(!L.crypto||!L.crypto.subtle)throw M("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new vt(2,4,4042);var t=ve(n.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new vt(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=t.attributes.Jd)throw new vt(2,4,4051);t=ve(n.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod");if(!t)throw new vt(2,4,4051);n=t.attributes.IV;t=Kt(t.attributes.keyUriTemplate);if(!n||!t)throw new vt(2,4,4051);n=Ui(n.substr(2));if(16!=n.byteLength)throw new vt(2,4,4048);return{ik:t,_m:n}}var Yv=1,$v=(new Map).set("com.apple.fps",function(n){if(Ot())throw new vt(2,4,4054);if(n=ve(n.node,"https://dashif.org/CPS","Laurl"))if(n=ce(n))return n;return""}).set("com.widevine.alpha",function(n){var t=ve(n.node,"https://dashif.org/CPS","Laurl");return t&&(t=ce(t))?t:(n=ve(n.node,"urn:microsoft","laurl"))?Kt(n.attributes.licenseUrl)||"":""}).set("com.microsoft.playready",Gv).set("com.microsoft.playready.recommendation",Gv).set("com.microsoft.playready.software",Gv).set("com.microsoft.playready.hardware",Gv).set("org.w3.clearkey",function(n){var t=ve(n.node,"https://dashif.org/CPS","Laurl");return t&&(t=ce(t))?t:(n=ve(n.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===n.attributes.Lic_type&&n&&(n=ce(n))?n:""});function Qv(n,t,e,i,r,u){var a={rk:t,Number:e,uk:i,ak:r,sk:u};return n.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(n,t,e,i){if("$$"==n)return"$";var r=a[t];if(null==r)return n;"RepresentationID"==t&&e&&(e=void 0);"Time"==t&&"bigint"!=typeof r&&(.2<=Math.abs(r-Math.round(r))&&M("Calculated $Time$ values must be close to integers"),r=Math.round(r));switch(i){case void 0:case"d":case"i":case"u":n=r.toString();break;case"o":n=r.toString(8);break;case"x":n=r.toString(16);break;case"X":n=r.toString(16).toUpperCase();break;default:n=r.toString()}e=L.parseInt(e,10)||1;return Array(Math.max(0,e-n.length)+1).join("0")+n})}function Jv(n,t){var e=nm(n,t,"timescale"),i=1;e&&(i=Ee(e)||1);e=nm(n,t,"duration");(e=Ee(e||""))&&(e/=i);var r=nm(n,t,"startNumber"),u=Number(nm(n,t,"presentationTimeOffset"))||0,a=Se(r||"");if(null==r||null==a)a=1;r=null;if(t=tm(n,t,"SegmentTimeline")){t=fn(t,"S");r=i;n=n.fk.duration||Infinity;for(var o=a,s=[],f=-u,c=0;c<t.length;++c){var l=t[c],h=t[c+1],d=cn(l,"t",Se),v=cn(l,"d",Se),m=cn(l,"r",Te);l=cn(l,"k",Te)||0;null!=d&&(d-=u);if(v){d=null!=d?d:f;m=m||0;if(0>m)if(h){h=cn(h,"t",Se);if(null==h)break;else if(d>=h)break;m=Math.ceil((h-d)/v)-1}else{if(Infinity==n)break;else if(d/r>=n)break;m=Math.ceil((n*r-d)/v)-1}0<s.length&&d!=f&&(s[s.length-1].end=d/r);for(h=0;h<=m;++h)f=d+v,s.push({start:d/r,end:f/r,ck:d,lk:l,hk:s.length+o}),d=f}}r=s}return{Xh:i,dk:e,vk:a,mk:u/i||0,pk:u,timeline:r}}function Zv(n,t){return[t(n.wk),t(n.gk),t(n.bk)].filter(br)}function nm(n,t,e){t=Zv(n,t);n=null;t=lt(t);for(var i=t.next();!i.done&&!(n=i.value.attributes[e]);i=t.next());return n}function tm(n,t,e){t=Zv(n,t);n=null;t=lt(t);for(var i=t.next();!i.done&&!(n=de(i.value,e));i=t.next());return n}function em(i,r,u,n,a,o){for(var s=me(i,"http://www.w3.org/1999/xlink","href"),t=me(i,"http://www.w3.org/1999/xlink","actuate")||"onRequest",e=lt(Object.keys(i.attributes)),f=e.next();!f.done;f=e.next()){f=f.value;var c=f.split(":"),l=ae("http://www.w3.org/1999/xlink");c[0]==l&&delete i.attributes[f]}if(5<=o)return Xu(new vt(2,4,4028));if("onLoad"!=t)return Xu(new vt(2,4,4027));var h=Xi([n],[s]);return a.request(0,na(h,r)).Ds(function(n){n=re(n.data,i.tagName);if(!n)return Xu(new vt(2,4,4001,s));for(i.children=[];n.children.length;){var t=n.children.shift();i.children.push(t)}t=lt(Object.keys(n.attributes));for(var e=t.next();!e.done;e=t.next())e=e.value,i.attributes[e]=n.attributes[e];return im(i,r,u,h[0],a,o+1)})}function im(n,t,e,i,r,u){u=void 0===u?0:u;if(me(n,"http://www.w3.org/1999/xlink","href")){var a=em(n,t,e,i,r,u);e&&(a=a.Ds(void 0,function(){return im(n,t,e,i,r,u)}));return a}a=[];for(var o=lt(fe(n)),s=o.next(),f={};!s.done;f={yk:void 0},s=o.next())f.yk=s.value,"urn:mpeg:dash:resolve-to-zero:2013"==me(f.yk,"http://www.w3.org/1999/xlink","href")?n.children=n.children.filter(function(t){return function(n){return n!==t.yk}}(f)):"SegmentTimeline"!=f.yk.tagName&&a.push(im(f.yk,t,e,i,r,u));return Gu(a).Ds(function(){return n})}function rm(n,t,e,i,r,u,a){var o,s=(new ba).al("sidx",function(n){o=um(t,i,r,u,a,e,n)});n&&s.parse(n);if(o)return o;throw new vt(2,3,3004)}function um(n,t,e,i,r,u,a){var o=[];a.cl.jc(4);var s=a.cl.Fc();if(0==s)throw new vt(2,3,3005);if(0==a.version){var f=a.cl.Fc();var c=a.cl.Fc()}else f=a.cl.Xc(),c=a.cl.Xc();a.cl.jc(2);var l=a.cl.Uc();n=n+a.size+c;for(c=0;c<l;c++){var h=a.cl.Fc(),d=(h&2147483648)>>>31;h&=2147483647;var v=a.cl.Fc();a.cl.jc(4);if(1==d)throw new vt(2,3,3006);o.push(new O(f/s+e,(f+v)/s+e,function(){return u},n,n+h-1,t,e,i,r));f+=v;n+=h}a.sl.stop();return o}function am(n){this.h=qn(n);this.i=new pa(this.h,0)}am.prototype._c=function(){return this.i._c()};function om(n){var t=sm(n);if(7<t.length)throw new vt(2,3,3002);var e=0;t=lt(t);for(var i=t.next();!i.done;i=t.next())e=256*e+i.value;t=sm(n);n:{i=lt(fm);for(var r=i.next();!r.done;r=i.next())if(jn(t,new Uint8Array(r.value))){i=!0;break n}i=!1}if(i)t=n.h.byteLength-n.i.Lc();else{if(8==t.length&&t[1]&224)throw new vt(2,3,3001);for(r=i=0;r<t.length;r++){var u=t[r];i=0==r?u&(1<<8-t.length)-1:256*i+u}t=i}t=n.i.Lc()+t<=n.h.byteLength?t:n.h.byteLength-n.i.Lc();i=qn(n.h,n.i.Lc(),t);n.i.jc(t);return new cm(e,i)}function sm(n){var t=n.i.Lc(),e=n.i.xc();if(0==e)throw new vt(2,3,3002);e=8-Math.floor(Math.log2(e));n.i.jc(e-1);return dt(n.h,t,e)}var fm=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function cm(n,t){this.id=n;this.i=t}function lm(n){if(8<n.i.byteLength)throw new vt(2,3,3002);if(8==n.i.byteLength&&n.i.getUint8(0)&224)throw new vt(2,3,3001);for(var t=0,e=0;e<n.i.byteLength;e++){var i=n.i.getUint8(e);t=256*t+i}return t}function hm(n,t,e,i,r,u,a,o,s){function f(){return r}var c=[];n=new am(n.i);for(var l=null,h=null;n._c();){var d=om(n);if(187==d.id){var v=dm(d);v&&(d=e*v.Tk,v=t+v.Ek,null!=l&&c.push(new O(l+a,d+a,f,h,v-1,u,a,o,s)),l=d,h=v)}}null!=l&&c.push(new O(l+a,i+a,f,h,null,u,a,o,s));return c}function dm(n){var t=new am(n.i);n=om(t);if(179!=n.id)throw new vt(2,3,3013);n=lm(n);t=om(t);if(183!=t.id)throw new vt(2,3,3012);t=new am(t.i);for(var e=0;t._c();){var i=om(t);if(241==i.id){e=lm(i);break}}return{Tk:n,Ek:e}}function vm(n,t,e){t=tm(n,t,"Initialization");if(!t)return null;var i=n.wk.Sk(),r=t.attributes.sourceURL;r&&(i=Xi(i,[Kt(r)],n.Ak()));r=0;var u=null;if(t=cn(t,"range",ye))r=t.start,u=t.end;e=new Ro(function(){return i},r,u,Tm(n),null,null,e);e.va=n.wk.va;e.mimeType=n.wk.mimeType;return e}function mm(n,e,t){var i=Number(nm(n,wm,"presentationTimeOffset"))||0,r=nm(n,wm,"timescale"),u=1;r&&(u=Ee(r)||1);var a=i/u||0,o=vm(n,wm,t);bm(n,o);var s=ee(n);return{pc:function(){var n=tm(s,wm,"RepresentationIndex");var t=s.wk.Sk();n&&(n=Kt(n.attributes.sourceURL))&&(t=Xi(t,[n],s.Ak()));n=gm(s);return pm(s,e,o,t,n.start,n.end,a)}}}function pm(o,s,f,c,l,h,d){var v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D;return sn(function(n){if(1==n.i)return v=o.xv,m=!o.kk||!o.fk.Mk,p=o.fk.start,w=o.fk.duration,g=o.wk.mimeType.split("/")[1],b=s,y=null,T=[b(c,l,h,!1),"webm"==g?b(f.xh(),f.Uh,f.Fh,!0):null],b=null,an(n,Promise.all(T),2);E=n.h;S=E[0];A=E[1]||null;k=null;M=p-d;I=p;N=w?p+w:Infinity;if("mp4"==g)var t=rm(S,l,c,f,M,I,N);else{t=S;var e=new am(A);if(440786851!=om(e).id)throw new vt(2,3,3008);var i=om(e);if(408125543!=i.id)throw new vt(2,3,3009);e=i.i.byteOffset;i=new am(i.i);for(var r=null;i._c();){var u=om(i);if(357149030==u.id){r=u;break}}if(!r)throw new vt(2,3,3010);r=new am(r.i);u=1e6;for(i=null;r._c();){var a=om(r);if(2807729==a.id)u=lm(a);else if(17545==a.id)if(4==a.i.byteLength)i=a.i.getFloat32(0);else if(8==a.i.byteLength)i=a.i.getFloat64(0);else throw new vt(2,3,3003)}if(null==i)throw new vt(2,3,3011);r=u/1e9;i*=r;t=om(new am(t));if(475249515!=t.id)throw new vt(2,3,3007);t=hm(t,e,r,i,c,f,M,I,N)}k=t;P=lt(k);for(R=P.next();!R.done;R=P.next())D=R.value,D.va=o.wk.va,D.mimeType=o.wk.mimeType,D.ga=o.ga;v.P1(k);y=new Y(k);m&&y.Qv(I,N,!0);return n.A(y)})}function wm(n){return n.Ik}function gm(n){var t=tm(n,wm,"RepresentationIndex");n=nm(n,wm,"indexRange");n=ye(n||"");t&&(n=cn(t,"range",ye,n));return n}function bm(n,t){ym(n,t);if(!gm(n))throw new vt(2,4,4002)}function ym(n,t){var e=n.wk.mimeType.split("/")[1];if(n.wk.contentType!=z&&"mp4"!=e&&"webm"!=e)throw new vt(2,4,4006);if("webm"==e&&!t)throw new vt(2,4,4005)}function Tm(n){var t=n.wk;return{ga:n.ga,ya:t.ya,va:t.va,contentType:t.contentType,La:t.La||null,height:t.height||null,mimeType:t.mimeType,ba:t.Nk,To:t.To||null,width:t.width||null,label:n.gk.label||null,Ta:n.Ta||null,language:n.gk.language||null}}function Em(n,t,e){var i=vm(n,Sm,e),r=Am(n);if(!r.dk&&!r.timeline&&1<r.Pk.length)throw new vt(2,4,4002);if(!r.dk&&!n.fk.duration&&!r.timeline&&1==r.Pk.length)throw new vt(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new vt(2,4,4002);var u=null,a=null;n.bk.id&&n.wk.id&&(a=t[n.bk.id+","+n.wk.id])&&(u=a.jo);var o=km(n.fk.start,n.fk.duration,n.wk.Sk,r,i,e,n.wk.mimeType,n.wk.va,n.ga,n.Ak);t=!u;u?u.Yv(o,n.xv.X1()):u=new Y(o);n.xv.P1(o);n.kk&&n.fk.Mk||u.Qv(n.fk.start,n.fk.duration?n.fk.start+n.fk.duration:Infinity,t);a&&(a.jo=u);return{pc:function(){u&&0!=u.Bd()||u.zv(o);return Promise.resolve(u)}}}function Sm(n){return n.Rk}function Am(n){var t=Mm(n);n=Jv(n,Sm);var e=n.vk;0==e&&(e=1);var i=0;n.dk?i=n.dk*(e-1):n.timeline&&0<n.timeline.length&&(i=n.timeline[0].start);return{dk:n.dk,startTime:i,vk:e,mk:n.mk,timeline:n.timeline,Pk:t}}function km(n,t,e,i,r,u,a,o,s,f){var c=i.Pk.length;i.timeline&&i.timeline.length!=i.Pk.length&&(c=Math.min(i.timeline.length,i.Pk.length));for(var l=n-i.mk,h=t?n+t:Infinity,d=[],v=i.startTime,m={},p=0;p<c;m={Dk:void 0,Ck:void 0},p++){m.Ck=i.Pk[p];var w=v;v=void 0;v=null!=i.dk?w+i.dk:i.timeline?i.timeline[p].end:w+t;m.Dk=null;m=new O(n+w,n+v,function(n){return function(){null==n.Dk&&(n.Dk=Xi(e(),[n.Ck._k],f()));return n.Dk}}(m),m.Ck.start,m.Ck.end,r,l,n,h,[],"",null,null,_o,u);m.va=o;m.mimeType=a;m.ga=s;d.push(m)}return d}function Mm(e){return[e.wk.Rk,e.gk.Rk,e.bk.Rk].filter(br).map(function(n){return fn(n,"SegmentURL")}).reduce(function(n,t){return 0<n.length?n:t}).map(function(n){n.attributes.indexRange&&!e.Lk&&(e.Lk=!0);var t=Kt(n.attributes.media);n=cn(n,"mediaRange",ye,{start:0,end:null});return{_k:t,start:n.start,end:n.end}})}function Im(n,t,e,i,r,u,a,o,s){s||n.wk.Ok||(n.wk.Ok=nm(n,Nm,"initialization"));var f=n.wk.Ok?Cm(n,a):null,c=Pm(n);Rm(c);var l=ee(n);if(c.xk)return ym(n,f),{pc:function(){var n=Qv(c.xk,l.wk.id,null,null,l.ga||null,null);n=Xi(l.wk.Sk(),[n]);return pm(l,t,f,n,0,null,c.mk)}};if(c.dk)return i||"image"===n.gk.contentType||"text"===n.gk.contentType||(e=n.fk.start,i=n.bk.id,s=n.fk.duration,i=(i=null!=i&&u[i]||s)?e+i:Infinity,n.xv.F1(c.dk),n.xv.R1(e,i)),{pc:function(){return Dm(l,c,r,f,u,a,o,n.wk.Uk)}};var h=null;i=i=null;n.bk.id&&n.wk.id&&(i=n.bk.id+","+n.wk.id,i=e[i])&&(h=i.jo);var d=n.fk.start,v=n.fk.duration?d+n.fk.duration:Infinity,m=!(n.kk&&n.fk.Mk);h?(e=h,Lm(e,c,d,v,m,f),e.$v(n.xv.X1())):h=new _m(c,n.wk.id,n.ga,n.wk.Sk,n.Ak,d,v,f,m,a,n.wk.Uk);c.timeline&&"image"!==n.gk.contentType&&"text"!==n.gk.contentType&&n.xv.I1(c.timeline,d);i&&n.kk&&(i.jo=h);return{pc:function(){h instanceof _m&&0==h.Bd()&&Lm(h,c,d,v,m,f);return Promise.resolve(h)}}}function Nm(n){return n.Fk}function Pm(n){var t=Jv(n,Nm),e=nm(n,Nm,"media"),i=nm(n,Nm,"index"),r=nm(n,Nm,"k"),u=0;r&&(u=parseInt(r,10));return{dk:t.dk,Xh:t.Xh,vk:t.vk,mk:t.mk,pk:t.pk,timeline:t.timeline,Bk:e&&Kt(e),xk:i,mimeType:n.wk.mimeType,va:n.wk.va,ga:n.ga,Xk:u}}function Rm(n){var t=n.xk?1:0;t+=n.timeline?1:0;t+=n.dk?1:0;if(0==t)throw new vt(2,4,4002);1!=t&&(n.xk&&(n.timeline=null),n.dk=null);if(!n.xk&&!n.Bk)throw new vt(2,4,4002)}function Dm(h,d,n,v,t,m,e,p){function r(e){var n=(e-y)*b,i=n+d.mk,t=n+g;n=t+b;var r=Math.min(n,w()),u=[],a=d.Xk;if(a)for(var o=(r-t)/a,s={},f=0;f<a;s={Hk:void 0},f++){var c=t+o*f,l=c+o;s.Hk=f+1;s=new O(c,l,function(t){return function(){var n=i*T;"BigInt"in L&&n>Number.MAX_SAFE_INTEGER&&(n=BigInt(i)*BigInt(T));n=Qv(E,A,e,t.Hk,S,n);return Xi(k(),[n],M())}}(s),0,null,v,I,g,w(),[],"",null,null,_o,m);s.va=h.wk.va;s.mimeType=h.wk.mimeType;0==p?0<f&&s.i0():0!=f%p&&s.i0();u.push(s)}t=new O(t,r,function(){if(a)return[];var n=i*T;"BigInt"in L&&n>Number.MAX_SAFE_INTEGER&&(n=BigInt(i)*BigInt(T));n=Qv(E,A,e,null,S,n);return Xi(k(),[n],M())},0,null,v,I,g,w(),u,"",null,null,_o,m,0<u.length);t.va=h.wk.va;t.mimeType=h.wk.mimeType;t.ga=h.ga;t.v=n;return t}function u(){var n=[Math.max(a.X1(),g),Math.min(a.H1(),w())].map(function(n){return n-g});n=[Math.ceil(n[0]/b),Math.ceil(n[1]/b)-1];h.wk.jk&&n[1]++;return n.map(function(n){return n+y})}function w(){var n=null!=i&&t[i]||o;return n?g+n:Infinity}var a=h.xv,g=h.fk.start,i=h.bk.id,o=h.fk.duration,b=d.dk,y=d.vk,T=d.Xh,E=d.Bk,S=h.ga||null,A=h.wk.id,k=h.wk.Sk,M=h.Ak,I=g-d.mk,s=u();n=h.kk?Math.max(s[0],s[1]-n+1):s[0];e=e||s[1];s=[];for(var f=n;f<=e;++f){var c=r(f);s.push(c)}var l=new Y(s);s=a.H1()<w();f=a.D1();if(s||f){var N=Math.max(n,e+1);n=b;h.wk.jk&&(n=.1);l.Jv(n,function(){var n=a.X1();l.$v(n);var t=lt(u());t.next();t=t.next().value;for(var e=[];N<=t;){var i=r(N);e.push(i);N++}return n>w()&&!e.length?null:e})}return Promise.resolve(l)}function Cm(n,t){var e=n.wk.Ok;e||(e=nm(n,Nm,"initialization"));if(!e)return null;e=Kt(e);var i=n.wk.id,r=n.ga||null,u=n.wk.Sk,a=n.Ak;t=new Ro(function(){var n=Qv(e,i,null,null,r,null);return Xi(u(),[n],a())},0,null,Tm(n),null,null,t);t.va=n.wk.va;t.mimeType=n.wk.mimeType;return t}function _m(n,t,e,i,r,u,a,o,s,f,c){Y.call(this,[]);this.h=n;this.I=t;this.C=e;this.P=i;this.N=r;this.v=u;this.l=a;this.s=o;this.p=f;this.D=c;s&&xm(this)}N(_m,Y);n=_m.prototype;n.Bd=function(){return this.h?this.h.timeline.length:0};n.release=function(){Y.prototype.release.call(this);this.h=null};n.$v=function(n){if(this.h){for(var t=0,e=this.h.timeline,i=0;i<e.length;i+=1)if(e[i].end+this.v<=n)t+=1;else break;0<t&&(this.h.timeline=e.slice(t),this.i.length>=t&&(this.i=this.i.slice(t)),this.g+=t,0===this.Bd()&&this.release())}};function Lm(n,t,e,i,r,u){Om(n,u);if(n.h){e=n.h.timeline;n.h.Bk!==t.Bk&&(n.h.Bk=t.Bk);if(e.length){var a=e[e.length-1];t=t.timeline.filter(function(n){return n.end>a.end})}else t=t.timeline.slice();0<t.length&&n.h.timeline.push.apply(n.h.timeline,ht(t));n.l!==i&&(n.l=i)}else n.h=t,n.v=e,n.l=i;r&&xm(n)}function Om(n,t){if(n.s!==t){n.s=t;n=lt(n.i);for(var e=n.next();!e.done;e=n.next())(e=e.value)&&Co(e,t)}}function xm(n){if(!n.o){for(var t=n.h.timeline;t.length;)if(t[t.length-1].start>=n.l)t.pop();else break;n.$v(n.v)}}n.find=function(n){if(this.h&&this.h.timeline&&this.h.timeline.length&&n<this.h.timeline[0].start+this.v)return this.g;if(!this.h)return null;var t=this.h.timeline;if(n<this.v||n>=this.l)return null;for(var e=t.length-1,i=0;i<t.length;i++){var r=t[i],u=r.start+this.v;r=i<e?t[i+1].start+this.v:Infinity===this.l?r.end+this.v:this.l;if(n>=u&&n<r)return i+this.g}return null};n.get=function(n){var t=this;n-=this.g;if(0>n||n>=this.Bd()||!this.h)return null;var e=this.i[n];if(!e){var i=this.h.timeline[n],r=i.hk,u=this.h.pk+i.ck;e=this.v-this.h.mk;var a=this.v+i.end,o=a;n===this.Bd()-1&&Infinity!==this.l&&(o=this.l);for(var s=this.h.va,f=this.h.mimeType,c=this.h.ga,l=[],h=(i.end-i.start)/i.lk,d={},v=0;v<i.lk;d={Vk:void 0,Gk:void 0},v++){var m=i.start+h*v,p=m+h;d.Gk=v+1;d.Vk=null;d=new O(this.v+m,this.v+p,function(n){return function(){if(!t.h)return[];null==n.Vk&&(n.Vk=Um(t.h.Bk,t.I,r,t.C,u,n.Gk,t.P,t.N));return n.Vk}}(d),0,null,this.s,e,this.v,this.l,[],"",null,null,_o,this.p);d.va=s;d.mimeType=f;d.ga=c;0==this.D?0<v&&d.i0():0!=v%this.D&&d.i0();l.push(d)}e=new O(this.v+i.start,o,function(){return 0<i.lk||!t.h?[]:Um(t.h.Bk,t.I,r,t.C,u,null,t.P,t.N)},0,null,this.s,e,this.v,this.l,l,"",null,null,_o,this.p,0<i.lk);e.va=s;e.mimeType=f;e.v=a;e.ga=c;this.i[n]=e}return e};n.Wv=function(n){xm(this);for(var t=0;t<this.Bd();t++){var e=this.get(t+this.g);e&&n(e)}};function Um(n,t,e,i,r,u,a,o){n=Qv(n,t,e,u,i||null,r);return Xi(a(),[n],o()).map(function(n){return n.toString()})}function Fm(n){this.o=null;this.p=n;this.D=new Yu;this.g=[];this.h=null;this.m=[];this.C=null;this.I=[];this.P=300;this.l=new Map;this.v=new Map;this.i=null;this.s="UNKNOWN"}Fm.prototype.B=function(n){this.o=n};Fm.prototype.su=function(){this.p=this.o=null;this.g=[];this.h=null;this.m=[];this.I=[];this.l.clear();null!=this.i&&(this.i.stop(),this.i=null);return this.D.su()};Fm.prototype.Kd=function(n){this.s=n};function Bm(t,e){var i,r,u,a,o,s,f;return sn(function(n){if(1==n.i)return i=Xi(t.g,[Xm(t,e)]),r=na(i,t.o.Uf),u=t.p.yg.request(8,r),$u(t.D,u),q(n,2),an(n,u.promise,4);if(2!=n.i)return a=n.h,o=Xt(a.data),s=JSON.parse(o),1==s.VERSION&&Hm(t,s,a.uri),K(n,0);if((f=W(n))&&7001==f.code)return n.A();null!=t.i&&(t.i.stop(),t.i=null);t.i=new S(function(){Bm(t,e)});t.i.Ui(t.P);on(n)})}function Xm(n,t){if(!n.m.length)return t;t=new wi(t);var e=n.C||n.m[0],i=Math.round(n.p.G()),r=t.i;"DASH"==n.s?(r.add("_DASH_pathway",e),r.add("_DASH_throughput",String(i))):"HLS"==n.s&&(r.add("_HLS_pathway",e),r.add("_HLS_throughput",String(i)));Ci(r)&&Ti(t,r);return t.toString()}function Hm(n,t,e){null!=n.i&&(n.i.stop(),n.i=null);var i=t["RELOAD-URI"]||e;n.i=new S(function(){Bm(n,i)});if(e=t.TTL)n.P=e;n.i.Ui(n.P);n.m=t["PATHWAY-PRIORITY"]||[];n.I=t["PATHWAY-CLONES"]||[]}function jm(n,t,e,i){var r=n.l.get(t);r||(r=new Map);r.set(e,i);n.l.set(t,r)}Fm.prototype.s4=function(n){this.v.set(n,Date.now()+6e4)};function Vm(i,n,t){t=void 0===t?!1:t;n=i.l.get(n)||new Map;for(var e=[],r=lt(i.m),u=r.next(),a={};!u.done;a={qk:void 0},u=r.next())if(a.qk=u.value,u=n.get(a.qk))e.push({Kk:a.qk,location:u});else if(u=i.I.find(function(t){return function(n){return n.Ej==t.qk}}(a))){var o=n.get(u["BASE-ID"]);o&&(u["URI-REPLACEMENT"].xh?(o=new wi(o),bi(o,u["URI-REPLACEMENT"].xh),e.push({Kk:a.qk,location:o.toString()})):e.push({Kk:a.qk,location:o}))}r=Date.now();a=lt(i.v.keys());for(u=a.next();!u.done;u=a.next())u=u.value,o=i.v.get(u),r>o&&i.v["delete"](u);e=e.filter(function(n){for(var t=lt(i.v.keys()),e=t.next();!e.done;e=t.next())if(e.value.includes(new wi(n.location).yu))return!1;return!0});e.length&&(i.C=e[0].Kk);e=e.map(function(n){return n.location});if(!e.length&&i.h)for(r=lt(i.h.split(",")),a=r.next();!a.done;a=r.next())if(a=n.get(a.value))i.C=i.h,e.push(a);if(!e.length)for(n=lt(n.values()),r=n.next();!r.done;r=n.next())e.push(r.value);return t?e:Xi(i.g,e)}function Gm(){this.l=[];this.h=[];this.i=[];this.v=[];this.g=[];this.s=this.o=!1;this.m=new Set}n=Gm.prototype;n.release=function(){for(var n=lt(this.h.concat(this.i,this.v,this.g)),t=n.next();!t.done;t=n.next())t=t.value,t.jo&&t.jo.release();this.h=[];this.i=[];this.v=[];this.g=[];this.l=[];this.s=this.o=!1;this.m.clear()};n.Wk=function(){return this.l};n.zk=function(){return this.v.slice()};n.Yk=function(){return this.g};n.$k=function(t,n){if(t){if("audio"==t.type)for(var e=lt(this.h),i=e.next();!i.done;i=e.next())i=i.value,i.Qk=i.Qk.filter(function(n){return n!==t});else if("video"==t.type)for(e=lt(this.i),i=e.next();!i.done;i=e.next())i=i.value,i.Qk=i.Qk.filter(function(n){return n!==t}),i.Wo&&(i.Wo.Qk=i.Wo.Qk.filter(function(n){return n!==t}));else if(t.type==z)for(e=lt(this.v),i=e.next();!i.done;i=e.next())i=i.value,i.Qk=i.Qk.filter(function(n){return n!==t});else if("image"==t.type)for(e=lt(this.g),i=e.next();!i.done;i=e.next())i=i.value,i.Qk=i.Qk.filter(function(n){return n!==t});t.jo&&t.Qm();this.m["delete"](n)}};function qm(n,t){var e=[],i=[],r=[],u=[];n=lt(n);for(var a=n.next();!a.done;a=n.next()){var o=a.value;a=new Map(o.Jk.map(function(n){return[gp(n),n]}));var s=new Map(o.Zk.map(function(n){return[wp(n),n]})),f=new Map(o.ha.map(function(n){return[bp(n),n]}));o=new Map(o.yo.map(function(n){return[yp(n),n]}));if(t){var c=dp(z);f.set(bp(c),c);c=dp("image");o.set(yp(c),c)}e.push(a);i.push(s);r.push(f);u.push(o)}return{nM:e,vh:i,tM:r,eM:u}}n.iM=function(t,e,i){i=void 0===i?!1:i;var r=this,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_,L;return sn(function(n){if(1==n.i){u=Ki;if(!e&&1==t.length)return a=qm(t,!1),o=a.nM,s=a.vh,f=a.tM,c=a.eM,r.h=Array.from(o[0].values()),r.i=Array.from(s[0].values()),r.v=Array.from(f[0].values()),r.g=Array.from(c[0].values()),n.k(2);l=i?r.m.size:0;h=-1;for(d=0;d<t.length;d++)v=t[d],r.m.has(v.id)||(r.m.add(v.id),-1==h&&(h=d));if(-1==h)return n.A();m=qm(t,!0);p=m.nM;w=m.vh;g=m.tM;b=m.eM;return an(n,Promise.all([Wm(r,r.h,p,h,Jm,np,l),Wm(r,r.i,w,h,Jm,np,l),Wm(r,r.v,g,h,Jm,np,l),Wm(r,r.g,b,h,Jm,np,l)]),2)}y=0;T=[];if(r.i.length&&r.h.length)for(I=lt(r.h),N=I.next();!N.done;N=I.next())for(P=N.value,R=lt(r.i),D=R.next();!D.done;D=R.next())C=D.value,_=ot(P.vo,C.vo),P.vo.length&&C.vo.length&&!_.length||(L=y++,T.push({id:L,language:P.language,Ko:0,Io:P.Io,Vu:P,Gu:C,ga:(P.ga||0)+(C.ga||0),vo:_,Go:!0,qo:!0,wa:[]}));else for(E=r.i.length?r.i:r.h,S=lt(E),A=S.next();!A.done;A=S.next())k=A.value,M=y++,T.push({id:M,language:k.language,Ko:0,Io:k.Io,Vu:k.type==u.Bu?k:null,Gu:k.type==u.Fu?k:null,ga:k.ga||0,vo:k.vo,Go:!0,qo:!0,wa:[]});r.l=T;on(n)})};function Km(t){var e,i,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D;return sn(function(n){switch(n.i){case 1:e=Ki;if(1==t.length)return n.A(t[0]);i=t.map(function(n){return new Map(n.filter(function(n){return n.type===e.Bu}).map(function(n){return[gp(n),n]}))});r=t.map(function(n){return new Map(n.filter(function(n){return n.type===e.Fu}).map(function(n){return[wp(n),n]}))});u=t.map(function(n){return new Map(n.filter(function(n){return n.type===e.Xu}).map(function(n){return[bp(n),n]}))});a=t.map(function(n){return new Map(n.filter(function(n){return n.type===e.Hu}).map(function(n){return[yp(n),n]}))});o=lt(u);for(s=o.next();!s.done;s=o.next())f=s.value,c=hp(e.Xu),f.set(bp(c),c);l=lt(a);for(h=l.next();!h.done;h=l.next())d=h.value,v=hp(e.Hu),d.set(yp(v),v);m=new Gm;return an(n,Wm(m,[],i,0,Zm,tp,0),2);case 2:return p=n.h,an(n,Wm(m,[],r,0,Zm,tp,0),3);case 3:return w=n.h,an(n,Wm(m,[],u,0,Zm,tp,0),4);case 4:return g=n.h,an(n,Wm(m,[],a,0,Zm,tp,0),5);case 5:b=n.h;y=0;if(w.length&&p.length)for(k=lt(p),M=k.next();!M.done;M=k.next())for(I=M.value,N=lt(w),P=N.next();!P.done;P=N.next())R=P.value,D=y++,R.rM.push(D),I.rM.push(D);else for(T=w.concat(p),E=lt(T),S=E.next();!S.done;S=E.next())A=S.value,A.rM=[y++];return n.A(w.concat(p).concat(g).concat(b))}})}function Wm(e,t,i,r,u,a,o){var s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I;return sn(function(n){switch(n.i){case 1:s=[];for(f=0;f<i.length;f++)f>=r?s.push(new Set(i[f].values())):s.push(new Set);c=lt(t);l=c.next();case 2:if(l.done){n.k(4);break}h=l.value;return an(n,zm(e,h,i,r,a,s,o),5);case 5:d=n.h;if(!d)throw new vt(2,4,4037);l=c.next();n.k(2);break;case 4:v=lt(s);for(m=v.next();!m.done;m=v.next())for(p=m.value,w=lt(p),g=w.next();!g.done;g=w.next())b=g.value,(y=$m(e,b,i,u,a,s))&&t.push(y);T=lt(s);for(E=T.next();!E.done;E=T.next())for(S=E.value,A=lt(S),k=A.next(),M={};!k.done;M={uM:void 0},k=A.next())if(M.uM=k.value,!pp(M.uM)&&(I=t.some(function(t){return function(n){return up(e,t.uM,n)}}(M))))throw new vt(2,4,4037);return n.A(t)}})}function zm(t,e,i,r,u,a,o){return sn(function(n){if(1==n.i)return ep(t,i,e,0<o),e.Qk?e.jo?an(n,Ym(e,r+o),2):n.k(2):n.A(!1);Qm(e,r,u,a,o);return n.A(!0)})}function Ym(t,e){var i,r,u,a,o,s;return sn(function(n){if(1==n.i){i=[];r=t.Qk;for(u=e;u<r.length;u++)a=r[u],i.push(a.Fd()),a.Wo&&!a.Wo.jo&&i.push(a.Wo.Fd());return an(n,Promise.all(i),2)}if(t.jo instanceof Lf)for(o=e;o<r.length;o++)s=r[o],s.jo&&t.jo.h.push(s.jo);on(n)})}function $m(n,t,e,i,r,u){if(pp(t))return null;var a=i(t);ep(n,e,a);a.Fd&&(a.Fd=function(){return sn(function(n){if(a.jo)return n.k(0);a.jo=new Lf;return an(n,Ym(a,0),0)})});if(!a.Qk||!a.Qk.length)return null;Qm(a,0,r,u,0);return a}function Qm(n,t,e,i,r){var u=n.Qk;for(t+=r;t<u.length;t++){var a=u[t];e(n,a);var o=!0;"audio"==n.type&&0==Mr(n.language,a.language)&&(o=!1);if(o&&(i[t-r]["delete"](a),a.uo))for(a=lt(a.uo.values()),o=a.next();!o.done;o=a.next())n.uo.add(o.value)}}function Jm(n){var e=Object.assign({},n);e.Ho=null;e.Fd=function(){return Promise.resolve()};e.Qm=function(){e.jo&&(e.jo.release(),e.jo=null);if(e.Qk)for(var n=lt(e.Qk),t=n.next();!t.done;t=n.next())t=t.value,t.jo&&(t.jo.release(),t.jo=null)};e.Ta=e.Ta.slice();e.jo=null;e.Yd=[];e.Pi=new Set;e.Rm=n.Rm?new Map(n.Rm):null;e.Wo=null;return e}function Zm(n){var t=Object.assign({},n);t.Ta=t.Ta.slice();t.Pi=new Set;t.aM=[];t.rM=[];t.Rm=n.Rm?new Map(n.Rm):null;return t}function np(i,n){function t(n,t){n||(n=[]);t=lt(t);for(var e=t.next();!e.done;e=t.next())e=e.value,n.includes(e)||n.push(e);return n}i.Ta=t(i.Ta,n.Ta);n.Yd&&(i.Yd=t(i.Yd,n.Yd));for(var e=lt(n.Pi),r=e.next();!r.done;r=e.next())i.Pi.add(r.value);null==i.Ho?i.Ho=n.Ho:(e=n.Ho||"")&&!i.Ho.endsWith(e)&&(i.Ho+=","+e);e=ot(i.vo,n.vo);if(n.vo.length&&i.vo.length&&!e.length)throw new vt(2,4,4038);i.vo=e;i.Za=i.Za||n.Za;if(n.Rm)for(i.Rm||(i.Rm=new Map),e=lt(n.Rm),r=e.next();!r.done;r=e.next()){var u=lt(r.value);r=u.next().value;u=u.next().value;i.Rm.set(r,u)}i.ga&&n.ga&&(i.ga=Math.max(i.ga,n.ga));n.Wo?(i.Wo||(i.Wo=Jm(n.Wo),i.Wo.Qk=[],i.Wo.Fd=function(){if(i.Wo.jo)return Promise.resolve();for(var n=new Lf,t=lt(i.Wo.Qk),e=t.next();!e.done;e=t.next())n.h.push(e.value.jo);i.Wo.jo=n;return Promise.resolve()}),i.Wo.Qk.push(n.Wo),np(i.Wo,n.Wo)):i.Wo&&(i.Wo.Qk.push(n),np(i.Wo,n))}function tp(n,t){var e=n.Ta;e||(e=[]);for(var i=lt(t.Ta),r=i.next();!r.done;r=i.next())r=r.value,e.includes(r)||e.push(r);n.Ta=e;e=lt(t.Pi);for(i=e.next();!i.done;i=e.next())n.Pi.add(i.value);n.Za=n.Za&&t.Za;n.aM.push.apply(n.aM,ht(t.aM));if(t.Rm)for(n.Rm||(n.Rm=new Map),t=lt(t.Rm),e=t.next();!e.done;e=t.next())i=lt(e.value),e=i.next().value,i=i.next().value,n.Rm.set(e,i)}function ep(n,t,e,i){i=(void 0===i?0:i)?e.Qk:[];t=lt(t);for(var r=t.next();!r.done;r=t.next()){r=ip(n,r.value,e);if(!r)return;i.push(r)}e.Qk=i}function ip(e,n,t){var i={Vu:gp,Gu:wp,text:bp,oM:yp}[t.type],r=null,u=i(t);if(n.has(u))r=n.get(u);else{u={Vu:function(n,t){return up(e,n,t)},Gu:function(n,t){return up(e,n,t)},text:ap,oM:op}[t.type];for(var a={Vu:sp,Gu:fp,text:cp,oM:lp}[t.type],o=lt(n.values()),s=o.next();!s.done;s=o.next())s=s.value,!u(t,s)||t.Ea!=s.Ea||r&&!a(t,r,s)||(r=s)}e.s&&!pp(r)&&n["delete"](i(r));return r}function rp(n,t){return n.mimeType!=t.mimeType?!1:Tp(n.va)===Tp(t.va)}n.sM=function(n){this.o=n};n.fM=function(n){this.s=n};function up(n,t,e){return!rp(t,e)&&!n.o||t.vo&&!at(t.vo,e.vo)?!1:!0}function ap(n,t){return t.language?n.Po!==t.Po||0==Mr(n.language,t.language)||t.kind!=n.kind?!1:!0:!0}function op(){return!0}function sp(t,n,e){var i=rp(t,n),r=rp(t,e);if(i&&!r)return!1;if(!i&&r)return!0;i=Mr(t.language,n.language);r=Mr(t.language,e.language);if(r>i)return!0;if(r<i)return!1;if(n.label!==e.label){if(t.label===n.label)return!1;if(t.label===e.label)return!0}if(t.Ta.length){i=n.Ta.filter(function(n){return t.Ta.includes(n)});r=e.Ta.filter(function(n){return t.Ta.includes(n)});if(r.length>i.length)return!0;if(r.length<i.length)return!1;if(e.Ta.length!==n.Ta.length)return e.Ta.length<n.Ta.length}else{if(!e.Ta.length&&n.Ta.length)return!0;if(e.Ta.length&&!n.Ta.length)return!1}if(!n.Io&&e.Io)return!0;if(n.Io&&!e.Io)return!1;i=vp(t.ba,n.ba,e.ba);if(i==Ep)return!0;if(i==Ap)return!1;i=vp(t.ya,n.ya,e.ya);return i==Ep?!0:i==Ap?!1:t.ga&&mp(t.ga,n.ga,e.ga)==Ep?!0:!1}function fp(n,t,e){var i=rp(n,t),r=rp(n,e);if(i&&!r)return!1;if(!i&&r)return!0;i=vp(n.width*n.height,t.width*t.height,e.width*e.height);if(i==Ep)return!0;if(i==Ap)return!1;if(n.La){i=vp(n.La,t.La,e.La);if(i==Ep)return!0;if(i==Ap)return!1}return n.ga&&mp(n.ga,t.ga,e.ga)==Ep?!0:!1}function cp(t,n,e){var i=Mr(t.language,n.language),r=Mr(t.language,e.language);if(r>i)return!0;if(r<i)return!1;if(!n.Io&&e.Io)return!0;if(n.Io&&!e.Io)return!1;if(n.label!==e.label){if(t.label===n.label)return!1;if(t.label===e.label)return!0}if(t.Ta.length){i=n.Ta.filter(function(n){return t.Ta.includes(n)});r=e.Ta.filter(function(n){return t.Ta.includes(n)});if(r.length>i.length)return!0;if(r.length<i.length)return!1}else{if(!e.Ta.length&&n.Ta.length)return!0;if(e.Ta.length&&!n.Ta.length)return!1}return e.mimeType!=t.mimeType||e.va!=t.va||n.mimeType==t.mimeType&&n.va==t.va?!1:!0}function lp(n,t,e){return vp(n.width*n.height,t.width*t.height,e.width*e.height)==Ep?!0:!1}function hp(n){return{id:0,Ho:"",groupId:null,Io:!1,type:n,mimeType:"",va:"",language:"",Xo:null,label:null,width:null,height:null,Za:!1,Pi:new Set,aM:[],rM:[],Ta:[],Po:!1,ba:null,ya:null,"do":!1,Rm:null,external:!1,Ea:!1,Hd:!1}}function dp(n){return{id:0,Ho:"",groupId:null,Fd:function(){return Promise.resolve()},jo:new Y([]),mimeType:"",va:"",Za:!1,vo:[],Pi:new Set,language:"",Xo:null,label:null,type:n,Io:!1,Wo:null,Yd:null,Ta:[],Po:!1,ba:null,ya:null,"do":!1,Rm:null,Bo:null,external:!1,Ea:!1,uo:new Set,Hd:!1}}function vp(n,t,e){if(t==n&&n!=e)return Ap;if(e==n&&n!=t)return Ep;if(t>n){if(e<=n||e-n<t-n)return Ep;if(e-n>t-n)return Ap}else{if(e>n)return Ap;if(n-e<n-t)return Ep;if(n-e>n-t)return Ap}return Sp}function mp(n,t,e){t=Math.abs(n-t);n=Math.abs(n-e);return n<t?Ep:t<n?Ap:Sp}function pp(n){switch(n.type){case z:return!n.language;case"image":return!n.Co;default:return!1}}function wp(n){return JSON.stringify([n.Ea,n.width,n.La,Tp(n.va),n.mimeType,n.label,n.Ta,n.Rm?Array.from(n.Rm.entries()):null,n.ga])}function gp(n){return JSON.stringify([n.Ea,n.ba,n.language,n.ga,n.label,Tp(n.va),n.mimeType,n.Ta,n.ya,n.Io])}function bp(n){return JSON.stringify([n.language,n.label,n.va,n.mimeType,n.ga,n.Ta])}function yp(n){return JSON.stringify([n.width,n.va,n.mimeType])}function Tp(n){if(!kp.has(n)){var t=tr(n);kp.set(n,t)}return kp.get(n)}t("shaka.util.PeriodCombiner",Gm);Gm.prototype.cM=Gm.prototype.fM;Gm.prototype.lM=Gm.prototype.sM;Gm.prototype.hM=Gm.prototype.iM;Gm.prototype.dM=Gm.prototype.$k;Gm.prototype.vM=Gm.prototype.Yk;Gm.prototype.mM=Gm.prototype.zk;Gm.prototype.pM=Gm.prototype.Wk;var Ep=1,Sp=0,Ap=-1,kp=new Map;function Mp(n,t){var e=new DOMParser,i=Np.value()(n);n=null;try{n=e.parseFromString(i,"text/xml")}catch(r){return null}e=n.documentElement;if(!e||e.getElementsByTagName("parsererror").length||e.tagName!=t)return null;if(!("createNodeIterator"in document))return e;for(t=document.createNodeIterator(n,NodeFilter.SHOW_ALL);n=t.nextNode();)if(n instanceof HTMLElement||n instanceof SVGElement)return null;return e}function Ip(n,t){try{var e=jt(n);return Mp(e,t)}catch(i){return null}}var Np=new ut(function(){if("undefined"!==typeof trustedTypes){var t=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(n){return n}});return function(n){return t.createHTML(n)}}return function(n){return n}});function Pp(){var n=this;this.v=this.i=null;this.p=[];this.g=null;this.Ud=1;this.I=[];this.l={wM:"",type:"",profiles:[],gM:null,jk:0,Sk:null,bM:0};this.s=new Map;this.o={};this.C={};this.yl={};this.m=new Gm;this.Sl=0;this.Af=new mn(5);this.Il=new S(function(){if(n.R&&!n.i.aw&&(n.D.Y(n.R,"timeupdate"),n.R.paused)){n.D.W(n.R,"timeupdate",function(){return Yp(n)});return}Yp(n)});this.Cl=new Yu;this.Nl=null;this.P=[];this.Dl=Infinity;this.N=!1;this.h=null;this.Pl=0;this.Ml=!1;this.D=new Mn;this.R=null;this.El=!1;this.kl="";this.Tl=function(){return!1};this.Rl=[]}n=Pp.prototype;n.B=function(n,t){var e=this.v&&n.ow.Rw!=this.i.ow.Rw&&0<=n.ow.Rw;this.i=n;t&&(this.Tl=t);e&&this.g&&this.g.xv.D1()&&this.Il.Fi();this.h&&this.h.B(this.i);this.m&&(this.m.sM(this.i.ow.Nw&&Cn()),this.m.fM(this.i.ow.Pw))};n.start=function(t,e){var i=this,r;return sn(function(n){if(1==n.i)return i.N=e.Xy(),i.p=[t],i.v=e,an(n,Rp(i),2);r=n.h;i.v&&$p(i,r);if(!i.v)throw new vt(2,7,7001);return n.A(i.g)})};n.stop=function(){for(var n=lt(Object.values(this.o)),t=n.next();!t.done;t=n.next())t=t.value,t.jo&&t.jo.release();this.m&&this.m.release();this.i=this.v=null;this.p=[];this.g=null;this.o={};this.C={};this.s.clear();this.l={wM:"",type:"",profiles:[],gM:null,jk:0,Sk:null,bM:0};this.m=null;null!=this.Il&&(this.Il.stop(),this.Il=null);this.h&&this.h.su();this.D&&(this.D.release(),this.D=null);return this.Cl.su()};n.update=function(){var t=this,e;return sn(function(n){if(1==n.i)return q(n,2),an(n,Rp(t),4);if(2!=n.i)return K(n,0);e=W(n);if(!t.v||!e)return n.A();t.v.Al(e);on(n)})};n.ph=function(){};n.Jy=function(n){if(this.g&&this.g.xv.D1()){var t=n.Gu||n.Vu;if(t&&t.jo){n=this.g.xv.H1();var e=t.jo.find(n);null!=e&&(t=t.jo.get(e))&&(this.Sl=t.endTime-n,$p(this,0))}}};n.s4=function(n){this.h&&this.h.s4(n)};n.ps=function(n){this.R=n};function Rp(t){var e,i,r,u,a,o,s,f,c,l,h;return sn(function(n){if(1==n.i)return e=4,i="MPD",r=ow(t),u=t.p,r.length?(u=r,i="Patch",e=6):1<t.p.length&&t.h&&(a=Vm(t.h,"Location",!0),a.length&&(u=a)),o=na(u,t.i.Uf),s=Date.now(),an(n,aw(t,o,0,{type:e}),2);if(3!=n.i){f=n.h;if(!t.v)return n.A(0);f.uri&&f.uri!=f.yM&&!t.p.includes(f.uri)&&t.p.unshift(f.uri);c=new wi(f.uri);t.kl=c.i.toString();return an(n,Dp(t,f.data,f.uri,i),3)}l=Date.now();h=(l-s)/1e3;t.Af.sample(1,h);return n.A(h)})}function Dp(t,e,i,r){var u,a,o,s,f,c,l,h,d,v,m;return sn(function(n){if(1==n.i){u=e;a=t.i.ow.Mw;o=dl;if(a!=o){On("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead.");s=Ip(u,r);if(!s)throw new vt(2,4,4001,i);a(s);u=Vt(s.outerHTML)}f=re(u,r);if(!f)throw new vt(2,4,4001,i);c=t.i.ow.Iw;l=vl;c!=l&&c(f);if("Patch"===r)return n.A(Lp(t,f));if(h=t.i.ow.cw)return n.A(Cp(t,f,i));d=t.i.ow.lw;v=im(f,t.i.Uf,d,i,t.v.yg);$u(t.Cl,v);return an(n,v.promise,2)}m=n.h;return n.A(Cp(t,m,i))})}function Cp(t,e,U){var i,r,u,F,a,o,s,f,B,c,l,h,d,v,m,X,p,w,g,H,b,y,T,E,S,A,k,j,M,I,V,N,G,P,q,R,K,D,C,_,W,L,z,Y,$,Q,J,Z,O,nn,x,tn,en,rn,un;return sn(function(n){switch(n.i){case 1:t.h&&t.h.l.clear();i=[U];r=[];u=new Map;F=fn(e,"Location");a=lt(F);for(o=a.next();!o.done;o=a.next())if(s=o.value,f=s.attributes.serviceLocation,B=le(s))c=Xi(i,[B])[0],f&&(t.h?jm(t.h,"Location",f,c):u.set(f,c)),r.push(c);t.h?(l=Vm(t.h,"Location",!0),0<l.length&&(i=t.p=l)):r.length&&(i=t.p=r);t.l.wM=e.attributes.id||"";t.l.bM=cn(e,"publishTime",ge)||0;t.I=fn(e,"PatchLocation");h=Promise.resolve();if((d=de(e,"ContentSteering"))&&t.v){v=d.attributes.defaultServiceLocation;if(t.h)t.h.g=i,t.h.h=v;else if(t.h=new Fm(t.v),t.h.B(t.i),t.h.Kd("DASH"),t.h.g=i,t.h.h=v,m=le(d))(X=cn(d,"queryBeforeStart",ke,!1))?h=Bm(t.h,m):Bm(t.h,m);p=lt(u.keys());for(w=p.next();!w.done;w=p.next())g=w.value,H=u.get(g),jm(t.h,"Location",g,H)}b=fn(e,"BaseURL");y=!1;if(t.h)for(T=lt(b),E=T.next();!E.done;E=T.next())S=E.value,A=S.attributes.serviceLocation,k=le(S),A&&k&&(jm(t.h,"BaseURL",A,k),y=!0);t.Rl=null;y&&t.h||(j=b.map(le),t.Rl=Xi(i,j));M=function(){return t.h&&y?Vm(t.h,"BaseURL"):t.Rl?t.Rl:[]};t.l.Sk=M;I=0;b&&b.length&&(I=cn(b[0],"availabilityTimeOffset",Ae)||0);t.l.jk=I;V=t.i.ow.hw;N=0;V||(N=cn(e,"minBufferTime",be)||0);t.Sl=cn(e,"minimumUpdatePeriod",be,-1);G=cn(e,"availabilityStartTime",ge);P=cn(e,"timeShiftBufferDepth",be);q=t.i.ow.pw;R=null;q||(R=cn(e,"suggestedPresentationDelay",be));K=t.i.ow.gw;D=null;K||(D=cn(e,"maxSegmentDuration",be));C=e.attributes.type||"static";t.g&&t.g.xv&&(t.El=t.g.xv.D1()&&"static"==C);t.l.type=C;if(t.g)for(_=t.g.xv,W=lt(Object.values(t.o)),L=W.next();!L.done;L=W.next())z=L.value,z.jo&&z.jo.$v(_.X1());else Y=t.i.iw||1.5*N,$=null!=R?R:Y,_=new ln(G,$,t.i.ow.dw);_.T1("static"==C);(Q=_.D1())&&!isNaN(t.i.Qp)&&(P=t.i.Qp);null==P&&(P=Infinity);_.E1(P);J=e.attributes.profiles||"";t.l.profiles=J.split(",");Z={kk:"static"!=C,xv:_,bk:null,fk:null,gk:null,wk:null,ga:0,Lk:!1,jk:I,gM:null,profiles:J.split(","),Ta:null,Ak:function(){return""}};t.Pl=0;O=Hp(t,Z,M,e,!1);nn=O.duration;x=O.TM;("static"!=C||t.El)&&O.EM||_.o1(nn||Infinity);t.Ml&&!t.N&&(tn=t.v.Hy())&&(t.v.jy(),t.N=t.v.Xy());t.N&&_.W1(t.Dl);_.F1(D||1);return an(n,h,2);case 2:t.N&&(N=0,en=null!=R?R:t.i.iw,_.A1(en));if(!t.g)return an(n,t.m.iM(x,Z.kk),6);t.g.P3=x.length;t.g.R3=t.Pl;return an(n,_p(t,x,!1),4);case 6:t.g={xv:_,ma:t.m.l,ha:t.m.zk(),yo:t.m.g,qa:[],Uv:N||0,qm:t.i.ow.qm,sp:!1,type:"DASH",t4:Bp(e),e4:Xp(e),P3:x.length,R3:t.Pl,Sp:t.Ml,startTime:null};if(!_.K1()){n.k(7);break}rn=fn(e,"UTCTiming");return an(n,ew(t,M,rn),8);case 8:un=n.h;if(!t.v)return n.A();_.b1(un);case 7:_._1();case 4:t.v.Fy(t.g),jp(t),on(n)}})}function _p(t,e,i){var r;return sn(function(n){if(1==n.i)return an(n,t.m.iM(e,!0,i),2);t.g.ma=t.m.l;r=t.m.zk();0<r.length&&(t.g.ha=r);t.g.yo=t.m.g;t.v.filter(t.g);on(n)})}function Lp(a,o){var s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_,L;return sn(function(n){if(1==n.i){s=o.attributes.mpdId;f=cn(o,"originalPublishTime",ge);if(!s||s!==a.l.wM||f!==a.l.bM)throw a.I=[],new vt(1,4,4052);c=[];l=[];h=new Set;d=lt(fe(o));for(v=d.next();!v.done;v=d.next())if(m=v.value,p=Ie(m.attributes.sel||""),w=p[p.length-1],g=le(m)||"","MPD"===w.name)if("mediaPresentationDuration"===w.ar){b=le(m)||"";var t=be(b);if(null!=t){a.l.gM=t;for(var e=lt(a.s.values()),i=e.next();!i.done;i=e.next())i.value.gM=t}}else if("type"===w.ar){a.g.xv.T1("static"==g);a.l.type=g;t=lt(a.s.values());for(e=t.next();!e.done;e=t.next())e.value.kk="dynamic"==g;"static"==g&&(a.Sl=-1)}else"publishTime"===w.ar?a.l.bM=ge(g)||0:null===w.ar&&"add"===m.tagName&&l.push(m);else if("PatchLocation"===w.name)Ne(a.I,m);else if("Period"===w.name)"add"===m.tagName?l.push(m):"remove"===m.tagName&&w.id&&xp(a,w.id);else if("SegmentTemplate"===w.name){e=Ie(m.attributes.sel||"");t=e[e.length-1];if(t.ar){e=Up(a,e);i=le(m)||"";for(var r=lt(e),u=r.next();!u.done;u=r.next())u=a.s.get(u.value),Re(u.wk.Fk,m.tagName,t.ar,i);t=e}else t=[];y=t;T=lt(y);for(E=T.next();!E.done;E=T.next())S=E.value,h.add(S)}else if("SegmentTimeline"===w.name||"S"===w.name){t=Ie(m.attributes.sel||"");t=Up(a,t);e=lt(t);for(i=e.next();!i.done;i=e.next())i=a.s.get(i.value),i=tm(i,Nm,"SegmentTimeline"),r=fn(i,"S"),Ne(r,m),i.children=r;A=t;k=lt(A);for(M=k.next();!M.done;M=k.next())I=M.value,h.add(I)}N=lt(h);for(P=N.next();!P.done;P=N.next())R=P.value,Fp(a,R);D=lt(l);for(C=D.next();!C.done;C=D.next())_=C.value,c.push.apply(c,ht(Op(a,_)));if(!c.length)return n.k(2);a.g.P3+=c.length;a.g.R3=a.Pl;return an(n,_p(a,c,!0),2)}"static"==a.l.type&&(L=a.l.gM,a.g.xv.o1(L||Infinity));on(n)})}function Op(n,t){return Hp(n,{kk:"dynamic"==n.l.type,xv:n.g.xv,bk:null,fk:null,gk:null,wk:null,ga:0,Lk:!1,jk:n.l.jk,profiles:n.l.profiles,gM:n.l.gM,Ta:null,Ak:function(){return""}},n.l.Sk,t,!0).TM}function xp(n,t){n.g.P3--;for(var e=lt(n.s.keys()),i=e.next();!i.done;i=e.next())if(i=i.value,i.startsWith(t)){var r=n.s.get(i);tm(r,Nm,"SegmentTimeline").children=[];Fp(n,i);n.s["delete"](i)}n.P=n.P.filter(function(n){return n!==t})}function Up(n,t){var e="",i="",r=-1,u="";t=lt(t);for(var a=t.next();!a.done;a=t.next())a=a.value,"Period"===a.name?e=a.id:"AdaptationSet"===a.name?(i=a.id,null!==a.position&&(r=a.position)):"Representation"===a.name&&(u=a.id);t=[];if(u)t.push(e+","+u);else if(i)for(r=lt(n.s.values()),n=r.next();!n.done;n=r.next())n=n.value,n.bk.id===e&&n.gk.id===i&&n.wk.id&&t.push(e+","+n.wk.id);else if(-1<r)for(i=lt(n.s.values()),n=i.next();!n.done;n=i.next())n=n.value,n.bk.id===e&&n.gk.position===r&&n.wk.id&&t.push(e+","+n.wk.id);return t}function Fp(r,n){var t=r.s.get(n),e=r.o[n];e.jo&&e.jo.$v(r.g.xv.X1());try{var i=Im(t,function(n,t,e,i){return rw(r,n,t,e,i)},r.o,!0,r.i.ow.mw,r.yl,t.wk.Hh,null,!0);e.Fd=function(){return sn(function(n){if(1==n.i)return e.jo?n.k(0):an(n,i.pc(),3);e.jo=n.h;on(n)})}}catch(u){if(n=t.wk.contentType,n!=z&&"application"!=n&&"image"!=n||4002!=u.code)throw u}}function Bp(n){var t=de(n,"ServiceDescription");if(!t)return null;n=de(t,"Latency");t=de(t,"PlaybackRate");if(!n&&!t)return null;var e={};n&&("target"in n.attributes&&(e.t2=parseInt(n.attributes.target,10)/1e3),"max"in n.attributes&&(e.l2=parseInt(n.attributes.max,10)/1e3),"min"in n.attributes&&(e.h2=parseInt(n.attributes.min,10)/1e3));t&&("max"in t.attributes&&(e.i2=parseFloat(t.attributes.max)),"min"in t.attributes&&(e.u2=parseFloat(t.attributes.min)));return e}function Xp(n){n=fn(n,"SupplementalProperty");if(!n.length)return null;n=lt(n);for(var t=n.next();!t.done;t=n.next())if(t=t.value,"urn:mpeg:dash:chaining:2016"==t.attributes.Jd)return t.attributes.value;return null}function Hp(n,t,e,i,r){var u=t.gM;u||(u=cn(i,"mediaPresentationDuration",be),n.l.gM=u);var a=0;n.g&&n.g.xv&&n.El&&(a=n.g.xv.q1());var o=[],s=a;i=fn(i,"Period");for(var f=0;f<i.length;f++){var c=i[f],l=i[f+1],h=cn(c,"start",be,s),d=c.attributes.id,v=cn(c,"duration",be);h=0==f&&0==h&&n.El?a:h;var m=null;if(l){var p=cn(l,"start",be);null!=p&&(m=p-h+a)}else null!=u&&(m=u-h+a);p=Wi;m&&v&&Math.abs(m-v)>p&&m>v&&n.Pl++;null==m&&(m=v);if(!(null!==n.Nl&&null!==d&&null!==h&&h<n.Nl)||n.P.includes(d)||f+1==i.length){null!==h&&(null===n.Nl||h>n.Nl)&&(n.Nl=h);s=Vp(n,t,e,{start:h,duration:m,node:c,Mk:null==m||!l});o.push(s);t.bk.id&&m&&(n.yl[t.bk.id]=m);if(null==m){s=null;break}s=h+m}}if(r)for(t=lt(o),e=t.next();!e.done;e=t.next())e=e.value.id,n.P.includes(e)||n.P.push(e);else n.P=o.map(function(n){return n.id});return null!=u?{TM:o,duration:u+a,EM:!1}:{TM:o,duration:s,EM:!0}}function jp(t){var n=Object.keys(t.C).filter(function(n){return!t.P.includes(n)});n=lt(n);for(var e=n.next();!e.done;e=n.next()){e=e.value;for(var i=!0,r=lt(t.C[e]),u=r.next();!u.done;u=r.next()){u=u.value;var a=t.o[u];a&&(a.jo&&0!=a.jo.Bd()?i=!1:(t.m&&t.m.$k(t.o[u],e),delete t.o[u]))}i&&delete t.C[e]}}function Vp(e,i,n,t){i.bk=Qp(e,t.node,null,n);i.fk=t;i.bk.jk=i.jk;i.bk.id||(i.bk.id="__shaka_period_"+t.start);var r=fn(t.node,"EventStream");n=i.xv.X1();r=lt(r);for(var u=r.next();!u.done;u=r.next())iw(e,t.start,t.duration,u.value,n);n=fn(t.node,"SupplementalProperty");n=lt(n);for(r=n.next();!r.done;r=n.next())if(r=r.value,"urn:mpeg:dash:urlparam:2014"==r.attributes.Jd&&(r=Kp(e,r)))i.Ak=r;n=fn(t.node,"AdaptationSet").map(function(n,t){return qp(e,i,t,n)}).filter(br);if(i.kk){t=[];r=lt(n);for(u=r.next();!u.done;u=r.next()){u=lt(u.value.SM);for(var a=u.next();!a.done;a=u.next())t.push(a.value)}if(t.length!=new Set(t).size)throw new vt(2,4,4018)}t=n.filter(function(n){return!n.AM});n=n.filter(function(n){return n.AM});if(!e.i.ew)for(n=lt(n),r=n.next();!r.done;r=n.next()){r=r.value;u=r.AM.split(" ");a=lt(t);for(var o=a.next();!o.done;o=a.next())if(o=o.value,u.includes(o.id)){o=lt(o.streams);for(var s=o.next();!s.done;s=o.next())au(s.value,r.streams)}}n=Gp(e.i.Jp,t,"audio");r=Gp(e.i.Zp,t,"video");u=Gp(e.i.nw,t,z);t=Gp(e.i.tw,t,"image");if(0===r.length&&0===n.length)throw new vt(2,4,4004);return{id:i.bk.id,Jk:n,Zk:r,ha:u,yo:t}}function Gp(n,t,e){return n||!t.length?[]:t.reduce(function(n,t){if(t.contentType!=e)return n;n.push.apply(n,ht(t.streams));return n},[])}function qp(e,i,n,t){function r(n){var t=n.attributes["dvb:fontFamily"];n=n.attributes["dvb:url"];t&&n&&(n=Xi(i.gk.Sk(),[n],i.Ak()),e.v.Wy(t,n[0]))}function u(n){switch(n){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function a(n){switch(n){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}i.gk=Qp(e,t,i.bk,null);i.gk.position=n;var o=!1;n=fn(t,"Role");var s=n.map(function(n){return n.attributes.value}).filter(br),f=void 0,c=i.gk.contentType==z;c&&(f="subtitle");n=lt(n);for(var l=n.next();!l.done;l=n.next()){l=l.value;var h=l.attributes.Jd;if(null==h||"urn:mpeg:dash:role:2011"==h)switch(l=l.attributes.value,l){case"main":o=!0;break;case"caption":case"subtitle":f=l}}var d=fn(t,"EssentialProperty");n=null;var v=!1;l=null;h=!1;d=lt(d);for(var m=d.next();!m.done;m=d.next()){m=m.value;var p=m.attributes.Jd;if("http://dashif.org/guidelines/trickmode"==p)n=m.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==p)var w=a(parseInt(m.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==p)var g=u(parseInt(m.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=p&&("urn:mpeg:dash:ssr:2023"==p&&e.i.ow.Dw?v=!0:"urn:dvb:dash:fontdownload:2014"==p?r(m):"urn:mpeg:dash:urlparam:2014"==p?(l=Kp(e,m))||(h=!0):h=!0)}if(h)return null;var b=null;h=fn(t,"SupplementalProperty");h=lt(h);for(d=h.next();!d.done;d=h.next())d=d.value,m=d.attributes.Jd,"http://dashif.org/guidelines/last-segment-number"==m?b=parseInt(d.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==m?w=a(parseInt(d.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==m?g=u(parseInt(d.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==m?r(d):"urn:mpeg:dash:urlparam:2014"==m&&(l=Kp(e,d));l&&(i.Ak=l);l=fn(t,"Accessibility");var y=new Map,T;l=lt(l);for(h=l.next();!h.done;h=l.next())if(d=h.value,h=d.attributes.Jd,d=d.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=h||e.i.nw)if("urn:scte:dash:cc:cea-708:2015"!=h||e.i.nw)"urn:mpeg:dash:role:2011"==h?null!=d&&(s.push(d),"captions"==d&&(f="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==h&&("1"==d?T="visually impaired":"2"==d&&(T="hard of hearing"));else if(h=1,null!=d)for(d=lt(d.split(";")),m=d.next();!m.done;m=d.next()){p=m.value;var E=m=void 0;p.includes("=")?(p=p.split("="),m="svc"+p[0],E=p[1].split(",")[0].split(":").pop()):(m="svc"+h,h++,E=p);y.set(m,kr(E))}else y.set("svc1","und");else if(h=1,null!=d)for(d=d.split(";"),m=lt(d),p=m.next();!p.done;p=m.next()){E=p.value;var S=p=void 0;E.includes("=")?(E=E.split("="),p=E[0].startsWith("CC")?E[0]:"CC"+E[0],S=E[1]||"und"):(p="CC"+h,2==d.length?h+=2:h++,S=E);y.set(p,kr(S))}else y.set("CC1","und");l=fn(t,"ContentProtection");var A=Xv(l,e.i.ow.fw,e.i.ow.bw),k=kr(i.gk.language||"und"),M=i.gk.label;l=fn(t,"Representation");t=l.map(function(n){if(n=Wp(e,i,A,f,k,M,o,s,y,n,T,b))n.Ku=n.Ku||w,n.ho=n.ho||g,n.Ea=v;return n}).filter(function(n){return!!n});if(0==t.length){n="image"==i.gk.contentType;if(e.i.ow.ww||c||n)return null;throw new vt(2,4,4003)}if(!i.gk.contentType||"application"==i.gk.contentType)for(i.gk.contentType=uw(t[0].mimeType,t[0].va),c=lt(t),h=c.next();!h.done;h=c.next())h.value.type=i.gk.contentType;c=i.gk.id||"__fake__"+e.Ud++;h=lt(t);for(d=h.next();!d.done;d=h.next()){d=d.value;m=lt(A.vo);for(p=m.next();!p.done;p=m.next())p=p.value,p.Pi=p.Pi&&d.Pi?new Set([].concat(ht(p.Pi),ht(d.Pi))):p.Pi||d.Pi;d.groupId=c}l=l.map(function(n){return n.attributes.id}).filter(br);return{id:c,contentType:i.gk.contentType,language:k,kM:o,streams:t,vo:A.vo,AM:n,SM:l}}function Kp(i,n){if((n=ve(n,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&cn(n,"useMPDUrlQuery",ke,!1)){var t=n.attributes.queryTemplate;if(t)return function(){return"$querypart$"==t?i.kl:t.split("&").map(function(n){if("$querypart$"==n)return i.kl;var t=/\$query:(.*?)\$/g.exec(n);if(t&&2==t.length){t=t[1];var e=new Ri(i.kl).get(t);if(e.length)return t+"="+e[0]}return n}).join("&")}}return null}function Wp(r,n,t,e,i,u,a,o,s,f,c,l){n.wk=Qp(r,f,n.gk,null);var h=n.wk.id;r.Dl=Math.min(r.Dl,n.wk.jk);r.Ml=0<r.Dl;if(!nw(n.wk))return null;var d=n.fk.start;n.ga=cn(f,"bandwidth",Ee)||0;n.Ta=o;var v=fn(f,"SupplementalProperty"),m=fn(f,"EssentialProperty"),p=null,w=m.find(function(n){return"urn:mpeg:dash:urlparam:2014"==n.attributes.Jd});w?p=Kp(r,w):(w=v.find(function(n){return"urn:mpeg:dash:urlparam:2014"==n.attributes.Jd}))&&(p=Kp(r,w));p&&(n.Ak=p);w=n.wk.contentType;p=w==z||"application"==w;w="image"==w;try{var g=void 0;if(t.tk){var b=n.wk.Sk,y=n.Ak,T=Xi(b(),[t.tk.ik],y()),E=na(T,r.i.Uf);g={MM:128,Om:"CBC",_m:t.tk._m,Lm:0,Cm:function(){var t,e,i;return sn(function(n){if(1==n.i)return an(n,aw(r,E,6),2);if(3!=n.i){t=n.h;if(!t.data||16!=t.data.byteLength)throw new vt(2,4,4049);e={name:"AES-CBC"};i=g;return an(n,L.crypto.subtle.importKey("raw",t.data,e,!0,["decrypt"]),3)}i.Dm=n.h;g.Cm=void 0;on(n)})}}}n.wk.Hh=g;b=function(n,t,e,i){return rw(r,n,t,e,i)};if(n.wk.Ik)var S=mm(n,b,g);else if(n.wk.Rk)S=Em(n,r.o,g);else if(n.wk.Fk)S=Im(n,b,r.o,!!r.g,r.i.ow.mw,r.yl,g,l,!1);else{var A=n.fk.duration||0,k=n.wk.Sk,M=n.wk.mimeType,I=n.wk.va;S={pc:function(){var n=Cf(d,A,k());n.Wv(function(n){n.mimeType=M;n.va=I});return Promise.resolve(n)}}}}catch(D){if((p||w)&&4002==D.code)return null;throw D}f=fn(f,"ContentProtection");f=Hv(f,t,r.i.ow.fw,r.i.ow.bw);f=new Set(f?[f]:[]);l=!1;v.some(function(n){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==n.attributes.Jd&&"JOC"==n.attributes.value})&&(l=!0);v=!1;p&&(v=o.includes("forced_subtitle")||o.includes("forced-subtitle"));var N;if(w&&((m=m.find(function(n){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(n.attributes.Jd)}))&&(N=m.attributes.value),!N))return null;var P;p=n.wk.va;n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(p.includes("hvc1.2.4.L153.B0")||p.includes("hev1.2.4.L153.B0"))&&(P="PQ");m=n.wk.id?n.bk.id+","+n.wk.id:"";r.I.length&&h&&r.s.set(n.bk.id+","+h,zp(n));var R=m&&r.o[m]?r.o[m]:{id:r.Ud++,Ho:n.wk.id,groupId:null,Fd:function(){return Promise.resolve()},Qm:function(){R.jo&&(R.jo.release(),R.jo=null)},jo:null,mimeType:n.wk.mimeType,va:p,La:n.wk.La,To:n.wk.To,ga:n.ga,width:n.wk.width,height:n.wk.height,kind:e,Za:0<t.vo.length,vo:t.vo,Pi:f,language:i,Xo:n.gk.language,label:u,type:n.gk.contentType,Io:a,Wo:null,Yd:n.wk.Yd,Ta:o,Po:v,ba:n.wk.Nk,ya:n.wk.ya,"do":l,Rm:s,Ku:P,ho:void 0,Eo:void 0,Co:N,Bo:c,external:!1,Ea:!1,uo:new Set([$i(n.wk.mimeType,n.wk.va)]),Hd:!1};R.Fd=function(){var t;return sn(function(n){if(1==n.i){if(R.jo)return n.k(0);t=R;return an(n,S.pc(),3)}t.jo=n.h;on(n)})};m&&n.kk&&!r.o[m]&&(n=n.bk.id||"",r.C[n]||(r.C[n]=[]),r.o[m]=R,r.C[n].push(m));return R}function zp(n){function t(n){if(!n)return null;n=ee(n);n.Ik=null;n.Rk=null;n.Fk=Ce(n.Fk);return n}n=ee(n);n.bk=t(n.bk);n.gk=t(n.gk);n.wk=t(n.wk);n.fk&&(n.fk=ee(n.fk),n.fk.node=null);return n}function Yp(t){var e,i;return sn(function(n){switch(n.i){case 1:return e=0,q(n,2),an(n,Rp(t),4);case 4:e=n.h;K(n,3);break;case 2:if(i=W(n),t.v){if(t.i.uw)return t.v.Al(i),n.A();i.kn=1;t.v.Al(i)}case 3:if(!t.v)return n.A();t.v.Gy();$p(t,e);on(n)}})}function $p(n,t){if(!(0>n.Sl)){var e=n.Sl;0<=n.i.ow.Rw&&(e=n.i.ow.Rw);n.Il.Ui(Math.max(e-t,pn(n.Af)))}}function Qp(n,t,e,i){e=e||{contentType:"",mimeType:"",va:"",Yd:[],La:void 0,To:void 0,Nk:null,ya:null,jk:0,Uk:0};i=i||e.Sk;var r=t.attributes.id,u=fn(t,"BaseURL"),a,o=!1;if(n.h)for(var s=lt(u),f=s.next();!f.done;f=s.next()){var c=f.value;f=c.attributes.serviceLocation;c=le(c);f&&c&&(jm(n.h,r,f,c),o=!0)}o&&n.h||(a=u.map(le));s=t.attributes.contentType||e.contentType;f=t.attributes.mimeType||e.mimeType;c=[t.attributes.va||e.va];var l=me(t,"urn:scte:dash:scte214-extensions","supplementalCodecs");l&&c.push(l);c=hc(c).join(",");l=cn(t,"frameRate",Me)||e.La;var h=t.attributes.sar||e.To,d=Jp(fn(t,"InbandEventStream"),e.Yd),v=fn(t,"AudioChannelConfiguration");v=Zp(v)||e.Nk;var m=cn(t,"audioSamplingRate",Se)||e.ya;s||(s=uw(f,c));var p=de(t,"SegmentBase"),w=de(t,"SegmentTemplate"),g=p?cn(p,"availabilityTimeOffset",Ae)||0:0,b=w?cn(w,"availabilityTimeOffset",Ae)||0:0,y=u&&u.length?cn(u[0],"availabilityTimeOffset",Ae)||0:0;g=e.jk+y+g+b;b=null;(y=de(t,"SegmentSequenceProperties"))&&(y=de(y,"SAP"))&&(b=cn(y,"cadence",Te));y=t.attributes.label;var T=fn(t,"Label");T&&T.length&&(T=T[0],ce(T)&&(y=ce(T)));return{Sk:function(){return Xi(i(),u.length?n.h&&o?Vm(n.h,r):a?a:[]:[])},Ik:p||e.Ik,Rk:de(t,"SegmentList")||e.Rk,Fk:w||e.Fk,width:cn(t,"width",Se)||e.width,height:cn(t,"height",Se)||e.height,contentType:s,mimeType:f,va:c,La:l,To:h,Yd:d,id:r,language:t.attributes.lang,Nk:v,ya:m,jk:g,Ok:null,Uk:b||e.Uk,label:y||null}}function Jp(n,t){t=t.slice();n=lt(n);for(var e=n.next();!e.done;e=n.next())e=e.value.attributes.Jd,t.includes(e)||t.push(e);return t}function Zp(n){n=lt(n);for(var t=n.next();!t.done;t=n.next()){t=t.value;var e=t.attributes.Jd;if(e&&(t=t.attributes.value))switch(e){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":t=parseInt(t,10);if(!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":e=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2];t=parseInt(t,16);if(!t)continue;for(var i=0,r=0;r<e.length;r++)t&1<<r&&(i+=e[r]);if(i)return i;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":e=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse();t=parseInt(t,16);if(!t)continue;for(r=i=0;r<e.length;r++)t&1<<r&&(i+=e[r]);if(i)return i;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(e=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<e.length)return e[t]}}return null}function nw(n){var t=n.Ik?1:0;t+=n.Rk?1:0;t+=n.Fk?1:0;if(0==t)return n.contentType==z||"application"==n.contentType?!0:!1;1!=t&&(n.Ik&&(n.Rk=null),n.Fk=null);return!0}function tw(t,e,i,r){var u,a,o,s,f,c,l;return sn(function(n){if(1==n.i)return u=[Kt(i)],a=Xi(e(),u),o=na(a,t.i.Uf),o.method=r,s=t.v.yg.request(4,o,{Vl:t.Tl()}),$u(t.Cl,s),an(n,s.promise,2);f=n.h;if("HEAD"==r){if(!f.headers||!f.headers.date)return n.A(0);c=f.headers.date}else c=Xt(f.data);l=Date.parse(c);return isNaN(l)?n.A(0):n.A(l-Date.now())})}function ew(t,e,i){var r,u,a,o,s,f,c,l;return sn(function(n){switch(n.i){case 1:r=i.map(function(n){return{scheme:n.attributes.Jd,value:n.attributes.value}}),u=t.i.ow.sw,!r.length&&u&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:u}),a=lt(r),o=a.next();case 2:if(o.done){n.k(4);break}s=o.value;q(n,5);f=s.scheme;c=s.value;switch(f){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return n.k(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return n.k(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return l=Date.parse(c),n.A(isNaN(l)?0:l-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":M("NTP UTCTiming scheme is not supported");break;default:M("Unrecognized scheme in UTCTiming element",f)}n.k(9);break;case 7:return an(n,tw(t,e,c,"HEAD"),10);case 10:return n.A(n.h);case 8:return an(n,tw(t,e,c,"GET"),11);case 11:return n.A(n.h);case 9:K(n,3);break;case 5:W(n);case 3:o=a.next();n.k(2);break;case 4:return M("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),n.A(0)}})}function iw(n,t,e,i,r){var u=i.attributes.Jd||"",a=i.attributes.value||"",o=cn(i,"timescale",Se)||1,s=cn(i,"presentationTimeOffset",Se)||0;i=lt(fn(i,"Event"));for(var f=i.next();!f.done;f=i.next()){f=f.value;var c=cn(f,"presentationTime",Se)||0,l=cn(f,"duration",Se)||0;c=Math.max((c-s)/o+t,t);l=c+l/o;null!=e&&(c=Math.min(c,t+e),l=Math.min(l,t+e));l<r||(f={Jd:u,value:a,startTime:c,endTime:l,id:f.attributes.id||"",H3:De(f),j3:Ce(f)},n.v.By(f))}}function rw(t,e,i,r,u){var a,o,s,f;return sn(function(n){if(1==n.i)return a=oa,o=u?0:1,s=pc(e,i,r,t.i.Uf),an(n,aw(t,s,a,{type:o}),2);f=n.h;return n.A(f.data)})}function uw(n,t){t=$i(n,t);return cr(t)?z:n.split("/")[0]}function aw(n,t,e,i){i||(i={});i.Vl=n.Tl();t=n.v.yg.request(e,t,i);$u(n.Cl,t);return t.promise}function ow(n){var t=n.l.bM;if(!n.l.wM||!t||!n.I.length)return[];var e=Date.now()/1e3,i=n.I.filter(function(n){n=Se(n.attributes.ttl);return!n||t+n>e}).map(le).filter(br);return i.length?Xi(n.p,i):[]}t("shaka.dash.DashParser",Pp);ko["IM"]=function(){return new Pp};ko["NM"]=function(){return new Pp};function sw(){}t("shaka.dependencies",sw);sw.has=function(n){return lw.has(n)};sw.add=function(n,t){if(!cw[n])throw Error(n+" is not supported");n==fw?On("mux.js","mux.js is no longer used in Shaka Player."):lw.set(n,function(){return t})};var fw="muxjs",cw={PM:fw,RM:"ISOBoxer"};sw.DM=cw;var lw=new Map([["ISOBoxer",function(){return L.RM}]]);function hw(n,t,e){this.type=n;this.CM=t;this.aM=e||null}function dw(n,t,e,i){this.id=n;this.name=t;this.attributes=e;this.value=void 0===i?null:i}dw.prototype.toString=function(t){function n(n){return n.name+"="+(isNaN(Number(n.value))?'"'+n.value+'"':n.value)}var e="#"+this.name,i=this.attributes?this.attributes.filter(function(n){return t?!t.has(n.name):!0}).map(n):[];this.value&&i.unshift(this.value);0<i.length&&(e+=":"+i.join(","));return e};function vw(n,t){if(t)return n.toString();t=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI");return n.toString(t)}function mw(n,t){n=n.attributes.filter(function(n){return n.name==t});return n.length?n[0]:null}function V(n,t,e){return(n=mw(n,t))?n.value:e||null}function pw(n,t){n=mw(n,t);if(!n)throw new vt(2,4,4023,t);return n.value}function ww(n,t,e){e=void 0===e?[]:e;this.CM=t;this.i=n;this.lk=e}function gw(n,t){this.name=n;this.value=t}function bw(n,t){return n.filter(function(n){return n.name==t})}function yw(n,t){return n.filter(function(n){return pw(n,"TYPE")==t})}function Tw(n,t){n=lt(n);for(var e=n.next();!e.done;e=n.next())if(e=e.value,e.name===t)return e;return null}function Ew(n,t,e){e=void 0===e?0:e;return(n=Tw(n,t))?Number(n.value):e}function Sw(n,t,e){return t?Aw(n,[t],e):[]}function Aw(n,t,e){if(!t.length)return[];t=Xi(n,t);n=[];t=lt(t);for(var i=t.next();!i.done;i=t.next())n.push(kw(i.value,e));return n}function kw(n,t){if(!t||!t.size)return n;n=String(n).replace(/%7B/g,"{").replace(/%7D/g,"}");var e=n.match(/{\$\w*}/g);if(e){e=lt(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r=i.slice(2,i.length-1),u=t.get(r);if(u)n=n.replace(i,u);else throw new vt(2,4,4039,r)}}return n}function Mw(){this.i=0}function Iw(n,t){t=Xt(t);t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var e=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(e[0]))throw new vt(2,4,4015);t=0;for(var i=!0,r=lt(e),u=r.next();!u.done;u=r.next())if(u=u.value,/^#(?!EXT)/m.test(u)||i)i=!1;else if(u=Nw(n,u),--n.i,Pw.includes(u.name)){t=1;break}else"EXT-X-STREAM-INF"==u.name&&(i=!0);r=[];i=!0;for(u=0;u<e.length;u++){var a=e[u],o=e[u+1];if(/^#(?!EXT)/m.test(a)||i)i=!1;else{a=Nw(n,a);if(Rw.includes(a.name)){if(1!=t)throw new vt(2,4,4017);a=e.splice(u,e.length-u);e=[];i=[];u=[];o=null;a=lt(a);for(var s=a.next();!s.done;s=a.next())s=s.value,/^(#EXT)/.test(s)?(s=Nw(n,s),Pw.includes(s.name)?r.push(s):"EXT-X-MAP"==s.name?o=s:"EXT-X-PART"==s.name?u.push(s):"EXT-X-PRELOAD-HINT"==s.name?"PART"==V(s,"TYPE")?u.push(s):"MAP"==V(s,"TYPE")&&(s.name="EXT-X-MAP",o=s):i.push(s)):/^#(?!EXT)/m.test(s)||(s=s.trim(),o&&i.push(o),e.push(new ww(s,i,u)),i=[],u=[]);u.length&&(o&&i.push(o),e.push(new ww("",i,u)));return new hw(t,r,e)}r.push(a);"EXT-X-STREAM-INF"==a.name&&(a.attributes.push(new gw("URI",o)),i=!0)}}return new hw(t,r)}function Nw(n,t){n=n.i++;var e=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!e)throw new vt(2,4,4016,t);t=e[1];var i=e[2];e=[];var r;if(i){i=new zt(i);var u;(u=$t(i,/^([^,=]+)(?:,|$)/g))&&(r=u[1]);for(var a=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;u=$t(i,a);)e.push(new gw(u[1],u[2]||u[3])),Yt(i)}return new dw(n,t,e,r)}var Pw="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Rw="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP".split(" ");function Dw(){}function Cw(n){try{var t=_w(n);return ju({uri:n,yM:n,data:t.data,headers:{xg:t.contentType}})}catch(e){return Xu(e)}}function _w(n){var t=n.split(":");if(2>t.length||"data"!=t[0])throw new vt(2,1,1004,n);t=t.slice(1).join(":").split(",");if(2>t.length)throw new vt(2,1,1004,n);var e=t[0];n=L.decodeURIComponent(t.slice(1).join(","));t=e.split(";");e=t[0];var i=!1;1<t.length&&"base64"==t[t.length-1]&&(i=!0,t.pop());var r;i?r=xi(n):r=Vt(n);return{data:r,contentType:e}}t("shaka.net.DataUriPlugin",Dw);Dw.parse=Cw;Ju("data",Cw);function Lw(){var n=this;this.i=this.h=null;this.P=1;this.p=new Map;this.N=new Map;this.Nl=new Map;this.Nl.set("video",new Map);this.Nl.set("audio",new Map);this.Nl.set(z,new Map);this.Nl.set("image",new Map);this.yy=new Set;this.g=new Map;this.l=null;this.Pl="";this.Pd=new Mw;this.R=-1;this.Ml=Infinity;this.Tl=this.sy=this.Cd=!1;this.C=new S(function(){if(n.kl&&!n.i.aw&&(n.Rl.Y(n.kl,"timeupdate"),n.kl.paused)){n.Rl.W(n.kl,"timeupdate",function(){return O2(n)});return}O2(n)});this.Rd=q2;this.m=null;this.Od=0;this.o=Infinity;this.Ld=this.xd=this.El=0;this.Dl=new Yu;this.I=new Map;this.D=new Map;this._d=new Map;this.yl=new Map;this.Il=new Map;this.Af=new Map;this.Ud=new Map;this.uy=this.Sl=!1;this.hy=new mn(5);this.v=null;this.Cl=!0;this.Dd=new Set;this.Rl=new Mn;this.s=this.kl=null;this.Ay=function(){return!1}}n=Lw.prototype;n.B=function(n,t){var e=this.h&&n.Cw.Rw!=this.i.Cw.Rw&&0<=n.Cw.Rw;this.i=n;t&&(this.Ay=t);this.v&&this.v.B(this.i);e&&this.m&&this.m.xv.D1()&&this.C.Fi()};n.start=function(t,e){var i=this,r;return sn(function(n){return 1==n.i?(i.h=e,i.Sl=e.Xy(),an(n,L2(i,[t]).promise,2)):3!=n.i?(r=n.h,i.Pl=r.uri,an(n,Xw(i,r.data,t),3)):n.A(i.m)})};n.stop=function(){this.C&&(this.C.stop(),this.C=null);var n=[];this.Dl&&(n.push(this.Dl.su()),this.Dl=null);this.i=this.h=null;this.yy.clear();this.m=null;this.g.clear();this.N.clear();this.D.clear();this.p.clear();this._d.clear();this.yl.clear();this.Il.clear();this.Af.clear();this.Ud.clear();this.Dd.clear();this.v&&this.v.su();this.Rl&&(this.Rl.release(),this.Rl=null);return Promise.all(n)};n.update=function(){var t=this,e,i,r,u,a,o,s,f,c,l,h,d;return sn(function(n){if(1==n.i){if(!x2(t))return n.A();e=[];i=Array.from(t.g.values());t.o=Infinity;t.m.R3=0;r=i.filter(function(n){return n.stream.jo});u=lt(r);for(a=u.next();!a.done;a=u.next())o=a.value,e.push(xw(t,o));return an(n,Promise.all(e),2)}c2(t,r.map(function(n){return n.stream}));s=r.some(function(n){return 0==n._M});r.length&&!s&&(f=z2,U2(t,f.LM),c=r.map(function(n){return n.OM}),t.l.o1(Math.min.apply(Math,ht(c))),t.h.fp());s&&jw(t);l=lt(r);for(h=l.next();!h.done;h=l.next())d=h.value,d.stream.Hd||!d.stream.jo||Df(d.stream.jo)||t.h.Mp(d.stream);on(n)})};function Ow(n,t){return x2(n)?n.Nl.get(t.type):t.xM}function xw(t,e){var i,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_,L,O,x,U;return sn(function(n){switch(n.i){case 1:if(e.stream.Hd)return n.A();i=[];r=lt(e.xh());for(u=r.next();!u.done;u=r.next())a=u.value,o=new wi(a),s=o.i,e.UM&&(0<=e.FM&&s.add("_HLS_msn",String(e.FM)),0<=e.BM&&s.add("_HLS_part",String(e.BM))),e.XM&&s.add("_HLS_skip","YES"),Ci(s)&&Ti(o,s),i.push(o.toString());q(n,2);return an(n,L2(t,i,!0).promise,4);case 4:f=n.h;K(n,3);break;case 2:throw c=W(n),t.h&&t.h.Mp(e.stream),c;case 3:if(!e.stream.jo)return n.A();l=Iw(t.Pd,f.data);if(1!=l.type)throw new vt(2,4,4017);h=f.uri;h==f.yM||e.xh().includes(h)||e.HM.push(h);d=bw(l.CM,"EXT-X-DEFINE");v=Gw(t,d,h);m=e.stream;p=Ow(t,e);return an(n,w2(t,l,m.mimeType,e.xh,v),5);case 5:w=n.h;g=w.Pi;b=w.vo;y=function(n,t){return n.size===t.size&&[].concat(ht(n)).every(function(n){return t.has(n)})};y(m.Pi,g)||(m.Pi=g,m.vo=b,t.h.Vy(m));T=N2(t,l,p,v,e.xh,e.type);E=T.aM;if(S=T.ga)m.ga=S;A=fc(m);k=lt(E);for(M=k.next();!M.done;M=k.next())I=M.value,I.Wh&&(I.Wh.Bh=A);m.jo.Yv(E,t.l.X1());E.length&&(N=Ew(l.CM,"EXT-X-MEDIA-SEQUENCE",0),R=(P=Tw(l.CM,"EXT-X-SKIP"))?Number(V(P,"SKIPPED-SEGMENTS")):0,D=m2(N,E),C=D.FM,_=D.BM,e.FM=C+R,e.BM=_,L=p.get(N),m.jo.$v(L));if(O=Df(m.jo))e.jM=O.startTime,x=E[E.length-1],e.OM=x.endTime;if(U=Tw(l.CM,"EXT-X-ENDLIST"))e._M=!0;T2(t,l);I2(t,l.CM,m.type,v,e.xh);on(n)}})}n.ph=function(){};n.Jy=function(){};n.s4=function(n){this.v&&this.v.s4(n)};n.ps=function(n){this.kl=n};function Uw(n,t,e){e=void 0===e?!1:e;for(var i=-1==n.R,r=lt(t),u=r.next();!u.done;u=r.next()){u=u.value;var a=u.stream.jo,o=Ow(n,u);if(a=Df(a)){o=lt(o);for(var s=o.next();!s.done;s=o.next()){s=lt(s.value);var f=s.next().value;if(s.next().value==a.startTime){i&&(n.R=Math.max(n.R,f));u.VM=f;break}}}}if(!(0>n.R))for(t=lt(t),i=t.next();!i.done;i=t.next())if(i=i.value,h2(n,i.type)||e)if(r=i.stream.jo)if(u=n.R-i.VM,0<u&&(r.i.splice(0,u),r=Df(r)))r=-r.startTime,i.stream.jo.offset(r),Bw(n,i,r)}function Fw(n,t){if(Infinity==n.Ml){t=lt(t);for(var e=t.next();!e.done;e=t.next())e=Df(e.value.stream.jo),null!=e&&null!=e.h&&(n.Ml=Math.min(n.Ml,e.h))}t=n.Ml;if(Infinity!=t){e=lt(n.g.values());for(var i=e.next();!i.done;i=e.next())if(i=i.value,!h2(n,i.type)){var r=i.stream.jo;if(null!=r){var u=Df(r);if(u)if(null==u.h)bn("Missing EXT-X-PROGRAM-DATE-TIME for stream",i.xh(),"Expect AV sync issues!");else for(Bw(n,i,u.h-t-u.startTime),i=lt(r),r=i.next();!r.done;r=i.next())r.value.l0(t)}}}}function Bw(n,t,e){t.jM+=e;t.OM+=e;n=Ow(n,t);for(var i=lt(n),r=i.next();!r.done;r=i.next()){var u=lt(r.value);r=u.next().value;u=u.next().value;n.set(r,u+e)}t.xh()}function Xw(t,e,i){var r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_,L,O,x;return sn(function(n){switch(n.i){case 1:r=Ki;u=Iw(t.Pd,e);a=bw(u.CM,"EXT-X-DEFINE");o=[];s=[];f=[];t.l=new ln(null,0);t.l.T1(!0);c=function(){return[i]};l=null;h=new Map;if(1==u.type)return t.Cl=!1,T=bw(u.CM,"EXT-X-DEFINE"),h=Gw(t,T,t.Pl),l=r.Fu,E="",S=new Map,an(n,v2(t,t.P++,h,u,c,"",l,E,!0,"Media Playlist",null,S,null,!1,null,!1),7);Vw(t,a);d=bw(u.CM,"EXT-X-MEDIA");v=bw(u.CM,"EXT-X-STREAM-INF");m=bw(u.CM,"EXT-X-IMAGE-STREAM-INF");p=bw(u.CM,"EXT-X-I-FRAME-STREAM-INF");w=bw(u.CM,"EXT-X-SESSION-KEY");g=bw(u.CM,"EXT-X-SESSION-DATA");b=bw(u.CM,"EXT-X-CONTENT-STEERING");Kw(t,g);return an(n,Ww(t,b),4);case 4:return qw(t,v),i2(t,d),y=Jw(t,p),an(n,Zw(t,v,w,d,c,t.p,y),5);case 5:return o=n.h,s=zw(t,d),an(n,$w(t,m,p),6);case 6:f=n.h;n.k(3);break;case 7:A=n.h,t.g.set(i,A),A.stream&&(k=fc(A.stream),A.stream.jo.Wv(function(n){n.Wh&&(n.Wh.Bh=k)})),l=A.stream.type,o.push({id:0,language:kr(E||"und"),Ko:0,Io:!0,Vu:"audio"==l?A.stream:null,Gu:"video"==l?A.stream:null,ga:A.stream.ga||0,Go:!0,qo:!0,wa:[]});case 3:if(!t.h)throw new vt(2,7,7001);b2(t,u);1==u.type&&(x2(t)&&(E2(t,u),M=t.o,t.C.Ui(M)),I=Array.from(t.g.values()),l2(t,I),jw(t),I2(t,u.CM,l,h,c));t.m={xv:t.l,ma:o,ha:s,yo:f,qa:[],Uv:0,qm:t.i.Cw.qm,sp:t.i.Cw.sp,type:"HLS",t4:null,e4:null,P3:1,R3:0,Sp:!1,startTime:t.s};if(t.Tl||!t.i.Cw.Xw){n.k(8);break}N=[];P=lt(t.m.ma);for(R=P.next();!R.done;R=P.next())D=R.value,D.Vu&&""===D.Vu.va&&N.push(D.Vu.Fd()),D.Gu&&""===D.Gu.va&&N.push(D.Gu.Fd());return an(n,Promise.all(N),8);case 8:t.h.Fy(t.m);if(1==o.length){C=[];_=o[0];L=lt([_.Gu,_.Vu]);for(O=L.next();!O.done;O=L.next())(x=O.value)&&!x.jo&&C.push(x.Fd());if(0<C.length)return an(n,Promise.all(C),0)}n.k(0)}})}function Hw(f,c){var l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_;return sn(function(n){switch(n.i){case 1:l=cc(f.i.Cw.Fw);if(!c.length)return n.A(l);h=D2(f,c);d=h.Yf;v=h.jo;m=d.xh();p=m[0];w=new wi(p);g=w.Eu.split(".").pop();if(b=H2[g])return n.A(cc(b));y=oa;E=T=null;S=d.Wh;if(!S){n.k(2);break}A=pc(S.xh(),S.jh(),S.Vh(),f.i.Uf);return an(n,F2(f,A,y,{type:0}).promise,3);case 3:k=n.h;T=k.data;if(!S.Hh){n.k(4);break}return an(n,mc(T,S.Hh,0),5);case 5:T=n.h;case 4:(E=k.headers["xg"])&&(E=E.split(";")[0].toLowerCase());case 2:return M=pc(d.xh(),d.jh(),d.Vh(),f.i.Uf),an(n,F2(f,M,y,{type:1}).promise,6);case 6:I=n.h;N=I.data;if(!d.Hh){n.k(7);break}return an(n,mc(N,d.Hh,v),8);case 8:N=n.h;case 7:(P=I.headers["xg"])&&(P=P.split(";")[0].toLowerCase());R="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" ");D=["audio/mp4","video/mp4","video/iso.segment"];if(ys(dt(N))){var t=N,e=f.i.Jp,i=f.i.Zp;e=void 0===e?!1:e;i=void 0===i?!1:i;var r=dt(t);r=(new vs).parse(r);var u=r.vd();r=r.wd();var a=[],o=!1,s=!1;if(!e)switch(u.Vu){case"aac":case"aac-loas":a.push("mp4a.40.2");o=!0;break;case"mp3":a.push("mp4a.40.34");o=!0;break;case"ac3":a.push("ac-3");o=!0;break;case"ec3":a.push("ec-3");o=!0;break;case"opus":a.push("opus"),o=!0}if(!i)switch(u.Gu){case"avc":r.J0?a.push(r.J0):a.push("avc1.42E01E");s=!0;break;case"hvc":r.J0?a.push(r.J0):a.push("hvc1.1.6.L93.90");s=!0;break;case"av1":a.push("av01.0.01M.08"),s=!0}if(a.length){e=o&&!s;i=new Map;if(s){s=new zn("video/mp2t");s.g(t);t=lt(s.v());for(u=t.next();!u.done;u=t.next())u=u.value,i.set(u,u);s.i()}r={type:e?"audio":"video",mimeType:"video/mp2t",va:a.join(", "),language:null,height:r.height,width:r.width,channelCount:null,sampleRate:null,Rm:i,Z0:null,ho:null,La:r.La}}else r=null;if(C=r)return n.A(C)}else if(R.includes(g)||D.includes(P)||E&&D.includes(E))if(_=lc(T,N))return n.A(_);return P?n.A(cc(P)):E?n.A(cc(E)):n.A(l)}})}function jw(n){if(x2(n)){if(n.Rd==W2){for(var t=Infinity,e=Infinity,i=lt(n.g.values()),r=i.next();!r.done;r=i.next())r=r.value,r.stream.jo&&"text"!=r.stream.type&&!r.stream.Hd&&(t=Math.min(t,r.OM),e=Math.min(e,r.jM));t=t-e||0;isNaN(n.i.Qp)||(t=n.i.Qp);n.l.E1(t)}}else n.l.o1(f2(n));if(!n.l.s)for(t=lt(n.g.values()),e=t.next();!e.done;e=t.next())e=e.value,!e.stream.jo||"audio"!=e.type&&"video"!=e.type||(e=Df(e.stream.jo))&&e.h&&n.l.O1(e.h);n.l._1()}function Vw(n,t){var e=new wi(n.Pl).i;t=lt(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=V(r,"NAME");var u=V(r,"VALUE");r=V(r,"QUERYPARAM");i&&u&&(n.p.has(i)||n.p.set(i,u));r&&(i=e.get(r)[0])&&!n.p.has(i)&&n.p.set(r,i)}}function Gw(n,t,e){e=new wi(e).i;var i=new Map;t=lt(t);for(var r=t.next();!r.done;r=t.next()){var u=r.value,a=V(u,"NAME"),o=V(u,"VALUE");r=V(u,"QUERYPARAM");u=V(u,"IMPORT");a&&o&&(i.has(a)||i.set(a,o));r&&(a=e.get(r)[0])&&!i.has(a)&&i.set(r,a);u&&(r=n.p.get(u))&&i.set(u,r)}return i}function qw(n,t){t=lt(t);for(var e=t.next();!e.done;e=t.next()){var i=e.value,r=V(i,"AUDIO");e=V(i,"VIDEO");var u=V(i,"SUBTITLES");i=t2(n,i);if(u){var a=Gi(z,i);n.D.set(u,a);tt(i,a)}r&&(u=Gi("audio",i),u||(u=n.i.Cw.Lw),n.D.set(r,u));e&&(r=Gi("video",i),r||(r=n.i.Cw.Ow),n.D.set(e,r))}}function Kw(n,t){t=lt(t);for(var e=t.next();!e.done;e=t.next()){var i=e.value,r=V(i,"DATA-ID");e=V(i,"URI");var u=V(i,"LANGUAGE");i=V(i,"VALUE");r=(new Map).set("id",r);e&&r.set("uri",Sw([n.Pl],e,n.p)[0]);u&&r.set("language",u);i&&r.set("value",i);e=new A("sessiondata",r);if(n.h)n.h.uh(e)}}function Ww(t,e){var i,r,u,a,o,s;return sn(function(n){if(!t.h||!t.i)return n.A();r=lt(e);for(u=r.next();!u.done;u=r.next())if(a=u.value,o=V(a,"PATHWAY-ID"),s=V(a,"SERVER-URI"),o&&s){t.v=new Fm(t.h);t.v.B(t.i);t.v.g=[t.Pl];t.v.Kd("HLS");t.v.h=o;i=Bm(t.v,s);break}return an(n,i,0)})}function zw(e,n){var t=yw(n,"SUBTITLES");n=t.map(function(n){if(e.i.nw)return null;try{return r2(e,[n],new Map).stream}catch(t){if(e.i.Cw.Ap)return null;throw t}});t=lt(t);for(var i=t.next();!i.done;i=t.next()){var r=pw(i.value,"GROUP-ID");if(i=e.D.get(r))if(r=e.N.get(r)){r=lt(r);for(var u=r.next();!u.done;u=r.next())u=u.value,u.stream.va=i,u.stream.mimeType=P2(z,i)||R2(z),Yw(u.stream)}}return n.filter(function(n){return n})}function Yw(t){var e=new Set([$i(t.mimeType,t.va)]);t.jo&&t.jo.Wv(function(n){n.mimeType&&e.add($i(n.mimeType,t.va))});t.uo=e}function $w(u,t,e){var i,r;return sn(function(n){if(1==n.i)return i=t.map(function(t){var e,i,r;return sn(function(n){if(1==n.i){if(e=u.i.tw)return n.A(null);q(n,2);return an(n,u2(u,t),4)}if(2!=n.i)return i=n.h,n.A(i.stream);r=W(n);if(u.i.Cw._w)return n.A(null);throw r})}).concat(e.map(function(n){if(u.i.tw)return null;try{var t=a2(u,n);return"image"!==t.stream.type?null:t.stream}catch(CE){if(u.i.Cw._w)return null;throw CE}})),an(n,Promise.all(i),2);r=n.h;return n.A(r.filter(function(n){return n}))})}function Qw(n,t,e){t=t.filter(function(n){var t=V(n,"URI")||"";n=V(n,"TYPE");return"SUBTITLES"!=n&&(""!=t||"AUDIO"==n)});var i={};t=lt(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;var u=vw(r,!n.v);i[u]?i[u].push(r):i[u]=[r]}for(var a in i)r2(n,i[a],e,!1)}function Jw(t,n){return n.map(function(n){n=a2(t,n);return"video"!==n.stream.type?null:n.stream}).filter(function(n){return n})}function Zw(t,U,e,F,i,r,B){var u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_,L,X,H,O,j,x;return sn(function(n){switch(n.i){case 1:u=[];a=new Set;if(!(0<e.length)){n.k(2);break}o=lt(e);s=o.next();case 3:if(s.done){n.k(2);break}f=s.value;c=pw(f,"METHOD");l=V(f,"KEYFORMAT")||"identity";h=null;if("NONE"==c){n.k(4);break}if(B2(c)){d=Sw(i(),pw(f,"URI"),r);v=d.sort().join("");t.Il.has(v)||(m=na(d,t.i.Uf),p=F2(t,m,6).promise,t.Il.set(v,p));n.k(4);break}if("identity"!=l){h=(w=G2[l])?w(f,""):null;n.k(6);break}return an(n,X2(t,f,"",i,null,r),9);case 9:h=n.h;case 6:if(h){if(h.Pi)for(g=lt(h.Pi),b=g.next();!b.done;b=g.next())y=b.value,a.add(y);u.push(h)}case 4:s=o.next();n.k(3);break;case 2:T={};E=lt(U);for(S=E.next();!S.done;S=E.next())A=S.value,k=vw(A,!t.v),T[k]?T[k].push(A):T[k]=[A];M=[];for(I in T)N=T[I],P=N[0],R=V(P,"FRAME-RATE"),D=Number(V(P,"AVERAGE-BANDWIDTH"))||Number(pw(P,"BANDWIDTH")),C=V(P,"RESOLUTION"),_=lt(C?C.split("x"):[null,null]),L=_.next().value,X=_.next().value,H=V(P,"VIDEO-RANGE"),(O=V(P,"REQ-VIDEO-LAYOUT"))&&O.includes(",")&&(j=O.split(",").filter(function(n){return"CH-STEREO"==n||"CH-MONO"==n}),O=j[0]),O=O||"CH-MONO",x=n2(t,N,F),M.push.apply(M,ht(e2(t,x.Vu,x.Gu,D,L,X,R,H,O,u,a,B)));return n.A(M.filter(function(n){return null!=n}))}})}function n2(n,t,e){for(var i={Vu:[],Gu:[]},r=new Map,u=[],a=!1,o=!1,s=lt(t),f=s.next();!f.done;f=s.next()){var c=f.value;f=V(c,"AUDIO");var l=V(c,"VIDEO"),h=f||l;h&&(u.includes(h)||u.push(h),(c=V(c,"PATHWAY-ID"))&&r.set(h,c),f?a=!0:l&&(o=!0))}u.length&&e.length&&(e=e.filter(function(n){return u.includes(pw(n,"GROUP-ID"))}),Qw(n,e,r));e=(r=u.sort().join(","))&&n.N.has(r)?n.N.get(r):[];a?i.Vu.push.apply(i.Vu,ht(e)):o&&i.Gu.push.apply(i.Gu,ht(e));a=!1;var d=t.map(function(n){return pw(n,"URI")});f=i.Vu.find(function(n){return n&&n.xh().find(function(n){return d.includes(n)})});o=t2(n,t[0]);e=Gi("video",o);(s=Gi("audio",o))&&!e?(f="audio",a=0<i.Vu.length):!i.Vu.length&&!i.Gu.length&&s&&e?(f="video",o=[[e,s].join()]):i.Vu.length&&f?(f="audio",a=!0):f=i.Gu.length&&!i.Vu.length?"audio":"video";a||(n=o2(n,t,o,f),r&&(n.stream.groupId=r),i[n.stream.type]=[n]);return i}function t2(n,t){var e=V(t,"CODECS")||"";t=V(t,"SUPPLEMENTAL-CODECS");n.Tl=0<e.length;n.Tl||n.i.Cw.Xw||(e=[],n.i.Zp||e.push(n.i.Cw.Ow),n.i.Jp||e.push(n.i.Cw.Lw),e=e.join(","));n=e.split(/\s*,\s*/);t&&(t=t.split(/\s*,\s*/).map(function(n){return n.split("/")[0]}),n.push.apply(n,ht(t)));return hc(n)}function e2(n,t,e,i,r,u,a,o,s,f,c,l){for(var h=lt(e),d=h.next();!d.done;d=h.next())_2(d.value.stream,r,u,a,o,s,null);r=n.i.Jp;if(!t.length||r)t=[null];r=n.i.Zp;if(!e.length||r)e=[null];r=[];t=lt(t);for(u=t.next();!u.done;u=t.next())for(u=u.value,a=lt(e),o=a.next();!o.done;o=a.next()){var v=o.value;if(o=u?u.stream:null)o.vo=f,o.Pi=c;if(s=v?v.stream:null)s.vo=f,s.Pi=c,n.i.ew||au(s,l);s&&!o&&(s.ga=i);!s&&o&&(o.ga=i);h=u?u.stream.vo:null;d=v?v.stream.vo:null;v=v?v.xh().sort().join(","):"";var m=u?u.xh().sort().join(","):"";v=v+" - "+m;o&&s&&!at(h,d)||n.yy.has(v)||(o={id:n.P++,language:o?o.language:"und",Ko:0,Io:!!o&&o.Io||!!s&&s.Io,Vu:o,Gu:s,ga:i,Go:!0,qo:!0,wa:[]},r.push(o),n.yy.add(v))}return r}function i2(n,t){t=yw(t,"CLOSED-CAPTIONS");n.Cl=0==t.length;t=lt(t);for(var e=t.next();!e.done;e=t.next()){var i=e.value,r=V(i,"LANGUAGE");e=kr(r||"und");r||(r=V(i,"NAME"))&&(e=r);r=pw(i,"GROUP-ID");i=pw(i,"INSTREAM-ID").replace("SERVICE","svc");n.I.get(r)||n.I.set(r,new Map);n.I.get(r).set(i,e)}}function r2(n,t,e,i){i=void 0===i?!0:i;for(var r=[],u=[],a=new Map,o=lt(t),s=o.next();!s.done;s=o.next()){var f=s.value;s=i?pw(f,"URI"):V(f,"URI")||"shaka://hls-muxed";f=pw(f,"GROUP-ID");r.push(s);u.push(f);a.set(f,s)}i=u.sort().join(",");s=t[0];t="";o=pw(s,"TYPE").toLowerCase();"subtitles"==o&&(o=z);if(o==z)t=V(s,"CODECS")||"";else for(u=lt(u),f=u.next();!f.done;f=u.next())if(f=f.value,n.D.has(f)){t=n.D.get(f);break}u=r.sort().join(",");if(n.g.has(u))return n.g.get(u);f=n.P++;if(n.v){a=lt(a);for(var c=a.next();!c.done;c=a.next()){var l=lt(c.value);c=l.next().value;l=l.next().value;(c=e.get(c))&&jm(n.v,f,c,l)}}e=V(s,"LANGUAGE");a=V(s,"NAME");c="YES"==V(s,"DEFAULT");"audio"==o?l=(l=V(s,"CHANNELS"))?parseInt(l.split("/")[0],10):null:l=null;var h="audio"==o?(h=V(s,"CHANNELS"))?h.includes("/JOC"):!1:!1;var d=V(s,"CHARACTERISTICS"),v="YES"==V(s,"FORCED");"audio"==o?s=(s=V(s,"SAMPLE-RATE"))?parseInt(s,10):null:s=null;r=s2(n,f,r,t,o,e,c,a,l,null,d,v,s,h);r.stream&&(r.stream.groupId=i);n.N.has(i)?n.N.get(i).push(r):n.N.set(i,[r]);n.g.set(u,r);return r}function u2(t,e){var i,r,u,a,o,s,f,c,l,h;return sn(function(n){if(1==n.i){i=pw(e,"URI");r=V(e,"CODECS","jpeg")||"";if(t.g.has(i))return n.A(t.g.get(i));u=V(e,"LANGUAGE");a=V(e,"NAME");o=V(e,"CHARACTERISTICS");s=s2(t,t.P++,[i],r,"image",u,!1,a,null,null,o,!1,null,!1);return(f=V(e,"RESOLUTION"))?an(n,s.stream.Fd(),3):n.k(2)}2!=n.i&&(c=Df(s.stream.jo),l=c.Co)&&(s.stream.width=Number(f.split("x")[0])*Number(l.split("x")[0]),s.stream.height=Number(f.split("x")[1])*Number(l.split("x")[1]));if(h=V(e,"BANDWIDTH"))s.stream.ga=Number(h);t.g.set(i,s);return n.A(s)})}function a2(n,t){var e="video",i=pw(t,"URI"),r=V(t,"CODECS")||"";"mjpg"==r&&(e="image");if(n.g.has(i))return n.g.get(i);var u=V(t,"LANGUAGE"),a=V(t,"NAME"),o=V(t,"CHARACTERISTICS");e=s2(n,n.P++,[i],r,e,u,!1,a,null,null,o,!1,null,!1);r=V(t,"RESOLUTION");u=lt(r?r.split("x"):[null,null]);r=u.next().value;u=u.next().value;e.stream.width=Number(r)||void 0;e.stream.height=Number(u)||void 0;if(t=V(t,"BANDWIDTH"))e.stream.ga=Number(t);n.g.set(i,e);return e}function o2(n,t,e,i){for(var r=n.P++,u=[],a=lt(t),o=a.next();!o.done;o=a.next()){var s=o.value;o=pw(s,"URI");s=V(s,"PATHWAY-ID");n.v&&s&&jm(n.v,r,s,o);u.push(o)}a=u.sort().join(",");if(n.g.has(a))return n.g.get(a);n:{t=V(t[0],"CLOSED-CAPTIONS");if("video"==i){if(n.i.nw){n.Cl=!1;t=null;break n}if(t){if("NONE"!=t){t=n.I.get(t);break n}n.Cl=!1}else if(!t&&n.I.size)for(t=lt(n.I.keys()).next();!t.done;){t=n.I.get(t.value);break n}}t=null}e=Vi(i,e);i=s2(n,r,u,e,i,null,!1,null,null,t,null,!1,null,!1);n.g.set(a,i);return i}function s2(k,n,t,M,I,N,P,R,D,C,_,L,O,x){function e(t){var e,i,r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A;return sn(function(n){switch(n.i){case 1:return e=Ki,q(n,2),i=X.xh(),an(n,t.promise,4);case 4:r=n.h;if(t.aborted)return n.A();u=r.uri;u==r.yM||i.includes(u)||B.push(u);a=Iw(k.Pd,r.data);if(1!=a.type)throw new vt(2,4,4017);o=bw(a.CM,"EXT-X-DEFINE");s=Gw(k,o,u);f=!1;(!k.Tl&&k.i.Cw.Xw||k.Cl&&I==e.Fu&&!k.i.Cw.Hw)&&0<a.aM.length&&(k.Cl=!1,f=!0);c=!k.Tl&&k.i.Cw.Xw;l=x2(k);return an(n,v2(k,0,s,a,U,M,I,N,P,R,D,C,_,L,O,x,void 0,f,c),5);case 5:h=n.h;if(t.aborted)return n.A();d=h.stream;b2(k,a);x2(k)&&!l&&E2(k,a);X.jM=h.jM;X.OM=h.OM;X.XM=h.XM;X.UM=h.UM;X._M=h._M;X.xM=h.xM;X.FM=h.FM;X.BM=h.BM;X.GM=!0;F.jo=d.jo;F.Za=d.Za;F.vo=d.vo;F.Pi=d.Pi;F.mimeType=d.mimeType;F.ga=F.ga||d.ga;F.va=F.va||d.va;F.Rm=F.Rm||d.Rm;F.width=F.width||d.width;F.height=F.height||d.height;F.Ku=F.Ku||d.Ku;F.ho=F.ho||d.ho;F.La=F.La||d.La;"und"==F.language&&"und"!=d.language&&(F.language=d.language);F.language=F.language||d.language;F.ba=F.ba||d.ba;F.ya=F.ya||d.ya;Yw(F);F.vo.length&&k.h.Vy(F);v=!1;if(!C&&F.Rm||C&&F.Rm&&C.size!=F.Rm.size)v=!0;k.m&&v&&k.h.Fy(k.m);if(I==e.Fu||I==e.Bu)for(m=lt(k.g.values()),p=m.next();!p.done;p=m.next())w=p.value,w.GM||w.type!=I||(w.stream.mimeType=d.mimeType,Yw(w.stream));I==e.Xu&&(g=Df(d.jo))&&g.Wh&&(F.mimeType="application/mp4",Yw(F));b=fc(F);F.jo.Wv(function(n){n.Wh&&(n.Wh.Bh=b)});d2(k)&&(k.sy?l2(k,[X]):(k.sy=!0,y=Array.from(k.g.values()),T=y.filter(function(n){return n.stream.jo}),l2(k,T),jw(k),E=k.o,0<E&&k.C.Ui(E)));I2(k,a.CM,F.type,s,U);k.m&&(k.m.startTime=k.s);K(n,0);break;case 2:S=W(n);F.Qm();if(7001===S.code)return n.A();A=k.h.Mp(F);if(!A)throw S;on(n)}})}function U(){return k.v&&1<t.length?Vm(k.v,n):B.concat(Aw([k.Pl],t,k.p))}var F=p2(k,M,I,N,P,R,D,C,_,L,O,x);t.includes("shaka://hls-muxed")&&(F.Hd=!0,F.mimeType="video/mp2t",Yw(F));var B=[],X={stream:F,type:I,HM:B,xh:U,jM:0,OM:0,xM:new Map,XM:!1,UM:!1,_M:!1,VM:-1,FM:-1,BM:-1,GM:!1},i=null,r;F.Fd=function(){if(i)return i;if(F.Hd)return F.jo=new Y([]),Promise.resolve();r=L2(k,X.xh(),!0);return i=new Promise(function(n){n(e(r))})};F.Qm=function(){i&&!F.jo&&r.abort();F.jo&&(F.jo.release(),F.jo=null);i=null};return X}function f2(n){var t=Infinity;n=lt(n.g.values());for(var e=n.next();!e.done;e=n.next())e=e.value,e.stream.jo&&"text"!=e.stream.type&&!e.stream.Hd&&(t=Math.min(t,e.OM));return t}function c2(n,t){var e=[];t=lt(t);for(var i=t.next();!i.done;i=t.next())i=i.value,i.jo&&i.jo.Wv(function(n){e.push(n)});n.l.P1(e)}function l2(n,t){if(!x2(n))for(var e=f2(n),i=lt(t),r=i.next();!r.done;r=i.next())r.value.stream.jo.Qv(0,e);c2(n,t.map(function(n){return n.stream}));i=Array.from(n.g.values()).filter(function(n){return n.stream.jo});e=i.some(function(n){return"audio"==n.stream.type});r=i.some(function(n){return"video"==n.stream.type});i=x2(n)&&!n.Cd;e=!x2(n)&&n.Cd&&!(e&&r);n.i.Cw.xw||i||e?Uw(n,t,i):(Fw(n,t),0<n.i.Cw.Uw.length&&Uw(n,t))}function h2(n,t){return n.i.Cw.xw?!0:n.i.Cw.Uw.includes(t)}function d2(n){if(!n.m)return!1;var t=[],e=[];n=lt(n.m.ma);for(var i=n.next();!i.done;i=n.next())i=i.value,i.Gu&&t.push(i.Gu),i.Vu&&e.push(i.Vu);return 0<t.length&&!t.some(function(n){return n.jo})||0<e.length&&!e.some(function(n){return n.jo})?!1:!0}function v2(t,n,e,i,r,u,a,o,U,F,s,f,B,X,c,H,l,h,d){h=void 0===h?!0:h;d=void 0===d?!0:d;var v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_,L,j,O,V,G,q,x,K,W;return sn(function(n){switch(n.i){case 1:v=i.aM||[];m=v.every(function(n){return Tw(n.CM,"EXT-X-GAP")?!0:!1});if(!v.length||m)throw new vt(2,4,4053);y2(t,i);x2(t)&&T2(t,i);p=x2(t)?t.Nl.get(a):new Map;w=N2(t,i,p,e,r,a);g=w.aM;b=w.ga;A=S=E=T=y=null;if(!(0<g.length&&h)){n.k(2);break}return an(n,Hw(t,g),3);case 3:k=n.h,a=k.type,o=k.language,s=k.channelCount,c=k.sampleRate,t.i.nw||(f=k.Rm),T=k.height,y=k.width,E=k.Z0,S=k.ho,A=k.La,d&&(l=k.mimeType,u=k.va);case 2:if(l){n.k(4);break}return an(n,C2(t,a,u,g),5);case 5:l=n.h,a!=z||u||"application/mp4"!=l||!g[0]||g[0].Wh||(l="text/vtt");case 4:return an(n,w2(t,i,l,r,e),6);case 6:M=n.h;I=M.vo;N=M.Pi;P=M.Za;R=M.qM;if(P&&!I.length&&!R)throw new vt(2,4,4026);D=p2(t,u,a,o,U,F,s,f,B,X,c,H);D.Za=P;D.vo=I;D.Pi=N;D.mimeType=l;b&&(D.ga=b);Yw(D);"video"==a&&(y||T||E||S)&&_2(D,y,T,A,E,null,S);x2(t)&&T2(t,i);C=g[0].startTime;_=g[g.length-1];L=_.endTime;j=new Y(g);D.jo=j;V=(O=Tw(i.CM,"EXT-X-SERVER-CONTROL"))?null!=mw(O,"CAN-SKIP-UNTIL"):!1;G=O?null!=mw(O,"CAN-BLOCK-RELOAD"):!1;q=Ew(i.CM,"EXT-X-MEDIA-SEQUENCE",0);x=m2(q,g);K=x.FM;W=x.BM;return n.A({stream:D,type:a,HM:[],xh:r,jM:C,OM:L,XM:V,UM:G,_M:!1,VM:-1,FM:K,BM:W,xM:p,GM:!1})}})}function m2(n,t){n=n+t.length-1;var e=-1;if(!t.length)return n++,{FM:n,BM:e};t=t[t.length-1];var i=t.i;if(!t.i.length)return n++,t.m&&(e=0),{FM:n,BM:e};e=i.length-1;i[i.length-1].Vl()||(n++,e=0);return{FM:n,BM:e}}function p2(n,t,e,i,r,u,a,o,s,f,c,l){var h=P2(e,t)||R2(e),d=[];if(s){s=lt(s.split(","));for(var v=s.next();!v.done;v=s.next())d.push(v.value)}s=void 0;v=null;e==z?s=d.includes("public.accessibility.transcribes-spoken-dialog")&&d.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":d.includes("public.accessibility.describes-video")&&(v="visually impaired");d.length||"subtitle"!==s||d.push("subtitle");n={id:n.P++,Ho:u,groupId:null,Fd:function(){return Promise.resolve()},jo:null,mimeType:h,va:t,kind:e==z?"subtitle":void 0,Za:!1,vo:[],Pi:new Set,language:kr(i||"und"),Xo:i,label:u,type:e,Io:r,Wo:null,Yd:null,La:void 0,To:void 0,width:void 0,height:void 0,ga:void 0,Ta:d,Po:f,ba:a,ya:c,"do":l,Rm:o,Ku:void 0,ho:void 0,Eo:void 0,Co:void 0,Bo:v,external:!1,Ea:!1,uo:new Set,Hd:!1};Yw(n);return n}function w2(t,e,i,r,u){var a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_;return sn(function(n){switch(n.i){case 1:a=new Map;if(e.aM)for(o=lt(e.aM),s=o.next();!s.done;s=o.next())if(f=s.value,c=bw(f.CM,"EXT-X-KEY"),l=null,c.length)for(l=S2(t,e,f.CM,r,u),h=lt(c),d=h.next();!d.done;d=h.next())v=d.value,a.set(v,l);p=m=!1;w=[];g=new Set;b=lt(a);y=b.next();case 2:if(y.done){n.k(4);break}T=y.value;E=lt(T);S=E.next().value;A=E.next().value;k=S;M=A;I=pw(k,"METHOD");if("NONE"==I){n.k(3);break}m=!0;N=V(k,"KEYFORMAT")||"identity";P=null;if(B2(I)){p=!0;n.k(3);break}if("identity"!=N){P=(R=G2[N])?R(k,i):null;n.k(6);break}return an(n,X2(t,k,i,r,M,u),8);case 8:P=n.h;case 6:if(P){if(P.Pi)for(D=lt(P.Pi),C=D.next();!C.done;C=D.next())_=C.value,g.add(_);w.push(P)}case 3:y=b.next();n.k(2);break;case 4:return n.A({vo:w,Pi:g,Za:m,qM:p})}})}function g2(o,s,n,f,c){if(!L.crypto||!L.crypto.subtle)throw M("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new vt(2,4,4042);var t=0,e=V(s,"IV","");if(e){var i=Ui(e.substr(2));if(16!=i.byteLength)throw new vt(2,4,4048)}else t=Ew(n.CM,"EXT-X-MEDIA-SEQUENCE",0);n=s.toString()+"-"+t;if(!o.yl.has(n)){var l={MM:128,Om:"CBC",_m:i,Lm:t};switch(pw(s,"METHOD")){case"AES-256":l.MM=256;break;case"AES-256-CTR":l.MM=256,l.Om="CTR"}l.Cm=function(){var t,e,i,r,u,a;return sn(function(n){if(1==n.i)return t=Sw(f(),pw(s,"URI"),c),e=t.sort().join(""),o.Il.has(e)||(i=na(t,o.i.Uf),r=F2(o,i,6).promise,o.Il.set(e,r)),an(n,o.Il.get(e),2);if(3!=n.i){u=n.h;if(!u.data||u.data.byteLength!=l.MM/8)throw new vt(2,4,4049);a={name:"CTR"==l.Om?"AES-CTR":"AES-CBC",length:l.MM};return an(n,L.crypto.subtle.importKey("raw",u.data,a,!0,["decrypt"]),3)}l.Dm=n.h;l.Cm=void 0;on(n)})};o.yl.set(n,l)}return o.yl.get(n)}function b2(n,t){null==n.s&&(t=Tw(t.CM,"EXT-X-START"))&&(n.s=Number(pw(t,"TIME-OFFSET")))}function y2(n,t){var e=Tw(t.CM,"EXT-X-PLAYLIST-TYPE");t=Tw(t.CM,"EXT-X-ENDLIST");t=e&&"VOD"==e.value||t;e=e&&"EVENT"==e.value&&!t;e=!t&&!e;t?U2(n,q2):e?U2(n,W2):U2(n,K2)}function T2(n,t){var e=Infinity,i=t.aM;if(i.length)for(var r=i.length-1;0<=r;){var u=Tw(i[r].CM,"EXTINF");if(u){e=Number(u.value.split(",")[0]);break}r--}i=Tw(t.CM,"EXT-X-TARGETDURATION");if(!i)throw new vt(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value);if(r=Tw(t.CM,"EXT-X-PART-INF"))n.El=Number(pw(r,"PART-TARGET"));t=Tw(t.CM,"EXT-X-SERVER-CONTROL");n.Sl&&n.El?(n.o=n.uy?5*n.El<=e?Math.min(n.El,n.o):Math.min(e,n.o):Math.min(n.El,n.o),n.Ld=t?Number(pw(t,"PART-HOLD-BACK")):0):(n.o=Math.min(e,n.o),e=t?mw(t,"HOLD-BACK"):null,n.xd=e?Number(e.value):0);n.Od=Math.max(i,n.Od)}function E2(n,t){var e=0;if(n.i.iw)e=n.i.iw;else if(n.Ld)e=n.Ld;else if(n.xd)e=n.xd;else{var i=t.aM.length,r=n.i.Cw.Bw;r>i-2&&(r=Math.max(1,i-2));for(r=i-r;r<i;r++){var u=Tw(t.aM[r].CM,"EXTINF");e=u?e+Math.ceil(Number(u.value.split(",")[0])):e+n.Od}}n.s&&0>n.s&&(e=Math.min(-n.s,e),n.s+=e);n.l.w1(0);n.l.A1(e);n.l.T1(!1)}function S2(n,t,e,i,r){var u=Tw(e,"EXT-X-MAP");if(!u)return null;var a=pw(u,"URI"),o=Sw(i(),a,r);a=[o.toString(),V(u,"BYTERANGE","")].join("-");if(!n._d.has(a)){var s=void 0,f=null;e=lt(e);for(var c=e.next();!c.done;c=e.next())c=c.value,"EXT-X-KEY"==c.name?B2(pw(c,"METHOD"))&&c.id<u.id&&(s=g2(n,c,t,i,r)):"EXT-X-BYTERANGE"==c.name&&c.id<u.id&&(f=c);t=A2(o,u,f,s);n._d.set(a,t)}return n._d.get(a)}function A2(n,t,e,i){var r=0,u=null;t=V(t,"BYTERANGE");!t&&e&&(t=e.value);t&&(r=t.split("@"),u=Number(r[0]),r=Number(r[1]),u=r+u-1,i&&(e=u+1-r,e%16&&(u+=16-e%16)));return new Ro(function(){return n},r,u,null,null,null,i)}function k2(n,t,e,i,r,u,a,o,s){function f(n){n=new wi(n).Eu.split(".").pop();var t=j2[a][n];t||(t=H2[n]);return t}var c=i.CM,l=Tw(c,"EXTINF"),h=0,d=0,v=null;i.lk.length&&(n.m.Sp=!0);var m=null;if(!n.i.Cw.xw){var p=Tw(c,"EXT-X-PROGRAM-DATE-TIME");p&&p.value&&(m=ge(p.value),n.Cd=!0)}var w=_o;Tw(c,"EXT-X-GAP")&&(n.m.R3++,w=2);if(!l){if(0==i.lk.length)throw new vt(2,4,4024,"EXTINF");if(!n.Sl)return null}var g=[];p=!1;var b=null,y=!1,T=!1;if(n.Sl&&i.lk.length){h=t&&L.ReadableStream&&n.i.Cw.jw;for(var E=m,S={},A=0;A<i.lk.length;S={KM:void 0,WM:void 0},A++){var k=i.lk[A],M=0==A?e:g[g.length-1],I=0==A?r:M.endTime,N=Number(V(k,"DURATION"))||n.El;if(N){var P=I+N,R=0,D=null;"EXT-X-PRELOAD-HINT"==k.name?(R=(R=V(k,"BYTERANGE-START"))?Number(R):0,(M=V(k,"BYTERANGE-LENGTH"))?D=R+Number(M)-1:R&&(D=Number.MAX_SAFE_INTEGER)):(R=V(k,"BYTERANGE"),D=lt(M2(M,R)),R=D.next().value,D=D.next().value);S.WM=V(k,"URI");if(S.WM){M=_o;"YES"==V(k,"GAP")&&(n.m.R3++,M=2,y=!0);S.KM=null;var C=function(n){return function(){null==n.KM&&(n.KM=Sw(o(),n.WM,u));return n.KM}}(S);h&&0<=R&&null!=D&&(b=C,p=!0);I=new O(I,P,C,R,D,t,0,0,Infinity,[],"",null,E,M,s);"EXT-X-PRELOAD-HINT"==k.name&&(I.e0(),T=!0);"YES"!=V(k,"INDEPENDENT")&&0<A&&I.i0();if(S=f(S.WM))I.mimeType=S,V2.has(S)&&(I.Wh=null);g.push(I);E&&(E+=N)}}}}if(l){l=Number(l.value.split(",")[0]);if(0==l)return null;h=r+l}else if(g.length)h=g[g.length-1].endTime;else return null;p&&(y||0!=g[0].Uh?(p=!1,b=null):g=[]);(l=Tw(c,"EXT-X-BYTERANGE"))?(v=lt(M2(e,l.value)),d=v.next().value,v=v.next().value):g.length&&(d=g[0].Uh,v=g[g.length-1].Fh);e="";l=null;"image"==a&&(e="1x1",c=Tw(c,"EXT-X-TILES"))&&(e=pw(c,"LAYOUT"),(c=V(c,"DURATION"))&&(l=Number(c)));var _=null;t=new O(r,h,function(){if(b)return b();null==_&&(_=Sw(o(),i.i,u));return _||[]},d,v,t,0,0,Infinity,g,e,l,m,w,s,0<g.length&&!!i.i);if(r=f(i.i))t.mimeType=r,V2.has(r)&&(t.Wh=null);p&&(n.uy=!0,t.o0(),T&&t.e0());return t}function M2(n,t){var e=0,i=null;t&&(e=t.split("@"),t=Number(e[0]),e=e[1]?Number(e[1]):n.Fh+1,i=e+t-1);return[e,i]}function I2(n,t,e,i,r){if("video"==e||"audio"==e){var u=n.l.m;if(u&&!h2(n,e))for(t=bw(t,"EXT-X-DATERANGE"),t=t.sort(function(n,t){n=pw(n,"START-DATE");t=pw(t,"START-DATE");return n<t?-1:n>t?1:0}),e=0;e<t.length;e++){var a=t[e];try{var o=pw(a,"ID");if(!n.Dd.has(o)){var s=pw(a,"START-DATE"),f=ge(s);if(!isNaN(f)){var c=Math.max(0,f-u),l=null,h=V(a,"END-DATE");if(h){var d=ge(h);if(!isNaN(d)&&(l=d-u,0>l))continue}if(null==l){var v=V(a,"DURATION")||V(a,"PLANNED-DURATION");if(v){var m=parseFloat(v);isNaN(m)||(l=c+m);if(0>f-u+m)continue}}var p=V(a,"CLASS")||"com.apple.quicktime.HLS",w="YES"==V(a,"END-ON-NEXT");if(null==l&&w){for(var g=e+1;g<t.length;g++){var b=V(t[g],"CLASS")||"com.apple.quicktime.HLS";if(p==b){var y=pw(t[g],"START-DATE"),T=ge(y);if(!isNaN(T)&&T&&T>f){l=Math.max(0,T-u);break}}}if(null==l)continue}g=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var E=[],S=lt(a.attributes),A=S.next();!A.done;A=S.next()){var k=A.value;if(!g.includes(k.name)){var M=kw(k.value,i);if("X-ASSET-URI"==k.name||"X-ASSET-LIST"==k.name)M=Sw(r(),k.value,i)[0];E.push({key:k.name,description:"",data:M,mimeType:null,F0:null})}}if(1<E.length)n.h.zd(p,c,l,E);n.Dd.add(o)}}}catch(I){}}}}function N2(n,t,e,i,r,u){var a=t.aM,o=void 0,s=Ew(t.CM,"EXT-X-DISCONTINUITY-SEQUENCE",-1),f=Ew(t.CM,"EXT-X-MEDIA-SEQUENCE",0),c=Tw(t.CM,"EXT-X-SKIP"),l=c?Number(V(c,"SKIPPED-SEGMENTS")):0,h=f+l,d=0;x2(n)&&e.has(h)&&(d=e.get(h));0===d&&n.Rd==W2&&0<e.size&&!e.has(h)&&null!=n.l.g&&(d=n.l.X1());var v=[],m=null;c=[];for(var p=0;p<a.length;p++){var w=a[p],g=0==p?d:m.endTime;h=f+l+p;Tw(w.CM,"EXT-X-DISCONTINUITY")&&s++;var b=lt(w.CM);for(var y=b.next();!y.done;y=b.next())y=y.value,"EXT-X-KEY"==y.name&&(B2(pw(y,"METHOD"))?o=g2(n,y,t,r,i):o=void 0);e.set(h,g);b=S2(n,t,w.CM,r,i);!n.Sl&&n.h.Hy()&&(n.h.jy(),n.Sl=n.h.Xy());if(g=k2(n,b,m,w,g,i,u,r,o))(m=Ew(w.CM,"EXT-X-BITRATE"))?c.push({oo:m,duration:g.endTime-g.startTime}):c.length&&(m=c.pop(),m.duration+=g.endTime-g.startTime,c.push(m)),m=g,g.g=s,h2(n,u)&&null!=n.R&&h<n.R||v.push(g)}t=void 0;c.length&&(t=c.reduce(function(n,t){return n+t.duration},0),t=Math.round(c.reduce(function(n,t){return n+t.oo*t.duration},0)/t*1e3));if(c=v.some(function(n){return null!=n.h}))for(e={},i=0;i<v.length;e={zM:void 0,YM:void 0,$M:void 0,QM:void 0,JM:void 0},i++)if(e.QM=v[i],null==e.QM.h)for(e.YM=0,e.zM=i,r=function(t){return function(){var n=v[t.zM];if(n){if(null!=n.h)return n.h+t.YM;t.YM-=n.endTime-n.startTime;t.zM+=1}return null}}(e),e.JM=0,e.$M=i,a=function(t){return function(){var n=v[t.$M];if(n){n!=t.QM&&(t.JM+=n.endTime-n.startTime);if(null!=n.h)return n.h+t.JM;--t.$M}return null}}(e);null==e.QM.h;)e.QM.h=a(),null==e.QM.h&&(e.QM.h=r());if(c)for(e=lt(v),i=e.next();!i.done;i=e.next())for(r=i.value,i=r.h,r=lt(r.i),a=r.next();!a.done;a=r.next())a=a.value,a.h=i,i+=a.endTime-a.startTime;e=n.Ml;if(c&&Infinity!=e&&!h2(n,u))for(n=lt(v),u=n.next();!u.done;u=n.next())u.value.l0(e);return{aM:v,ga:t}}function P2(n,t){if(n==z){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=n||t&&"jpeg"!=t?"audio"==n&&"mp4a.40.34"==t?"audio/mpeg":"mjpg"==t?"application/mp4":null:"image/jpeg"}function R2(n){return n==z?"text/vtt":j2[n].Ug}function D2(n,t){n=x2(n)?Math.trunc((t.length-1)/2):0;for(var e=t[n];2==e.n0()&&n+1<t.length;)n++,e=t[n];return{Yf:e,jo:n}}function C2(t,e,i,r){var u,a,o,s,f,c,l,h,d,v,m,p,w,g;return sn(function(n){switch(n.i){case 1:u=oa;a=D2(t,r);o=a.Yf;if(2==o.status)return n.A(R2(e));s=o.xh();f=new wi(s[0]);c=f.Eu.split(".").pop();l=j2[e];if((h=l[c])||(h=H2[c])||(h=P2(e,i)))return n.A(h);v=1;m=na(s,t.i.Uf);q(n,2);m.method="HEAD";return an(n,F2(t,m,u,{type:v}).promise,4);case 4:p=n.h;d=p.headers["xg"];K(n,3);break;case 2:w=W(n);if(!w||1002!=w.code&&1001!=w.code){n.k(3);break}m.method="GET";return an(n,F2(t,m,u,{type:v}).promise,6);case 6:g=n.h,d=g.headers["xg"];case 3:return d?n.A(d.toLowerCase().split(";")[0]):n.A(R2(e))}})}function _2(n,t,e,i,r,u,a){n&&(n.width=Number(t)||void 0,n.height=Number(e)||void 0,n.La=Number(i)||void 0,n.Ku=r||void 0,n.Eo=u||void 0,n.ho=a||void 0)}function L2(n,t,e){return F2(n,na(t,n.i.Uf),0,{type:e?2:3})}function O2(t){var e,i,r,u,a,o;return sn(function(n){switch(n.i){case 1:if(!t.h)return n.A();q(n,2);e=Date.now();return an(n,t.update(),4);case 4:i=Date.now();x2(t)&&(r=(i-e)/1e3,t.hy.sample(1,r),u=0<t.i.Cw.Rw?t.i.Cw.Rw:t.o,a=Math.max(0,u-pn(t.hy)),t.C.Ui(a));K(n,3);break;case 2:o=W(n);if(!t.h)return n.A();if(t.i.uw)return t.h.Al(o),n.A();o.kn=1;t.h.Al(o);t.C.Ui(.1);case 3:if(!t.h)return n.A();t.h.Gy();on(n)}})}function x2(n){return n.Rd!=q2}function U2(n,t){n.Rd=t;n.l&&n.l.T1(!x2(n));x2(n)||n.C.stop()}function F2(n,t,e,i){if(!n.Dl)throw new vt(2,7,7001);i||(i={});i.Vl=n.Ay();t=n.h.yg.request(e,t,i);$u(n.Dl,t);return t}function B2(n){return"AES-128"==n||"AES-256"==n||"AES-256-CTR"==n}function X2(t,e,i,r,u,a){var o,s,f,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){switch(n.i){case 1:if("video/mp2t"==i)throw new vt(2,4,4040);if(Ot())throw new vt(2,4,4041);o=pw(e,"METHOD");s=["SAMPLE-AES","SAMPLE-AES-CTR"];if(!s.includes(o))return n.A(null);f=Sw(r(),pw(e,"URI"),a);if(f[0].startsWith("data:text/plain;base64,")){c=Fi(xi(f[0].split("data:text/plain;base64,").pop()));n.k(2);break}l=f.sort().join("");t.Af.has(l)||(h=na(f,t.i.Uf),d=F2(t,h,6).promise,t.Af.set(l,d));return an(n,t.Af.get(l),3);case 3:v=n.h,c=Fi(v.data);case 2:m="00000000000000000000000000000000";if(!u){n.k(4);break}if(t.Ud.has(u)){p=t.Ud.get(u);n.k(5);break}w=pc(u.xh(),u.jh(),u.Vh(),t.i.Uf);g=oa;return an(n,F2(t,w,g,{type:0}).promise,6);case 6:b=n.h,p=vc(b.data),t.Ud.set(u,p);case 5:p&&(m=p);case 4:return y=new Map,y.set(m,c),T="cenc","SAMPLE-AES"==o&&(T="cbcs"),n.A(ji(y,T))}})}t("shaka.hls.HlsParser",Lw);var H2={Jg:"audio/aac",ZM:"audio/ac3",nI:"audio/ec3",Qg:"audio/mpeg"},j2={Vu:{Ug:"audio/mp4",tI:"audio/mp4",eI:"audio/mp4",iI:"audio/mp4",Bg:"audio/mp4",rI:"audio/mp4",uI:"audio/mp4",Vg:"video/mp2t",aI:"video/mp2t"},Gu:{Ug:"video/mp4",oI:"video/mp4",eI:"video/mp4",iI:"video/mp4",Fg:"video/mp4",rI:"video/mp4",sI:"video/mp4",Vg:"video/mp2t",fI:"video/mp2t"},text:{Ug:"application/mp4",eI:"application/mp4",iI:"application/mp4",rI:"application/mp4",cI:"application/mp4",ib:"text/vtt",rb:"text/vtt",ub:"application/ttml+xml"},oM:{fb:"image/jpeg",cb:"image/png",lb:"image/svg+xml",hb:"image/webp",vb:"image/avif"}},V2=new Set(["video/mp2t"].concat(ht(sr))),G2={lI:function(n,t){if("video/mp2t"==t)throw new vt(2,4,4040);if(Ot())throw new vt(2,4,4041);t=pw(n,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var e="cenc";"SAMPLE-AES"==t&&(e="cbcs");return Hi("com.apple.fps",e,[{initDataType:"sinf",initData:new Uint8Array(0),Ni:null}],pw(n,"URI"))},Ew:function(n){var t=pw(n,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var e="cenc";"SAMPLE-AES"==t&&(e="cbcs");t=pw(n,"URI");t=_w(t.split("?")[0]);t=dt(t.data);e=Hi("com.widevine.alpha",e,[{initDataType:"cenc",initData:t}]);if(n=V(n,"KEYID"))e.Pi=new Set([n.toLowerCase().substr(2)]);return e},hI:function(n){var t=pw(n,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var e="cenc";"SAMPLE-AES"==t&&(e="cbcs");n=pw(n,"URI");n=_w(n.split("?")[0]);n=dt(n.data);t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);n=Ra(n,t,new Set,0);return Hi("com.microsoft.playready",e,[{initDataType:"cenc",initData:n}])}},q2="VOD",K2="EVENT",W2="LIVE",z2={LM:q2,dI:K2,vI:W2};ko["mI"]=function(){return new Lw};ko["pI"]=function(){return new Lw};function Y2(n){var t=0,e=qn(n),i=e.getUint32(t,!0);if(i!=n.byteLength)return[];n:{n=t+6;for(t=[];n<e.byteLength-1;){i=e.getUint16(n,!0);n+=2;var r=e.getUint16(n,!0);n+=2;if(0!=(r&1)||r+n>e.byteLength){e=[];break n}var u=dt(e,n,r);t.push({type:i,value:u});n+=r}e=t}return e}function $2(n){if(n=Q2(n))n:{n=lt(he(n,"DATA"));for(var t=n.next();!t.done;t=n.next())if(t=de(t.value,"LA_URL")){n=ce(t);break n}n=""}else n="";return n}function Q2(n){n=xi(ce(n));n=Y2(n).filter(function(n){return n.type===J2})[0];if(!n)return null;n=Ht(n.value,!0);return(n=ue(n,"WRMHEADER"))?n:null}var J2=1,Z2=(new Map).set("com.microsoft.playready",$2).set("com.microsoft.playready.recommendation",$2).set("com.microsoft.playready.software",$2).set("com.microsoft.playready.hardware",$2);function ng(n){if(!cg){cg=!0;var t=new Uint8Array([105,115,111,109]),e=new Uint8Array([97,118,99,49]),i=new Uint8Array([0,0,0,1]);Eg=b("ftyp",t,i,t,e);t=b("dref",Sg);Ag=b("dinf",t)}this.i=n}function tg(n){for(var t=[],e=lt(n.i),i=e.next();!i.done;i=e.next()){var r=t,u=r.push;var a=i.value;i=b;var o=a.id+1;var s=a.stream.width||0,f=a.stream.height||0;"audio"==a.type&&(f=s=0);var c=a.duration*a.Xh,l=Math.floor(c/(lg+1));c=Math.floor(c%(lg+1));o=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(ht(sg(o,4)),[0,0,0,0],ht(sg(l,4)),ht(sg(c,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],ht(sg(s,2)),[0,0],ht(sg(f,2)),[0,0]));o=b("tkhd",o);s=b;l=a.duration*a.Xh;f=Math.floor(l/(lg+1));l=Math.floor(l%(lg+1));c=a.stream.language;c=c.charCodeAt(0)-96<<10|c.charCodeAt(1)-96<<5|c.charCodeAt(2)-96;f=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(ht(sg(a.Xh,4)),ht(sg(f,4)),ht(sg(l,4)),ht(sg(c,2)),[0,0]));f=b("mdhd",f);l=a;c=new Uint8Array([]);switch(l.type){case"video":c=dg;break;case"audio":c=vg}l=b("hdlr",c);n:{switch(a.type){case"video":a=b("minf",b("vmhd",bg),Ag,eg(a));break n;case"audio":a=b("minf",b("smhd",yg),Ag,eg(a));break n}a=new Uint8Array([])}a=s("mdia",f,l,a);i=i("trak",o,a);u.call(r,i)}t=Bi.apply(_i,ht(t));u=n.i[0];e=b;i=u.duration*u.Xh;r=Math.floor(i/(lg+1));i=Math.floor(i%(lg+1));r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(ht(sg(u.Xh,4)),ht(sg(r,4)),ht(sg(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]));r=b("mvhd",r);i=[];n=lt(n.i);for(s=n.next();!s.done;s=n.next())a=i,o=a.push,s=new Uint8Array([0,0,0,0].concat(ht(sg(s.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=b("trex",s),o.call(a,s);n=Bi.apply(_i,ht(i));n=b("mvex",n);i=[];if(u.Za){u=lt(u.stream.vo);for(a=u.next();!a.done;a=u.next())if(a=a.value,a.initData)for(a=lt(a.initData),o=a.next();!o.done;o=a.next())i.push(o.value.initData);u=Bi.apply(_i,ht(i))}else u=new Uint8Array([]);n=e("moov",r,t,n,u);t=new Uint8Array(Eg.byteLength+n.byteLength);t.set(Eg);t.set(n,Eg.byteLength);return t}function eg(n){var t=b,e=new Uint8Array([]);switch(n.type){case"video":if(n.va.includes("avc1")){e=n.stream.width||0;var i=n.stream.height||0;if(0<n.wI.byteLength)var r=b("avcC",n.wI);else{r=b;for(var u=7,a=[],o=[],s=0,f=0,c=0,l=0;l<n.gI.length;l++){var h=fg(n.gI[l]);switch(h[0]&31){case 7:a.push(h);u+=h.length+2;break;case 8:o.push(h),u+=h.length+2}}0<a.length&&(s=a[0][1],c=a[0][2],f=a[0][3]);u=new Uint8Array(u);l=0;u[l++]=1;u[l++]=s;u[l++]=c;u[l++]=f;u[l++]=255;u[l++]=224|a.length;for(s=0;s<a.length;s++)u[l++]=(a[s].length&65280)>>8,u[l++]=a[s].length&255,u.set(a[s],l),l+=a[s].length;u[l++]=o.length;for(a=0;a<o.length;a++)u[l++]=(o[a].length&65280)>>8,u[l++]=o[a].length&255,u.set(o[a],l),l+=o[a].length;r=r("avcC",u)}e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(ht(sg(e,2)),ht(sg(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]));i="avc1";o=ig(n);a=new Uint8Array([]);n.Za&&(a=ug(n),i="encv");e=b(i,e,r,o,a)}else n.va.includes("hvc1")&&(i=n.stream.width||0,r=n.stream.height||0,e=new Uint8Array([]),0<n.wI.byteLength&&(e=b("hvcC",n.wI)),i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(ht(sg(i,2)),ht(sg(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="hvc1",o=ig(n),a=new Uint8Array([]),n.Za&&(a=ug(n),r="encv"),e=b(r,i,e,o,a));break;case"audio":if(n.va.includes("mp3"))n=b(".mp3",rg(n));else if(n.va.includes("ac-3"))e=b("dac3",n.bI),i="ac-3",r=new Uint8Array([]),n.Za&&(r=ug(n),i="enca"),n=b(i,rg(n),e,r);else if(n.va.includes("ec-3"))e=b("dec3",n.bI),i="ec-3",r=new Uint8Array([]),n.Za&&(r=ug(n),i="enca"),n=b(i,rg(n),e,r);else if(n.va.includes("opus"))e=b("dOps",n.bI),i="Opus",r=new Uint8Array([]),n.Za&&(r=ug(n),i="enca"),n=b(i,rg(n),e,r);else{if(0<n.bI.byteLength)e=b("esds",n.bI);else{e=b;i=n.id+1;r=n.stream.ba||2;a=n.stream.ya||44100;s=Vi("audio",n.va.split(","));f={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};o=f[a];if("mp4a.40.5"===s||"mp4a.40.29"===s)o=f[2*a];a=parseInt(s.split(".").pop(),10);i=new Uint8Array([0,0,0,0,3,25].concat(ht(sg(i,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,a<<3|o>>>1,o<<7|r<<3,6,1,2]));e=e("esds",i)}i="mp4a";r=new Uint8Array([]);n.Za&&(r=ug(n),i="enca");n=b(i,rg(n),e,r)}e=n}n=b("stsd",Tg,e);return t("stbl",n,b("stts",mg),b("stsc",pg),b("stsz",gg),b("stco",wg))}function ig(n){if(!n.yI&&!n.TI)return new Uint8Array([]);var t=n.TI;n=new Uint8Array([].concat(ht(sg(n.yI,4)),ht(sg(t,4))));return b("pasp",n)}function rg(n){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n.stream.ba||2,0,16,0,0,0,0].concat(ht(sg(n.stream.ya||44100,2)),[0,0]))}function ug(n){var t=b;var e=n.va.substring(0,n.va.indexOf("."));for(var i=0,r=0;r<e.length;r+=1)i|=e.charCodeAt(r)<<8*(e.length-r-1);e=new Uint8Array([].concat(ht(sg(i,4))));e=b("frma",e);i=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]);i=b("schm",i);r=b;var u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);n=lt(n.stream.vo);for(var a=n.next();!a.done;a=n.next())if((a=a.value)&&a.Pi&&a.Pi.size){a=lt(a.Pi);for(var o=a.next();!o.done;o=a.next())u=fg(o.value)}n=new Uint8Array([0,0,0,0,0,0,1,8]);u=b("tenc",n,u);return t("sinf",e,i,r("schi",u))}function ag(n){var t=[];n=lt(n.i);for(var e=n.next();!e.done;e=n.next()){e=e.value;var i=t.push,r=i.apply;var u=b;var a=new Uint8Array([0,0,0,0].concat(ht(sg(e.data?e.data.EI:0,4))));a=b("mfhd",a);var o;var s=e.data?e.data.SI:[];var f=new Uint8Array(4+s.length);for(o=0;o<s.length;o++){var c=s[o].flags;f[o+4]=c.AI<<4|c.kI<<2|c.MI}s=b("sdtp",f);var l=s.length+92;f=b;o=new Uint8Array([0,0,0,58].concat(ht(sg(e.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]));o=b("tfhd",o);c=e.data?e.data.q0:0;var h=Math.floor(c%(lg+1));c=new Uint8Array([1,0,0,0].concat(ht(sg(Math.floor(c/(lg+1)),4)),ht(sg(h,4))));c=b("tfdt",c);var d=l;l=e.data?e.data.SI:[];h=l.length;var v=12+16*h,m=new Uint8Array(v);d+=8+v;m.set(["video"===e.type?1:0,0,15,1].concat(ht(sg(h,4)),ht(sg(d,4))),0);for(d=0;d<h;d++){var p=l[d];v=sg(p.duration,4);var w=sg(p.size,4),g=p.flags;p=sg(p.II,4);m.set([].concat(ht(v),ht(w),[g.NI<<2|g.AI,g.kI<<6|g.MI<<4|g.RI,g.DI&61440,g.DI&15],ht(p)),12+16*d)}l=b("trun",m);s=f("traf",o,c,l,s);u=u("moof",a,s);r.call(i,t,[u,og(e)])}return Bi.apply(_i,ht(t))}function og(n){n=(n.data?n.data.SI:[]).map(function(n){return n.data});n=Bi.apply(_i,ht(n));return b("mdat",n)}function sg(n,t){var e=[];for(--t;0<=t;t--)e.push(n>>8*t&255);return e}function fg(n){for(var t=new Uint8Array(n.length/2),e=0;e<n.length/2;e+=1)t[e]=parseInt(String(n[2*e]+n[2*e+1]),16);return t}function b(n){var t=Z.apply(1,arguments),e=hg[n];e||(e=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)],hg[n]=e);for(var i=8,r=t.length-1;0<=r;r--)i+=t[r].byteLength;r=new Uint8Array(i);r[0]=i>>24&255;r[1]=i>>16&255;r[2]=i>>8&255;r[3]=i&255;r.set(e,4);e=0;for(i=8;e<t.length;e++)r.set(t[e],i),i+=t[e].byteLength;return r}var cg=!1,lg=Math.pow(2,32)-1,hg={},dg=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),vg=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),mg=new Uint8Array([0,0,0,0,0,0,0,0]),pg=new Uint8Array([0,0,0,0,0,0,0,0]),wg=new Uint8Array([0,0,0,0,0,0,0,0]),gg=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),bg=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),yg=new Uint8Array([0,0,0,0,0,0,0,0]),Tg=new Uint8Array([0,0,0,0,0,0,0,1]),Eg=new Uint8Array([]),Sg=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ag=new Uint8Array([]);function kg(){var n=this;this.h=this.i=null;this.l=[];this.v=null;this.s=1;this.g=null;this.P=new mn(5);this.o=new S(function(){Mg(n)});this.C=new Yu;this.m=new Map;this.p=function(){return!1}}n=kg.prototype;n.B=function(n,t){this.i=n;t&&(this.p=t)};n.start=function(t,e){var i=this;return sn(function(n){if(1==n.i)return i.l=[t],i.h=e,an(n,Ig(i),2);if(!i.h)throw new vt(2,7,7001);return n.A(i.v)})};function Mg(t){var e;sn(function(n){switch(n.i){case 1:return q(n,2),an(n,Ig(t),4);case 4:K(n,3);break;case 2:e=W(n),t.h&&(e.kn=1,t.h.Al(e));case 3:if(!t.h)return n.A();on(n)}})}n.stop=function(){this.i=this.h=null;this.l=[];this.v=null;null!=this.o&&(this.o.stop(),this.o=null);this.m.clear();return this.C.su()};n.update=function(){var t=this,e;return sn(function(n){if(1==n.i)return q(n,2),an(n,Ig(t),4);if(2!=n.i)return K(n,0);e=W(n);if(!t.h||!e)return n.A();t.h.Al(e);on(n)})};n.ph=function(){};n.Jy=function(){};n.s4=function(){};n.ps=function(){};function Ig(b){var y,T,E,S,A,k,M;return sn(function(n){if(1==n.i)return y=na(b.l,b.i.Uf),T=b.h.yg,E=Date.now(),S=T.request(0,y,{type:5,Vl:b.p()}),$u(b.C,S),an(n,S.promise,2);A=n.h;if(!b.h)return n.A();A.uri&&!b.l.includes(A.uri)&&b.l.unshift(A.uri);var t=A.uri,e=A.data,i=b.i.Vw.Mw;if(i!=dl){On("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead.");e=Ip(e,"SmoothStreamingMedia");if(!e)throw new vt(2,4,4046,t);i(e);e=Vt(e.outerHTML)}var r=re(e,"SmoothStreamingMedia");if(!r)throw new vt(2,4,4046,t);t=b.i.Vw.Iw;t!=vl&&t(r);b.g||(b.g=new ln(null,0));if(t=cn(r,"IsLive",ke,!1))throw new vt(2,4,4047);b.g.T1(!t);i=cn(r,"TimeScale",Se,1e7);e=cn(r,"DVRWindowLength",Se);t&&(0===e||isNaN(e))&&(e=Infinity);var u=cn(r,"CanSeek",ke,!1);0===e&&u&&(e=Infinity);u=null;e&&0<e&&(u=e/i);t&&!isNaN(b.i.Qp)&&(u=b.i.Qp);null==u&&(u=Infinity);b.g.E1(u);e=cn(r,"Duration",Se,Infinity);t||b.g.o1(e/i);t={ma:[],ha:[],Xh:i,duration:e/i};var a;u=fn(r,"Protection");i=b.i.Vw.Gw;e=[];u=lt(u);for(a=u.next();!a.done;a=u.next())e=e.concat(fn(a.value,"ProtectionHeader"));if(e.length){u=[];for(a=0;a<e.length;a++){var o=e[a],s=o.attributes.SystemID.toLowerCase(),f=i[s];if(f){var c=Q2(o);if(c)n:{c=lt(he(c,"DATA"));for(var l=c.next();!l.done;l=c.next())if(l=de(l.value,"KID")){c=xi(ce(l));c=new Uint8Array([c[3],c[2],c[1],c[0],c[5],c[4],c[7],c[6]].concat(ht(c.slice(8))));c=Fi(c);break n}c=null}else c=null;l=xi(ce(o));s=Ui(s.replace(/-/g,""));s=[{initData:Ra(l,s,new Set,0),initDataType:"cenc",Ni:c}];s=Hi(f,"cenc",s);c&&s.Pi.add(c);if(f=Z2.get(f))s.Ri=f(o);u.push(s)}}i=u}else i=[];a=i;u=[];i=[];e=[];r=fn(r,"StreamIndex");r=lt(r);for(o=r.next();!o.done;o=r.next()){o=o.value;f=fn(o,"QualityLevel");s=t.Xh;c=t.duration;l=fn(o,"c");for(var h=[],d=0,v=0;v<l.length;++v){var m=l[v],p=l[v+1],w=cn(m,"t",Se),g=cn(m,"d",Se);m=cn(m,"r",Te);if(!g)break;w=null!=w?w:d;(m=m||0)&&m--;if(0>m)if(p){p=cn(p,"t",Se);if(null==p)break;else if(w>=p)break;m=Math.ceil((p-w)/g)-1}else{if(Infinity==c)break;else if(w/s>=c)break;m=Math.ceil((c*s-w)/g)-1}for(p=0;p<=m;++p)d=w+g,h.push({start:w/s,end:d/s,ck:w}),w=d}s=h;f=lt(f);for(c=f.next();!c.done;c=f.next())(c=Ng(b,o,c.value,s,a,t))&&("audio"!=c.type||b.i.Jp?"video"!=c.type||b.i.Zp?c.type!=z||b.i.nw||e.push(c):i.push(c):u.push(c))}r=[];u=lt(0<u.length?u:[null]);for(a=u.next();!a.done;a=u.next())for(a=a.value,o=lt(0<i.length?i:[null]),h=o.next();!h.done;h=o.next())f=r,s=f.push,c=b,l=a,h=h.value,v=0,l&&l.ga&&0<l.ga&&(v+=l.ga),h&&h.ga&&0<h.ga&&(v+=h.ga),c={id:c.s++,language:l?l.language:"und",Ko:0,Io:!!l&&l.Io||!!h&&h.Io,Vu:l,Gu:h,ga:v,Go:!0,qo:!0,wa:[]},s.call(f,c);t.ma=r;t.ha=e;b.v?(b.v.ma=t.ma,b.v.ha=t.ha,b.h.filter(b.v)):(b.v={xv:b.g,ma:t.ma,ha:t.ha,yo:[],qa:[],Uv:0,qm:b.i.Vw.qm,sp:!1,type:"MSS",t4:null,e4:null,P3:1,R3:0,Sp:!1,startTime:null},b.g._1());Promise.resolve();k=Date.now();M=(k-E)/1e3;b.P.sample(1,M);on(n)})}function Ng(t,e,n,i,r,u){var a=e.attributes.Type;if("audio"!==a&&"video"!==a&&"text"!==a)return M("Ignoring unrecognized type:",a),null;var o=e.attributes.Language,s=t.s++,f=cn(n,"Bitrate",Ee),c=cn(n,"MaxWidth",Ee),l=cn(n,"MaxHeight",Ee),h=cn(n,"Channels",Ee),d=cn(n,"SamplingRate",Ee),v=u.duration;i.length&&(v=i[i.length-1].end-i[0].start);var m=t.g.s1();t.g.o1(Math.min(v,m));var p={id:s,Ho:e.attributes.Name||String(s),groupId:null,Fd:function(){return Promise.resolve()},Qm:function(){return Promise.resolve()},jo:null,mimeType:"",va:"",La:void 0,To:void 0,ga:f||0,width:c||void 0,height:l||void 0,kind:"",Za:0<r.length,vo:r,Pi:new Set,language:kr(o||"und"),Xo:o,label:"",type:"",Io:!1,Wo:null,Yd:[],Ta:[],Po:!1,ba:h,ya:d,"do":!1,Rm:null,Ku:void 0,ho:void 0,Eo:void 0,Co:void 0,Qk:[],CI:{duration:v,Xh:u.Xh,_I:null},Bo:null,external:!1,Ea:!1,uo:new Set,Hd:!1};if(r=e.attributes.Subtype)(r=Lg[r])&&p.Ta.push(r),"main"===r&&(p.Io=!0);r=n.attributes.FourCC;if(null===r||""===r)r=e.attributes.FourCC;if(!r)if("audio"===a)r="AAC";else if("video"===a)return M('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!_g.includes(r.toUpperCase()))return M("Codec not supported:",r),null;n=Pg(n,a,r,p);p.CI._I=n;switch(a){case"audio":if(!n)return M("Quality unsupported without CodecPrivateData",a),null;p.type="audio";p.mimeType="mss/audio/mp4";p.va=Rg(r,n);break;case"video":if(!n)return M("Quality unsupported without CodecPrivateData",a),null;p.type="video";p.mimeType="mss/video/mp4";p.va=Dg(n);break;case"text":if(p.type=z,p.mimeType="application/mp4","TTML"===r||"DFXP"===r)p.va="stpp"}p.uo.add($i(p.mimeType,p.va));p.Fd=function(){if(p.jo)return Promise.resolve();if(t.m.has(p.id))var n=t.m.get(p.id);else n=[],"video"==p.type&&(n=p.CI._I.split("00000001").slice(1)),n={id:p.id,type:p.type,va:p.va,Za:p.Za,Xh:p.CI.Xh,duration:p.CI.duration,gI:n,bI:new Uint8Array([]),wI:new Uint8Array([]),yI:0,TI:0,data:null,stream:p},n=tg(new ng([n])),t.m.set(p.id,n);n=Cg(t,new Ro(function(){return[]},0,null,fc(p),p.CI.Xh,n),p,e,i);p.jo=new Y(n);return Promise.resolve()};p.Qm=function(){p.jo&&(p.jo.release(),p.jo=null)};return p}function Pg(n,t,e,i){if(n=n.attributes.CodecPrivateData)return n;if("audio"!==t)return null;t=i.ba||2;n=i.ya||44100;var r={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};i=r[n];if("AACH"===e)return e=new Uint8Array(4),n=r[2*n],e[0]=40|i>>1,e[1]=i<<7|t<<3|n>>1,e[2]=n<<7|8,e[3]=0,t=new Uint16Array(2),t[0]=(e[0]<<8)+e[1],t[1]=(e[2]<<8)+e[3],t[0].toString(16)+t[1].toString(16);e=new Uint8Array(2);e[0]=16|i>>1;e[1]=i<<7|t<<3;t=new Uint16Array(1);t[0]=(e[0]<<8)+e[1];return t[0].toString(16)}function Rg(n,t){var e=0;"AACH"===n&&(e=5);t?0===e&&(e=(parseInt(t.substr(0,2),16)&248)>>3):(e=2,"AACH"===n&&(e=5));return"mp4a.40."+e}function Dg(n){var t=/00000001[0-9]7/.exec(n);return t.length&&n?"avc1."+n.substr(n.indexOf(t[0])+10,6):""}function Cg(t,n,e,i,r){var u=i.attributes.Url.replace("{bitrate}",String(e.ga));i=[];r=lt(r);for(var a=r.next(),o={};!a.done;o={LI:void 0},a=r.next())o.LI=a.value,i.push(new O(o.LI.start,o.LI.end,function(n){return function(){return Xi(t.l,[u.replace("{start time}",String(n.LI.ck))])}}(o),0,null,n,0,0,e.CI.duration));return i}t("shaka.mss.MssParser",kg);var _g="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Lg={OI:"main",xI:"alternate",UI:"main"};ko["FI"]=function(){return new kg};function Og(n,t,e,i,r,u){if(200<=e&&299>=e&&202!=e)return{uri:r||i,yM:i,data:t,status:e,headers:n,Vf:!!n["x-shaka-from-cache"]};var a=null;try{a=jt(t)}catch(o){}throw new vt(401==e||403==e?2:1,1,1001,i,e,a,n,u,r||i)}function xg(){}function Ug(n,t,e,i,r,u){var a=new Gg;va(t.headers).forEach(function(n,t){a.append(t,n)});var o=new jg,s={BI:!1,XI:!1};n=Fg(n,e,{body:t.body||void 0,headers:a,method:t.method,signal:o.signal,credentials:t.xf?"include":void 0},s,i,r,t.Xf,u.Wf||0);n=new Bu(n,function(){s.BI=!0;o.abort();return Promise.resolve()});if(t=t.Uf.timeout){var f=new S(function(){s.XI=!0;o.abort()});f.Ui(t/1e3);n["finally"](function(){f.stop()})}return n}function Fg(t,e,i,r,o,u,s,f){var a,c,l,h,d,v,m,p,w,g,b,y,T;return sn(function(n){switch(n.i){case 1:return a=Hg,c=Vg,v=d=0,m=Date.now(),q(n,2),an(n,a(t,i),4);case 4:l=n.h;u(Bg(l.headers));if("HEAD"==i.method){n.k(5);break}p=l.clone().body.getReader();g=(w=l.headers.get("Content-Length"))?parseInt(w,10):0;b=function(u){function a(){var t,e,i,r;return sn(function(n){switch(n.i){case 1:return q(n,2),an(n,p.read(),4);case 4:t=n.h;K(n,3);break;case 2:return W(n),n.A();case 3:if(t.done){n.k(5);break}d+=t.value.byteLength;if(!s){n.k(5);break}return an(n,s(t.value),5);case 5:e=Date.now();i=d-v;if(100<e-m&&i>=f||t.done)r=t.done?0:g-d,o(e-m,i,r),v=d,m=e;t.done?u.close():(u.enqueue(t.value),a());on(n)}})}a()};new c({start:b});return an(n,l.arrayBuffer(),6);case 6:h=n.h;case 5:K(n,3);break;case 2:y=W(n);if(r.BI)throw new vt(1,1,7001,t,e);if(r.XI)throw new vt(1,1,1003,t,e);throw new vt(1,1,1002,t,y,e);case 3:return T=Bg(l.headers),n.A(Og(T,h,l.status,t,l.url,e))}})}function Bg(n){var e={};n.forEach(function(n,t){e[t.trim()]=n});return e}function Xg(){if(L.ReadableStream)try{new ReadableStream({})}catch(DE){return!1}else return!1;if(L.Response){if(!new Response("").body)return!1}else return!1;return!(!L.fetch||"polyfill"in L.fetch||!L.AbortController)}t("shaka.net.HttpFetchPlugin",xg);xg.isSupported=Xg;xg.parse=Ug;var Hg=L.fetch,jg=L.AbortController,Vg=L.ReadableStream,Gg=L.Headers;Xg()&&(Ju("http",Ug,2,!0),Ju("https",Ug,2,!0),Ju("blob",Ug,2,!0));function qg(){}function Kg(o,e,s,f,i,r){var c=new zg,l=Date.now(),h=0,n=new Promise(function(u,a){c.open(e.method,o,!0);c.responseType="arraybuffer";c.timeout=e.Uf.timeout;c.withCredentials=e.xf;c.onabort=function(){a(new vt(1,1,7001,o,s))};var t=!1;c.onreadystatechange=function(){if(2==c.readyState&&!t){var n=Wg(c);i(n);t=!0}};c.onload=function(n){var t=Wg(c),e=c.response;try{f(Date.now()-l,n.loaded-h,0);var i=Og(t,e,c.status,o,c.responseURL,s);u(i)}catch(r){a(r)}};c.onerror=function(n){a(new vt(1,1,1002,o,n,s))};c.ontimeout=function(){a(new vt(1,1,1003,o,s))};c.onprogress=function(n){var t=Date.now(),e=r.Wf||0,i=n.loaded-h;if(100<t-l&&i>=e||n.lengthComputable&&n.loaded==n.total)f(t-l,i,4==c.readyState?0:n.total-n.loaded),h=n.loaded,l=t};for(var n in e.headers)c.setRequestHeader(n.toLowerCase(),e.headers[n]);c.send(e.body)});return new Bu(n,function(){c.abort();return Promise.resolve()})}function Wg(n){var t=n.getAllResponseHeaders().trim().split("\r\n");n={};t=lt(t);for(var e=t.next();!e.done;e=t.next())e=e.value.split(": "),n[e[0].toLowerCase()]=e.slice(1).join(": ");return n}t("shaka.net.HttpXHRPlugin",qg);qg.parse=Kg;var zg=L.XMLHttpRequest;Ju("http",Kg,1,!0);Ju("https",Kg,1,!0);Ju("blob",Kg,1,!0);function Yg(n,t,e,i){this.i=n;this.g=t;this.groupId=e;this.h=i}function $g(n){var t=n.Gh();return t?Oi(t):n.xh().map(function(n){return"{"+encodeURI(n.split("#xywh=")[0])+"}"}).join("")+":"+n.Uh+":"+n.Fh}function Qg(n,t){return pc(n.i.xh(),n.i.Uh,n.i.Fh,t.Th.Uf)}function Jg(){this.i=this.v=this.g=0;this.h=new Map;this.l=0}function Zg(n,t){n.g+=t;var e=n.l;n.l++;n.h.set(e,t);return e}Jg.prototype.close=function(n,t){if(this.h.has(n)){var e=this.h.get(n);this.h["delete"](n);this.v+=e;this.i+=t}};function nb(n){return 0==n.g?0:n.v/n.g}function tb(n){var t=this;this.o=n;this.g=new Map;this.h=new ca(function(){return ib(t)["catch"](function(){})});this.v=[];this.m=function(){};this.l=function(){};this.i=new Jg}tb.prototype.su=function(){return this.h.su()};function eb(n,t,e){n.m=t;n.l=e}function ib(n){var t=n.v.map(function(n){return n()});n.v=[];return Promise.all(t)}function rb(s,n,f,c,l,h){la(s.h);var t=(s.g.get(n)||Promise.resolve()).then(function(){var t,e,i,r,u,a,o;return sn(function(n){if(1==n.i)return an(n,ob(s,f),2);t=n.h;if(s.h.i)throw new vt(2,9,7001);if(l)for(r in e=dt(t),i=new Pa(e),i.data)u=Number(r),a=i.data[u],o=i.i[u],s.l(a,o);s.i.close(c,t.byteLength);s.m(nb(s.i),s.i.i);return n.A(h(t))})});s.g.set(n,t)}function ub(i,n,r,u,a,o){la(i.h);var t=(i.g.get(n)||Promise.resolve()).then(function(){if(i.h.i)throw new vt(2,9,7001);if(a){var n=dt(r);n=new Pa(n);for(var t in n.data){var e=Number(t);i.l(n.data[e],n.i[e])}}i.i.close(u,r.byteLength);i.m(nb(i.i),i.i.i);return o(r)});i.g.set(n,t)}function ab(t){return sn(function(n){return 1==n.i?an(n,Promise.all(t.g.values()),2):n.A(t.i.i)})}function ob(t,e){var i,r,u,a;return sn(function(n){if(1==n.i)return i=oa,r=t.o.request(i,e),u=function(){return r.abort()},t.v.push(u),an(n,r.promise,2);a=n.h;tt(t.v,u);return n.A(a.data)})}function sb(n,t){var e=this;this.g=n;this.h=n.objectStore(t);this.i=new Fu;n.onabort=function(n){n.preventDefault();e.i.reject()};n.onerror=function(n){n.preventDefault();e.i.reject()};n.oncomplete=function(){e.i.resolve()}}sb.prototype.abort=function(){var e=this;return sn(function(n){if(1==n.i){try{e.g.abort()}catch(t){}q(n,2);return an(n,e.i,4)}if(2!=n.i)return K(n,0);W(n);on(n)})};function fb(t,r){return new Promise(function(e,n){var i=t.h.openCursor();i.onerror=n;i.onsuccess=function(){var t;return sn(function(n){if(1==n.i){if(null==i.result)return e(),n.A();t=i.result;return an(n,r(t.key,t.value,t),2)}t["continue"]();on(n)})}})}sb.prototype.store=function(){return this.h};sb.prototype.promise=function(){return this.i};function cb(n){this.h=n;this.i=[]}cb.prototype.su=function(){return Promise.all(this.i.map(function(n){return n.abort()}))};function lb(n,t){return hb(n,t,"readwrite")}function hb(n,t,e){e=n.h.transaction([t],e);var i=new sb(e,t);n.i.push(i);i.promise().then(function(){tt(n.i,i)},function(){tt(n.i,i)});return i}function db(n,t,e){this.h=new cb(n);this.g=t;this.i=e}n=db.prototype;n.su=function(){return this.h.su()};n.HI=function(){return!0};n.jI=function(){return mb(this.g)};n.VI=function(n,t){return pb(this,this.g,n,t)};n.GI=function(t){var e=this,i;return sn(function(n){if(1==n.i)return an(n,wb(e,e.g,t),2);i=n.h;return n.A(i.map(function(n){return e.qI(n)}))})};n.KI=function(){return mb(this.i)};n.WI=function(){return Promise.reject(new vt(2,9,9016,"Cannot modify values in "+this.i))};function vb(n,t,e){n=lb(n.h,n.i);var i=n.store();i.get(t).onsuccess=function(){i.put(e,t)};return n.promise()}n.zI=function(t,e){var n=lb(this.h,this.i),i=n.store();i.get(t).onsuccess=function(n){if(n=n.target.result)n.expiration=e,i.put(n,t)};return n.promise()};n.YI=function(n,t){return pb(this,this.i,n,t)};n.$I=function(t){var e=this,i;return sn(function(n){if(1==n.i)return an(n,wb(e,e.i,t),2);i=n.h;return n.A(Promise.all(i.map(function(n){return e.QI(n)})))})};n.JI=function(){var r=this,t,u;return sn(function(n){return 1==n.i?(t=hb(r.h,r.i,"readonly"),u=new Map,an(n,fb(t,function(t,e){var i;return sn(function(n){if(1==n.i)return an(n,r.QI(e),2);i=n.h;u.set(t,i);on(n)})}),2)):3!=n.i?an(n,t.promise(),3):n.A(u)})};n.qI=function(n){return n};n.QI=function(n){return Promise.resolve(n)};function mb(n){return Promise.reject(new vt(2,9,9011,"Cannot add new value to "+n))}n.add=function(t,e){var i=this,r,u,a,o,s,f,c;return sn(function(n){if(1==n.i){r=lb(i.h,t);u=r.store();a=[];o=lt(e);s=o.next();for(f={};!s.done;f={ZI:void 0},s=o.next())c=s.value,f.ZI=u.add(c),f.ZI.onsuccess=function(n){return function(){a.push(n.ZI.result)}}(f);return an(n,r.promise(),2)}return n.A(a)})};function pb(n,t,e,i){n=lb(n.h,t);t=n.store();e=lt(e);for(var r=e.next(),u={};!r.done;u={n5:void 0},r=e.next())u.n5=r.value,t["delete"](u.n5).onsuccess=function(n){return function(){return i(n.n5)}}(u);return n.promise()}function wb(t,e,i){var r,u,a,o,s,f,c;return sn(function(n){if(1==n.i){r=hb(t.h,e,"readonly");u=r.store();a={};o=[];s=lt(i);f=s.next();for(c={};!f.done;c={t5:void 0,e5:void 0},f=s.next())c.e5=f.value,c.t5=u.get(c.e5),c.t5.onsuccess=function(n){return function(){void 0==n.t5.result&&o.push(n.e5);a[n.e5]=n.t5.result}}(c);return an(n,r.promise(),2)}if(o.length)throw new vt(2,9,9012,"Could not find values for "+o);return n.A(i.map(function(n){return a[n]}))})}function gb(n){this.i=new cb(n)}gb.prototype.su=function(){return this.i.su()};gb.prototype.getAll=function(){var t=this,e,i;return sn(function(n){return 1==n.i?(e=hb(t.i,"session-ids","readonly"),i=[],an(n,fb(e,function(n,t){i.push(t)}),2)):3!=n.i?an(n,e.promise(),3):n.A(i)})};gb.prototype.add=function(n){var t=lb(this.i,"session-ids"),e=t.store();n=lt(n);for(var i=n.next();!i.done;i=n.next())e.add(i.value);return t.promise()};gb.prototype.remove=function(i){var t=this,e;return sn(function(n){return 1==n.i?(e=lb(t.i,"session-ids"),an(n,fb(e,function(n,t,e){i.includes(t.sessionId)&&e["delete"]()}),2)):an(n,e.promise(),0)})};function bb(){this.i=new Map}bb.prototype.su=function(){for(var n=[],t=lt(this.i.values()),e=t.next();!e.done;e=t.next())n.push(e.value.su());this.i.clear();return Promise.all(n)};bb.prototype.init=function(){var e=this;Ib.forEach(function(n,t){(n=n())&&e.i.set(t,n)});for(var n=[],t=lt(this.i.values()),i=t.next();!i.done;i=t.next())n.push(i.value.init());return Promise.all(n)};function yb(n){var i=null;n.i.forEach(function(n,e){n.i5().forEach(function(n,t){n.HI()||i||(i={path:{r5:e,u5:t},u5:n})})});if(i)return i;throw new vt(2,9,9013,"Could not find a cell that supports add-operations")}function Tb(n,i){n.i.forEach(function(n,e){n.i5().forEach(function(n,t){i({r5:e,u5:t},n)})})}function Eb(n,t,e){n=n.i.get(t);if(!n)throw new vt(2,9,9013,"Could not find mechanism with name "+t);t=n.i5().get(e);if(!t)throw new vt(2,9,9013,"Could not find cell with name "+e);return t}function Sb(n,t){n.i.forEach(function(n){t(n.a5())})}function Ab(n){var t=Array.from(n.i.keys());if(!t.length)throw new vt(2,9,9e3,"No supported storage mechanisms found");return n.i.get(t[0]).a5()}function kb(t){var e,i,r;return sn(function(n){return 1==n.i?(e=Array.from(t.i.values()),i=0<e.length,i||(r=Ib,r.forEach(function(n){(n=n())&&e.push(n)})),an(n,Promise.all(e.map(function(n){return n.o5()})),2)):i?n.k(0):an(n,Promise.all(e.map(function(n){return n.su()})),0)})}function Mb(n,t){Ib.set(n,t)}t("shaka.offline.StorageMuxer",bb);bb.unregister=function(n){Ib["delete"](n)};bb.register=Mb;bb.prototype.su=bb.prototype.su;var Ib=new Map;function Nb(){db.apply(this,arguments)}N(Nb,db);Nb.prototype.zI=function(t,e){var i=this,r,u,a;return sn(function(n){r=lb(i.h,i.i);u=r.store();a=new Fu;u.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,u.put(n),a.resolve()):a.reject(new vt(2,9,9012,"Could not find values for "+t))};return an(n,Promise.all([r.promise(),a]),0)})};Nb.prototype.QI=function(t){var e,i,r,u,a,o;return sn(function(n){if(1==n.i){e=[];for(i=0;i<t.TM.length;++i)r=i==t.TM.length-1?t.duration:t.TM[i+1].startTime,u=r-t.TM[i].startTime,a=Pb(t.TM[i],u),e.push(a);return an(n,Km(e),2)}o=n.h;return n.A({creationTime:0,s5:t.s5,duration:t.duration,size:t.size,expiration:null==t.expiration?Infinity:t.expiration,streams:o,f5:t.f5,Bf:t.Bf,c5:t.c5,qm:!1})})};function Pb(t,e){Cb(t);for(var n=lt(t.streams),i=n.next();!i.done;i=n.next());return t.streams.map(function(n){return Rb(n,t.startTime,e)})}function Rb(n,e,t){var i=n.initSegmentUri?Db(n.initSegmentUri):null,r=e+n.presentationTimeOffset,u=e+t;return{id:n.id,Ho:null,groupId:null,Io:n.Io,type:n.contentType,mimeType:n.mimeType,va:n.va,La:n.La,To:void 0,Ku:void 0,ho:void 0,Eo:void 0,kind:n.kind,language:n.language,Xo:n.language||null,label:n.label,width:n.width,height:n.height,l5:i,Za:n.Za,Pi:new Set([n.Ni]),aM:n.aM.map(function(n){var t=Db(n.uri);return{startTime:e+n.startTime,endTime:e+n.endTime,h5:t,l5:i,appendWindowStart:e,appendWindowEnd:u,timestampOffset:r,Co:"",mimeType:null,va:null,zh:null}}),rM:n.rM,Ta:[],Po:!1,ya:null,ba:null,"do":!1,Rm:null,Co:void 0,external:!1,Ea:!1,Hd:!1}}Nb.prototype.qI=function(n){return{data:n.data}};function Db(n){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(n))||(t=/^offline:segment\/([0-9]+)$/.exec(n)))return Number(t[1]);throw new vt(2,9,9004,"Could not parse uri "+n)}function Cb(n){var t=n.streams.filter(function(n){return"audio"==n.contentType});n=n.streams.filter(function(n){return"video"==n.contentType});if(!t.every(function(n){return n.rM})||!n.every(function(n){return n.rM})){for(var e=lt(t),i=e.next();!i.done;i=e.next())i.value.rM=[];e=lt(n);for(i=e.next();!i.done;i=e.next())i.value.rM=[];e=0;if(n.length&&!t.length){i=e++;for(var r=lt(n),u=r.next();!u.done;u=r.next())u.value.rM.push(i)}if(!n.length&&t.length)for(i=e++,r=lt(t),u=r.next();!u.done;u=r.next())u.value.rM.push(i);if(n.length&&t.length)for(t=lt(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=lt(n),u=r.next();!u.done;u=r.next()){u=u.value;var a=e++;i.rM.push(a);u.rM.push(a)}}}function _b(){db.apply(this,arguments)}N(_b,db);_b.prototype.QI=function(u){var a,o,s,f,c,l;return sn(function(n){if(1==n.i){a=[];for(o=0;o<u.TM.length;++o){s=o==u.TM.length-1?u.duration:u.TM[o+1].startTime;f=s-u.TM[o].startTime;for(var t=u.TM[o],e=[],i=lt(t.streams),r=i.next();!r.done;r=i.next())r=r.value,0!=r.rM.length&&e.push(Lb(r,t.startTime,t.startTime+f));c=e;a.push(c)}return an(n,Km(a),2)}l=n.h;return n.A({c5:u.c5,creationTime:0,Bf:u.Bf,duration:u.duration,expiration:null==u.expiration?Infinity:u.expiration,s5:u.s5,f5:u.f5,size:u.size,streams:l,qm:!1})})};function Lb(t,e,i){return{id:t.id,Ho:t.Ho,groupId:null,Io:t.Io,type:t.contentType,mimeType:t.mimeType,va:t.va,La:t.La,To:t.To,Ku:void 0,ho:void 0,Eo:void 0,kind:t.kind,language:t.language,Xo:t.language||null,label:t.label,width:t.width,height:t.height,Za:t.Za,Pi:new Set([t.Ni]),aM:t.aM.map(function(n){return{startTime:e+n.startTime,endTime:e+n.endTime,l5:t.l5,appendWindowStart:e,appendWindowEnd:i,timestampOffset:e-t.presentationTimeOffset,h5:n.h5,Co:"",mimeType:null,va:null,zh:null}}),rM:t.rM,Ta:[],Po:!1,ya:null,ba:null,"do":!1,Rm:null,Co:void 0,external:!1,Ea:!1,Hd:!1}}function Ob(){db.apply(this,arguments)}N(Ob,db);n=Ob.prototype;n.HI=function(){return!1};n.jI=function(n){return this.add(this.g,n)};n.KI=function(n){return this.add(this.i,n)};n.WI=function(n,t){return vb(this,n,t)};n.QI=function(n){null==n.expiration&&(n.expiration=Infinity);return Promise.resolve(n)};function xb(){this.m=this.v=this.g=this.h=this.i=this.l=null}n=xb.prototype;n.init=function(){var e=this,i=new Fu,r=!1,u=new S(function(){r=!0;i.reject(new vt(2,9,9017))});u.Ui(5);var a=L.indexedDB.open("shaka_offline_db",5);a.onsuccess=function(){if(!r){var n=a.result;e.l=n;var t=n.objectStoreNames;t=t.contains("manifest")&&t.contains("segment")?new Nb(n,"segment","manifest"):null;e.i=t;t=n.objectStoreNames;t=t.contains("manifest-v2")&&t.contains("segment-v2")?new _b(n,"segment-v2","manifest-v2"):null;e.h=t;t=n.objectStoreNames;t=t.contains("manifest-v3")&&t.contains("segment-v3")?new _b(n,"segment-v3","manifest-v3"):null;e.g=t;t=n.objectStoreNames;t=t.contains("manifest-v5")&&t.contains("segment-v5")?new Ob(n,"segment-v5","manifest-v5"):null;e.v=t;n=n.objectStoreNames.contains("session-ids")?new gb(n):null;e.m=n;u.stop();i.resolve()}};a.onupgradeneeded=function(){for(var n=a.result,t=lt(["segment-v5","manifest-v5","session-ids"]),e=t.next();!e.done;e=t.next())e=e.value,n.objectStoreNames.contains(e)||n.createObjectStore(e,{autoIncrement:!0})};a.onerror=function(n){r||(i.reject(new vt(2,9,9001,a.error)),u.stop(),n.preventDefault())};return i};n.su=function(){var t=this;return sn(function(n){switch(n.i){case 1:if(!t.i){n.k(2);break}return an(n,t.i.su(),2);case 2:if(!t.h){n.k(4);break}return an(n,t.h.su(),4);case 4:if(!t.g){n.k(6);break}return an(n,t.g.su(),6);case 6:if(!t.v){n.k(8);break}return an(n,t.v.su(),8);case 8:if(!t.m){n.k(10);break}return an(n,t.m.su(),10);case 10:t.l&&t.l.close(),on(n)}})};n.i5=function(){var n=new Map;this.i&&n.set("v1",this.i);this.h&&n.set("v2",this.h);this.g&&n.set("v3",this.g);this.v&&n.set("v5",this.v);return n};n.a5=function(){return this.m};n.o5=function(){var t=this;return sn(function(n){switch(n.i){case 1:if(!t.i){n.k(2);break}return an(n,t.i.su(),2);case 2:if(!t.h){n.k(4);break}return an(n,t.h.su(),4);case 4:if(!t.g){n.k(6);break}return an(n,t.g.su(),6);case 6:if(!t.v){n.k(8);break}return an(n,t.v.su(),8);case 8:return t.l&&t.l.close(),an(n,Ub(),10);case 10:return t.l=null,t.i=null,t.h=null,t.g=null,t.v=null,an(n,t.init(),0)}})};function Ub(){var t=new Fu,e=L.indexedDB.deleteDatabase("shaka_offline_db");e.onblocked=function(){};e.onsuccess=function(){t.resolve()};e.onerror=function(n){t.reject(new vt(2,9,9001,e.error));n.preventDefault()};return t}Mb("idb",function(){return(!St()||St()&&Ct())&&!bt()&&L.indexedDB?new xb:null});function Fb(n,t,e,i){this.i=n;this.g=t;this.h=e;this.l=i;this.v=["offline:",n,"/",t,"/",e,"/",i].join("")}Fb.prototype.r5=function(){return this.g};Fb.prototype.u5=function(){return this.h};Fb.prototype.key=function(){return this.l};Fb.prototype.toString=function(){return this.v};function Bb(n){n=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(n);if(null==n)return null;var t=n[1];if("manifest"!=t&&"segment"!=t)return null;var e=n[2];if(!e)return null;var i=n[3];return i&&null!=t?new Fb(t,e,i,Number(n[4])):null}function Xb(n,t){this.h=n;this.i=t}function Hb(t,n){var e=new ln(null,0);e.o1(n.duration);var i=n.streams.filter(function(n){return"audio"==n.type}),r=n.streams.filter(function(n){return"video"==n.type});i=jb(t,i,r,e);r=n.streams.filter(function(n){return n.type==z}).map(function(n){return Vb(t,n,e)});var u=n.streams.filter(function(n){return"image"==n.type}).map(function(n){return Vb(t,n,e)}),a=n.Bf?[n.Bf]:[];if(n.Bf)for(var o=lt(i.values()),s=o.next();!s.done;s=o.next())s=s.value,s.Vu&&s.Vu.Za&&(s.Vu.vo=a),s.Gu&&s.Gu.Za&&(s.Gu.vo=a);return{xv:e,Uv:2,qa:n.f5,ma:Array.from(i.values()),ha:r,yo:u,qm:n.qm||!1,sp:!1,type:n.type||"UNKNOWN",t4:null,e4:null,P3:1,R3:0,Sp:!1,startTime:null}}function jb(n,t,e,i){for(var r=new Set,u=lt(t),a=u.next();!a.done;a=u.next()){a=lt(a.value.rM);for(var o=a.next();!o.done;o=a.next())r.add(o.value)}u=lt(e);for(a=u.next();!a.done;a=u.next())for(a=lt(a.value.rM),o=a.next();!o.done;o=a.next())r.add(o.value);u=new Map;r=lt(r);for(a=r.next();!a.done;a=r.next())a=a.value,u.set(a,{id:a,language:"",Ko:0,Io:!1,Vu:null,Gu:null,ga:0,Go:!0,qo:!0,wa:[]});t=lt(t);for(r=t.next();!r.done;r=t.next())for(a=r.value,r=Vb(n,a,i),a=lt(a.rM),o=a.next();!o.done;o=a.next())o=u.get(o.value),o.language=r.language,o.Io=o.Io||r.Io,o.Vu=r;e=lt(e);for(t=e.next();!t.done;t=e.next())for(r=t.value,t=Vb(n,r,i),r=lt(r.rM),a=r.next();!a.done;a=r.next())a=u.get(a.value),a.Io=a.Io||t.Io,a.Gu=t;return u}function Vb(t,e,n){var i=e.aM.map(function(n){return Gb(t,n,e)});n.P1(i);return{id:e.id,Ho:e.Ho,groupId:e.groupId,Fd:function(){return Promise.resolve()},jo:new Y(i),mimeType:e.mimeType,va:e.va,width:e.width||void 0,height:e.height||void 0,La:e.La,To:e.To,Ku:e.Ku,ho:e.ho,Eo:e.Eo,kind:e.kind,Za:e.Za,vo:[],Pi:e.Pi,language:e.language,Xo:e.Xo||null,label:e.label,type:e.type,Io:e.Io,Wo:null,Yd:null,Ta:e.Ta,Po:e.Po,ba:e.ba,ya:e.ya,"do":e["do"],Rm:e.Rm,Co:e.Co,CI:e.CI,Bo:null,external:e.external,Ea:e.Ea,uo:new Set([$i(e.mimeType,e.va)]),Hd:!1}}function Gb(n,t,e){var i=new Fb("segment",n.h,n.i,t.h5);n=new O(t.startTime,t.endTime,function(){return[i.toString()]},0,null,null!=t.l5?qb(n,t.l5):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.Co||"");n.mimeType=t.mimeType||e.mimeType||"";n.va=t.va||e.va||"";t.zh&&n.f0(t.zh);return n}function qb(n,t){var e=new Fb("segment",n.h,n.i,t);return new Ro(function(){return[e.toString()]},0,null)}function Kb(){this.i=null}n=Kb.prototype;n.B=function(){};n.start=function(t,e){var i=this,r,u,a,o,s,f,c;return sn(function(n){switch(n.i){case 1:r=Bb(t);i.i=r;if(null==r||"manifest"!=r.i)throw new vt(2,1,9004,t);u=new bb;C(n,2);return an(n,u.init(),4);case 4:return an(n,Eb(u,r.r5(),r.u5()),5);case 5:return a=n.h,an(n,a.$I([r.key()]),6);case 6:return o=n.h,s=o[0],f=new Xb(r.r5(),r.u5()),c=Hb(f,s),e.Fy(c),n.A(c);case 2:return _(n),an(n,u.su(),7);case 7:X(n,0)}})};n.stop=function(){return Promise.resolve()};n.update=function(){};n.ph=function(t,e){var i=this,r,u,a,o,s,f,c;return sn(function(n){switch(n.i){case 1:return r=i.i,u=new bb,q(n,2,3),an(n,u.init(),5);case 5:return an(n,Eb(u,r.r5(),r.u5()),6);case 6:return a=n.h,an(n,a.$I([r.key()]),7);case 7:o=n.h;s=o[0];f=s.f5.includes(t);c=void 0==s.expiration||s.expiration>e;if(!f||!c){n.k(3);break}return an(n,a.zI(r.key(),e),3);case 3:return _(n),an(n,u.su(),10);case 10:X(n,0);break;case 2:W(n),n.k(3)}})};n.Jy=function(){};n.s4=function(){};n.ps=function(){};ko["d5"]=function(){return new Kb};function Wb(){}function zb(n){var t=Bb(n);t&&"manifest"==t.i?(n={uri:n,yM:n,data:new ArrayBuffer(0),headers:{xg:"application/x-offline-manifest"}},n=ju(n)):n=t&&"segment"==t.i?Yb(t.key(),t):Xu(new vt(2,1,9004,n));return n}function Yb(n,t){var e=new bb;return ju(void 0).Ds(function(){return e.init()}).Ds(function(){return Eb(e,t.r5(),t.u5())}).Ds(function(n){return n.GI([t.key()])}).Ds(function(n){return{uri:t,data:n[0].data,headers:{}}})["finally"](function(){return e.su()})}t("shaka.offline.OfflineScheme",Wb);Wb.v5=zb;Ju("offline",zb);function $b(o,s,f){var c,l,h,d,v,m;return sn(function(n){switch(n.i){case 1:c=[];for(var t=[],e=lt(f),i=e.next();!i.done;i=e.next()){i=i.value;for(var r=!1,u=lt(t),a=u.next();!a.done;a=u.next())if(a=a.value,Jb(a.info,i)){a.f5.push(i.sessionId);r=!0;break}r||t.push({info:i,f5:[i.sessionId]})}l=lt(t);h=l.next();case 2:if(h.done){n.k(4);break}d=h.value;v=Qb(o,s,d);return an(n,v,5);case 5:m=n.h;c=c.concat(m);h=l.next();n.k(2);break;case 4:return n.A(c)}})}function Qb(t,e,i){var r,u;return sn(function(n){switch(n.i){case 1:return r=new Da({jl:e,Al:function(){},ah:function(){},ph:function(){},uh:function(){}}),q(n,2),r.B(t),an(n,Oa(r,i.info.keySystem,i.info.m5,i.info.Oi,i.info.Ol,i.info.xl),4);case 4:K(n,3);break;case 2:return W(n),an(n,r.su(),5);case 5:return n.A([]);case 3:return u=[],an(n,Promise.all(i.f5.map(function(t){return sn(function(n){if(1==n.i)return q(n,2),an(n,Xa(r,t),4);if(2!=n.i)return u.push(t),K(n,0);W(n);on(n)})})),6);case 6:return an(n,r.su(),7);case 7:return n.A(u)}})}function Jb(n,t){function e(n,t){return n.bo==t.bo&&n.contentType==t.contentType}return n.keySystem==t.keySystem&&n.m5==t.m5&&et(n.Ol,t.Ol,e)&&et(n.xl,t.xl,e)}function Zb(n,t,e){var i=t.xv.s1();t=ty(t);return{p5:null,s5:n,duration:i,size:0,expiration:Infinity,w5:t,c5:e,g5:!1}}function ny(n,t){var e=Hb(new Xb(n.r5(),n.u5()),t),i=t.c5||{};e=ty(e);return{p5:n.toString(),s5:t.s5,duration:t.duration,size:t.size,expiration:t.expiration,w5:e,c5:i,g5:t.g5||!1}}function ty(n){var t=[],e=iu(n.ma);e=lt(e);for(var i=e.next();!i.done;i=e.next())t.push(Yr(i.value));n=lt(n.ha);for(e=n.next();!e.done;e=n.next())t.push($r(e.value));return t}function ey(){this.i={}}function iy(n,t){var e=t.Vu,i=t.Gu;e&&!i&&(n.i[e.id]=e.ga||t.ga);!e&&i&&(n.i[i.id]=i.ga||t.ga);if(e&&i){var r=e.ga||393216,u=i.ga||t.ga-r;0>=u&&(u=t.ga);n.i[e.id]=r;n.i[i.id]=u}}function ry(n,t){n.i[t.id]=t.ga||2048}function uy(n,t){n=n.i[t];null==n&&(n=0);return n}function ay(n){var a=this;if(n&&n.constructor!=s)throw new vt(2,9,9008);this.i=this.h=null;n?(this.h=n.i,this.i=n.f4()):(this.h=cl(),this.i=new Qu);this.g=[];this.v=[];var o=!n;this.l=new ca(function(){var t,e,i,r,u;return sn(function(n){switch(n.i){case 1:return an(n,Promise.all(a.v.map(function(n){return ib(n)})),2);case 2:t=function(){};e=[];i=lt(a.g);for(r=i.next();!r.done;r=i.next())u=r.value,e.push(u.then(t,t));return an(n,Promise.all(e),3);case 3:if(!o){n.k(4);break}return an(n,a.i.su(),4);case 4:a.h=null,a.i=null,on(n)}})});this.m=1e9}function oy(){if(pt())n:{var n=lt(Ib.values());for(var t=n.next();!t.done;t=n.next())if(t=t.value,t=t()){t.su();n=!0;break n}n=!1}else n=!1;return n}n=ay.prototype;n.su=function(){return this.l.su()};n.B=function(n,t){2==arguments.length&&"string"==typeof n&&(n=tl(n,t));return ll(this.h,n)};n.getConfiguration=function(){var n=cl();ll(n,this.h,cl());return n};n.f4=function(){return this.i};n.store=function(e,n,i,t,r){var u=this,a=this.getConfiguration(),o=new tb(this.i);this.v.push(o);n=sy(this,e,n||{},t||[],r||[],function(){var t;return sn(function(n){if(1==n.i)return i?n.k(2):an(n,Ol(e,u.i,a.manifest.Uf),3);2!=n.i&&(i=n.h);t=Ao(e,i||null);return n.A(t())})},a,o);n=new Bu(n,function(){return ib(o)});n["finally"](function(){tt(u.v,o)});return Ly(this,n)};function sy(t,e,i,r,u,a,o,s){var f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R;return sn(function(n){switch(n.i){case 1:return Cy(),c=f=null,l=new bb,v=d=h=null,q(n,2,3),an(n,a(),5);case 5:return f=n.h,an(n,Sy(t,e,f,o),6);case 6:m=n.h;Dy(t);p=!m.xv.D1()&&!m.xv.B1();if(!p)throw new vt(2,9,9005,e);w=lt(r);g=w.next();case 7:if(g.done){n.k(9);break}b=g.value;return an(n,Ay(t,b,m),10);case 10:y=n.h;m.yo.push(y);Dy(t);g=w.next();n.k(7);break;case 9:T=lt(u),E=T.next();case 11:if(E.done)return an(n,t.Tg(m,function(n){v=v||n},o),15);S=E.value;return an(n,ky(t,m,S.uri,S.language,S.kind,S.mime,S.va),14);case 14:A=n.h;m.ha.push(A);Dy(t);E=T.next();n.k(11);break;case 15:c=n.h;Dy(t);if(v)throw v;return an(n,hy(m,c,o),16);case 16:return an(n,l.init(),17);case 17:return Dy(t),an(n,yb(l),18);case 18:return h=n.h,Dy(t),k=dy(c,m,e,i,o,s),M=k.b5,I=k.y5,an(n,h.u5.KI([M]),19);case 19:N=n.h;Dy(t);d=N[0];Dy(t);if(v)throw v;return an(n,fy(t,I,d,M,s,o,h.u5,m,c),20);case 20:return Dy(t),py(m,M,c,o),an(n,h.u5.WI(d,M),21);case 21:return Dy(t),P=new Fb("manifest",h.path.r5,h.path.u5,d),n.A(ny(P,M));case 3:return _(n),an(n,l.su(),22);case 22:if(!f){n.k(23);break}return an(n,f.stop(),23);case 23:if(!c){n.k(25);break}return an(n,c.su(),25);case 25:X(n,0);break;case 2:R=W(n);if(null==d){n.k(27);break}return an(n,cy(d),27);case 27:throw v||R}})}function fy(h,t,d,v,m,p,w,g,b){var y,T,e,i,r,u,a,o,s,f;return sn(function(n){switch(n.i){case 1:y={};T=0;e=function(t,e){var i,r,u,a,o,s,f,c,l;return sn(function(n){if(1==n.i){i=lt(t);r=i.next();for(u={};!r.done;u={T5:void 0},r=i.next())u.T5=r.value,a=Qg(u.T5,p),o=u.T5.g,s=u.T5.h,f=function(u){return function(t){var e,i,r;return sn(function(n){if(1==n.i)return an(n,w.jI([{data:t}]),2);e=n.h;Dy(h);i=u.T5.i;r=$g(i);y[r]=e[0];T+=t.byteLength;on(n)})}}(u),c=u.T5.i,(l=c.Gh())?ub(m,u.T5.groupId,l,o,s,f):rb(m,u.T5.groupId,a,o,s,f);return an(n,ab(m),2)}if(!e)return n.k(0);Dy(h);py(g,v,b,p);return an(n,w.WI(d,v),0)})};i=!1;q(n,2);if(!vy(g)||!i||my(g)){n.k(4);break}return an(n,e(t.filter(function(n){return n.h}),!0),5);case 5:return Dy(h),t=t.filter(function(n){return!n.h}),r=y,u=T,y={},T=0,an(n,ly(w,d,v,r,u,function(){return Dy(h)}),6);case 6:Dy(h);case 4:if(i){n.k(7);break}return an(n,e(t,!1),8);case 8:return Dy(h),a=y,o=T,y={},T=0,an(n,ly(w,d,v,a,o,function(){return Dy(h)}),9);case 9:Dy(h);case 7:K(n,0);break;case 2:return s=W(n),f=Object.values(y),an(n,w.VI(f,function(){}),10);case 10:throw s}})}function cy(t){var e,i,r,u;return sn(function(n){switch(n.i){case 1:return e=new bb,an(n,e.init(),2);case 2:return an(n,yb(e),3);case 3:return i=n.h,r=new Fb("manifest",i.path.r5,i.path.u5,t),an(n,e.su(),4);case 4:return u=new ay,an(n,u.remove(r.toString()),0)}})}function ly(t,e,i,r,u,a){var o,s,f,c,l,h,d,v,m,p,w;return sn(function(n){switch(n.i){case 1:o=!1;q(n,2);s=!0;f=lt(i.streams);for(c=f.next();!c.done;c=f.next())for(l=c.value,h=lt(l.aM),d=h.next();!d.done;d=h.next())v=d.value,m=v.E5?r[v.E5]:null,null!=m&&(v.h5=m,v.E5=void 0),m=v.S5?r[v.S5]:null,null!=m&&(v.l5=m,v.S5=void 0),v.E5&&(s=!1),v.S5&&(s=!1);i.size+=u;s&&(i.g5=!1);return an(n,t.WI(e,i),4);case 4:o=!0;a();K(n,0);break;case 2:return p=W(n),an(n,cy(e),5);case 5:if(o){n.k(6);break}w=Object.values(r);return an(n,t.VI(w,function(){}),6);case 6:throw p}})}function hy(t,e,i){var r,u,a,o,s,f,c,l,h,d,v,m,p,w,g,b,y,T,E,S,A,k,M,I,N,P,R,D,C,_;return sn(function(n){switch(n.i){case 1:return r={width:Infinity,height:Infinity},Lr(t,i.rs,r),an(n,Ur(e,t,i.N2.A2,i.bh.Bl,i.bh.Fl),2);case 2:u=[];a=i.Ah;o=i.Eh;s=i.Sh;f=i.kh;Cr(t,o,s,a,f);c=lt(t.ma);for(l=c.next();!l.done;l=c.next())h=l.value,u.push(Yr(h));d=lt(t.ha);for(v=d.next();!v.done;v=d.next())m=v.value,u.push($r(m));p=lt(t.yo);for(w=p.next();!w.done;w=p.next())g=w.value,u.push(Qr(g));return an(n,i.N2.T2(u),3);case 3:b=n.h;y=t.xv.s1();T=0;E=lt(b);for(S=E.next();!S.done;S=E.next())A=S.value,k=A.ga*y/8,T+=k;q(n,4);return an(n,i.N2.E2(T),6);case 6:M=n.h;if(!M)throw new vt(2,9,9014);K(n,5);break;case 4:I=W(n);if(I instanceof vt)throw I;throw new vt(2,9,9015);case 5:N=new Set;P=new Set;R=new Set;D=lt(b);for(C=D.next();!C.done;C=D.next())_=C.value,"variant"==_.type&&N.add(_.id),"text"==_.type&&P.add(_.id),"image"==_.type&&R.add(_.id);t.ma=t.ma.filter(function(n){return N.has(n.id)});t.ha=t.ha.filter(function(n){return P.has(n.id)});t.yo=t.yo.filter(function(n){return R.has(n.id)});Fy(t);on(n)}})}function dy(e,n,t,i,r,u){var a=Zb(t,n,i),o=r.N2.S2;eb(u,function(n,t){a.size=t;o(a,n)},function(n,t){s&&r.N2.A2&&f==t&&ja(e,"cenc",n)});var s=vy(n)&&!my(n),f=null;s&&(f=By.get(e.i.keySystem));for(var c=new ey,l=lt(n.ha),h=l.next();!h.done;h=l.next())c.i[h.value.id]=52;l=lt(n.yo);for(h=l.next();!h.done;h=l.next())ry(c,h.value);l=lt(n.ma);for(h=l.next();!h.done;h=l.next())iy(c,h.value);c=Ny(u,c,n,r);u=c.streams;c=c.y5;l=e.i;h=r.N2.A2;l&&h&&(l.initData=[]);return{b5:{creationTime:Date.now(),s5:t,duration:n.xv.s1(),size:0,expiration:e.Wl(),streams:u,f5:h?Va(e):[],Bf:l,c5:i,g5:!0,qm:n.qm,type:n.type},y5:c}}function vy(n){return n.ma.some(function(n){var t=n.Vu&&n.Vu.Za;return n.Gu&&n.Gu.Za||t})}function my(n){return n.ma.some(function(n){return(n.Gu?n.Gu.vo:[]).concat(n.Vu?n.Vu.vo:[]).some(function(n){return n.initData&&n.initData.length})})}function py(n,t,e,i){t.expiration=e.Wl();e=Va(e);t.f5=i.N2.A2?e:[];if(vy(n)&&i.N2.A2&&!e.length)throw new vt(2,9,9007)}n.remove=function(n){return _y(this,wy(this,n))};function wy(t,e){var i,r,u,a,o,s;return sn(function(n){switch(n.i){case 1:Cy();i=Bb(e);if(null==i||"manifest"!=i.i)throw new vt(2,9,9004,e);r=i;u=new bb;C(n,2);return an(n,u.init(),4);case 4:return an(n,Eb(u,r.r5(),r.u5()),5);case 5:return a=n.h,an(n,a.$I([r.key()]),6);case 6:return o=n.h,s=o[0],an(n,Promise.all([by(t,s,u),yy(a,r,s)]),2);case 2:return _(n),an(n,u.su(),8);case 8:X(n,0)}})}function gy(n,t){for(var e=[],i=lt(n.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&"video"==r.type?e.push({contentType:$i(r.mimeType,r.va),bo:n.Bf._i}):t||"audio"!=r.type||e.push({contentType:$i(r.mimeType,r.va),bo:n.Bf.Li});return e}function by(t,e,i){return sn(function(n){return an(n,xy(t.i,t.h.bh,i,e),0)})}function yy(n,t,e){function i(){}var r=Oy(e);ny(t,e);return Promise.all([n.VI(r,i),n.YI([t.key()],i)])}n.A5=function(){return _y(this,Ty(this))};function Ty(t){var e,i,r,u,a,o,s,f,c,l;return sn(function(n){switch(n.i){case 1:return Cy(),e=t.i,i=t.h.bh,r=new bb,u=!1,C(n,2),an(n,r.init(),4);case 4:a=[],Sb(r,function(n){return a.push(n)}),o=lt(a),s=o.next();case 5:if(s.done){n.k(2);break}f=s.value;return an(n,f.getAll(),8);case 8:return c=n.h,an(n,$b(i,e,c),9);case 9:return l=n.h,an(n,f.remove(l),10);case 10:l.length!=c.length&&(u=!0);s=o.next();n.k(5);break;case 2:return _(n),an(n,r.su(),11);case 11:X(n,3);break;case 3:return n.A(!u)}})}n.list=function(){return _y(this,Ey())};function Ey(){var r,t,u;return sn(function(n){switch(n.i){case 1:return Cy(),r=[],t=new bb,C(n,2),an(n,t.init(),4);case 4:return u=Promise.resolve(),Tb(t,function(e,i){u=u.then(function(){var t;return sn(function(n){if(1==n.i)return an(n,i.JI(),2);t=n.h;t.forEach(function(n,t){n=ny(new Fb("manifest",e.r5,e.u5,t),n);r.push(n)});on(n)})})}),an(n,u,2);case 2:return _(n),an(n,t.su(),6);case 6:X(n,3);break;case 3:return n.A(r)}})}function Sy(t,e,i,r){var u,a,o,s,f;return sn(function(n){if(1==n.i)return u=null,a=t.i,o={yg:a,filter:function(){return Promise.resolve()},Fy:function(){},By:function(){},uh:function(){},Al:function(n){u=n},Xy:function(){return!1},Hy:function(){return!1},jy:function(){},fp:function(){},Vy:function(){},Gy:function(){},G:function(){return r.R2.ls},zd:function(){},Mp:function(){},Wy:function(){}},i.B(r.manifest),Dy(t),an(n,i.start(e,o),2);if(3!=n.i)return s=n.h,Dy(t),f=Uy(s),an(n,Promise.all(ha(f,function(n){return n.Fd()})),3);Dy(t);if(u)throw u;return n.A(s)})}function Ay(t,e,i){var r,u,a,o,s,f,c,l,h,d,v,m,p,w,g;return sn(function(n){switch(n.i){case 1:return an(n,My(t,e),2);case 2:r=n.h;if("text/vtt"!=r)throw new vt(1,2,2017,e);return an(n,Iy(e,t.i,t.h.Th.Uf),3);case 3:u=n.h;a=pr[r];if(!a)throw new vt(2,2,2014,r);o=a();s={$u:0,Qu:0,Ju:i.xv.s1(),Zu:0};f=dt(u);c=o.na(f,s,e,[]);l=[];h=lt(c);d=h.next();for(v={};!d.done;v={k5:void 0,M5:void 0},d=h.next())v.M5=d.value,v.k5=null,m=function(n){return function(){null==n.k5&&(n.k5=Xi([e],[n.M5.sr]));return n.k5||[]}}(v),p=new O(v.M5.startTime,v.M5.endTime,m,0,null,null,0,0,Infinity),v.M5.sr.includes("#xywh")&&(w=v.M5.sr.split("#xywh=")[1].split(","),4===w.length&&p.f0({height:parseInt(w[3],10),positionX:parseInt(w[0],10),positionY:parseInt(w[1],10),width:parseInt(w[2],10)})),l.push(p);g=r;if(!l.length){n.k(4);break}return an(n,Ol(l[0].xh()[0],t.i,t.h.manifest.Uf),5);case 5:g=n.h;case 4:return n.A({id:t.m++,Ho:null,groupId:null,Fd:function(){return Promise.resolve()},jo:new Y(l),mimeType:g||"",va:"",kind:"",Za:!1,vo:[],Pi:new Set,language:"und",Xo:null,label:null,type:"image",Io:!1,Wo:null,Yd:null,Ta:[],Po:!1,ba:null,ya:null,"do":!1,Rm:null,Co:"1x1",Bo:null,external:!0,Ea:!1,uo:new Set([$i(g||"","")]),Hd:!1})}})}function ky(t,e,i,r,u,a,o){var s,f,c;return sn(function(n){if(1==n.i)return a?n.k(2):an(n,My(t,i),3);2!=n.i&&(a=n.h);s={id:t.m++,Ho:null,groupId:null,Fd:function(){return Promise.resolve()},jo:Cf(0,e.xv.s1(),[i]),mimeType:a||"",va:o||"",kind:u,Za:!1,vo:[],Pi:new Set,language:r,Xo:r,label:null,type:z,Io:!1,Wo:null,Yd:null,Ta:[],Po:!1,ba:null,ya:null,"do":!1,Rm:null,Bo:null,external:!0,Ea:!1,uo:new Set([$i(a||"",o||"")]),Hd:!1};f=$i(s.mimeType,s.va);c=cr(f);if(!c)throw new vt(2,2,2014,a);return n.A(s)})}function My(t,e){var i;return sn(function(n){switch(n.i){case 1:return q(n,2),an(n,Ol(e,t.i,t.h.Th.Uf),4);case 4:i=n.h;K(n,3);break;case 2:W(n);case 3:if(i)return n.A(i);throw new vt(1,2,2011,e)}})}function Iy(t,e,i){var r,u,a;return sn(function(n){if(1==n.i)return r=oa,u=na([t],i),u.method="GET",an(n,e.request(r,u).promise,2);a=n.h;return n.A(a.data)})}n.Tg=function(t,e,i){var r=this,u;return sn(function(n){return 1==n.i?(u=new Da({jl:r.i,Al:e,ah:function(){},ph:function(){},uh:function(){}}),u.B(i.bh),an(n,_a(u,t.ma,i.N2.A2),2)):3!=n.i?an(n,Ha(u),3):n.A(u)})};function Ny(n,t,e,i){var r=new Map,u=Uy(e),a=new Map;u=lt(u);for(var o=u.next();!o.done;o=u.next()){o=o.value;var s=Py(n,t,e,o,i,r);a.set(o.id,s)}n=lt(e.ma);for(t=n.next();!t.done;t=n.next())t=t.value,t.Vu&&a.get(t.Vu.id).rM.push(t.id),t.Gu&&a.get(t.Gu.id).rM.push(t.id);return{streams:Array.from(a.values()),y5:Array.from(r.values())}}function Py(r,u,n,a,t,o){var s={id:a.id,Ho:a.Ho,groupId:a.groupId,Io:a.Io,type:a.type,mimeType:a.mimeType,va:a.va,La:a.La,To:a.To,Ku:a.Ku,ho:a.ho,Eo:a.Eo,kind:a.kind,language:a.language,Xo:a.Xo,label:a.label,width:a.width||null,height:a.height||null,Za:a.Za,Pi:a.Pi,aM:[],rM:[],Ta:a.Ta,Po:a.Po,ba:a.ba,ya:a.ya,"do":a["do"],Rm:a.Rm,Co:a.Co,CI:a.CI,external:a.external,Ea:a.Ea,Hd:a.Hd},f=t.N2.M2,c=0===f?a.id:0;Ry(a,n.xv.X1(),function(n){var t=$g(n),e=void 0;if(!o.has(t)){var i=n.endTime-n.startTime;i=uy(u,a.id)*i;i=Zg(r.i,i);o.set(t,new Yg(n,i,c,!1))}n.Wh&&(e=$g(n.Wh),o.has(e)||(i=.5*uy(u,a.id),i=Zg(r.i,i),o.set(e,new Yg(n.Wh,i,c,!0))));s.aM.push({S5:e,l5:e?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,Co:n.Co,E5:t,h5:0,mimeType:n.mimeType,va:n.va,zh:n.zh});0!==f&&(c=(c+1)%f)});return s}function Ry(n,t,e){t=n.jo.find(t);if(null!=t)for(var i=n.jo.get(t);i;)e(i),i=n.jo.get(++t)}function Dy(n){if(n.l.i)throw new vt(2,9,7001)}function Cy(){if(!oy())throw new vt(2,9,9e3)}function _y(t,e){return sn(function(n){if(1==n.i)return t.g.push(e),C(n,2),an(n,e,4);if(2!=n.i)return n.A(n.h);_(n);tt(t.g,e);return X(n,0)})}function Ly(n,t){var e=t.promise;n.g.push(e);return t["finally"](function(){tt(n.g,e)})}function Oy(n){var t=new Set;n=lt(n.streams);for(var e=n.next();!e.done;e=n.next()){e=lt(e.value.aM);for(var i=e.next();!i.done;i=e.next())i=i.value,null!=i.l5&&t.add(i.l5),t.add(i.h5)}return Array.from(t)}function xy(t,e,i,r){var u,a,o;return sn(function(n){if(1==n.i){if(!r.Bf)return n.A();u=Ab(i);a=r.f5.map(function(n){return{sessionId:n,keySystem:r.Bf.keySystem,m5:r.Bf.Ri,Oi:r.Bf.Oi,Ol:gy(r,!1),xl:gy(r,!0)}});return an(n,$b(e,t,a),2)}return 3!=n.i?(o=n.h,an(n,u.remove(o),3)):an(n,u.add(a.filter(function(n){return!o.includes(n.sessionId)})),0)})}function Uy(n){for(var t=new Set,e=lt(n.ma),i=e.next();!i.done;i=e.next())i=i.value,i.Vu&&t.add(i.Vu),i.Gu&&t.add(i.Gu);e=lt(n.ha);for(i=e.next();!i.done;i=e.next())t.add(i.value);n=lt(n.yo);for(e=n.next();!e.done;e=n.next())t.add(e.value);return t}function Fy(n){n.ma.map(function(n){return n.Gu});var t=new Set(n.ma.map(function(n){return n.Vu}));n=n.ha;for(var e=lt(t),i=e.next();!i.done;i=e.next()){i=lt(t);for(var r=i.next();!r.done;r=i.next());}t=lt(n);for(e=t.next();!e.done;e=t.next())for(e=lt(n),i=e.next();!i.done;i=e.next());}t("shaka.offline.Storage",ay);ay.I5=function(){var t;return sn(function(n){return 1==n.i?(t=new bb,C(n,2),an(n,kb(t),2)):5!=n.i?(_(n),an(n,t.su(),5)):X(n,0)})};ay.prototype.list=ay.prototype.list;ay.prototype.N5=ay.prototype.A5;ay.prototype.remove=ay.prototype.remove;ay.prototype.store=ay.prototype.store;ay.prototype.OT=ay.prototype.f4;ay.prototype.getConfiguration=ay.prototype.getConfiguration;ay.prototype.B=ay.prototype.B;ay.prototype.su=ay.prototype.su;ay.P5=oy;var By=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95");Z0.N2=oy;function Xy(){}function Hy(n,t){n={priority:t||0,R5:n};for(t=0;t<jy.length;t++)if(jy[t].priority<n.priority){jy.splice(t,0,n);return}jy.push(n)}t("shaka.polyfill",Xy);Xy.register=Hy;Xy.D5=function(){for(var n=lt(jy),t=n.next();!t.done;t=n.next()){t=t.value;try{t.R5()}catch(e){M("Error installing polyfill!",e)}}};var jy=[];function Vy(){}function Gy(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var n=lt(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=n.next();!t.done;t=n.next())qy(t.value)}function qy(n){var t="aria-"+n.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,n,{get:function(){return this.getAttribute(t)},set:function(n){null==n||void 0==n?this.removeAttribute(t):this.setAttribute(t,n)}})}Xy.C5=Vy;Vy.install=Gy;Hy(Gy);function Ky(){}function Wy(){It()||c("Sky_STB")||AE()}Xy._5=Ky;Ky.install=Wy;Hy(Wy,-2);function zy(){}function Yy(){if(L.Document){var n=Element.prototype;n.requestFullscreen=n.requestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen||n.webkitRequestFullscreen;n=Document.prototype;n.exitFullscreen=n.exitFullscreen||n.mozCancelFullScreen||n.msExitFullscreen||n.webkitCancelFullScreen;"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",$y);document.addEventListener("webkitfullscreenerror",$y);document.addEventListener("mozfullscreenchange",$y);document.addEventListener("mozfullscreenerror",$y);document.addEventListener("MSFullscreenChange",$y);document.addEventListener("MSFullscreenError",$y)}}function $y(n){var t=n.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),e=document.createEvent("Event");e.initEvent(t,n.bubbles,n.cancelable);n.target.dispatchEvent(e)}Xy.L5=zy;zy.install=Yy;Hy(Yy);function Qy(){}function Jy(){var n=!0;!St()||St()&&Ct()||St()&&c("Fuchsia")||(n=!1);if(kt()||Mt()||It()||Et()||yt()||c("PC=EOS")||Nt()||c("WPE"))n=!1;n&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),i4=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Zy)}function Zy(e){var i,r,u,a,o,s,f,c,l,h,d;return sn(function(n){switch(n.i){case 1:i={supported:!1,powerEfficient:!0,smooth:!0,Ja:null,configuration:e};r=e.Gu;u=e.Vu;if("media-source"!=e.type){if("file"==e.type){if(r&&(a=r.contentType,o=wt(a),!o)||u&&(s=u.contentType,f=wt(s),!f))return n.A(i)}else return n.A(i);n.k(2);break}if(!pt())return n.A(i);if(!r){n.k(3);break}return an(n,n4(r),4);case 4:if(c=n.h,!c)return n.A(i);case 3:if(u){var t=u.contentType;St()&&u.fo&&(t+="; spatialRendering=true");l=Dn(t);if(!l)return n.A(i)}case 2:if(!e.ro)return i.supported=!0,n.A(i);h=e.ro;return an(n,t4(r,u,h),6);case 6:if(d=n.h)i.supported=!0,i.Ja=d;case 5:return n.A(i)}})}function n4(t){var e,i;return sn(function(n){return 1==n.i?St()?an(n,e4(t),3):yt()?(e=t.contentType,t.width&&t.height&&(e+="; width="+t.width,e+="; height="+t.height),t.co&&(e+="; framerate="+t.co),t.oo&&(e+="; bitrate="+t.oo),n.A(Dn(e))):n.k(2):2!=n.i?(i=n.h,n.A(i)):n.A(Dn(t.contentType))})}function t4(t,e,i){var r,u,a,o,s,f,c,l,h,d,v;return sn(function(n){switch(n.i){case 1:r=[];u=[];i.Vu&&(a={bo:i.Vu.bo||"",contentType:e.contentType},yt()&&e.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),i.Vu.Du&&(a.Du=i.Vu.Du),r.push(a));i.Gu&&(o={bo:i.Gu.bo||"",contentType:t.contentType},i.Gu.Du&&(o.Du=i.Gu.Du),u.push(o));s={lh:[i.initDataType],po:i.po,mo:i.mo,wo:i.wo};r.length&&(s.Ol=r);u.length&&(s.xl=u);f=t?t.contentType:"";c=e?e.contentType:"";l=ir(f)+";"+er(f);h=ir(c)+";"+er(c);d=i.keySystem;v=null;q(n,2);if(ct.has(l+"#"+h+"#"+d)){v=ct.get(l+"#"+h+"#"+d)||null;n.k(4);break}return an(n,navigator.requestMediaKeySystemAccess(i.keySystem,[s]),5);case 5:v=n.h,ct.set(l+"#"+h+"#"+d,v);case 4:K(n,3);break;case 2:W(n);case 3:return n.A(v)}})}function e4(t){var e,i,r,u;return sn(function(n){if(1==n.i){if(!(L.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return n.A(Dn(t.contentType));e=t.contentType;t.width&&t.height&&1280<t.width&&720<t.height&&(e+="; width="+t.width+"; height="+t.height);t.co&&(i=Math.round(t.co),24>i||30<i)&&(e+="; framerate="+t.co);r=t.lo||"";switch(r){case"":case"srgb":break;case"pq":e+="; eotf=smpte2084";break;case"hlg":e+="; eotf=arib-std-b67";break;default:return n.A(!1)}u=!1;return e in r4?(u=r4[e],n.k(2)):an(n,cast.__platform__.canDisplayType(e),3)}2!=n.i&&(u=n.h,r4[e]=u);return n.A(u)})}Xy.MediaCapabilities=Qy;Qy.install=Jy;var i4=null;Qy.O5=i4;var r4={};Qy.x5=r4;Hy(Jy,-1);function u4(){}function a4(){var n=Rt();if(L.MediaSource||L.ManagedMediaSource)n&&L.MediaSource?10>=n?L.MediaSource=null:12>=n?(o4(),s4()):15>=n&&o4():c("DT_STB_BCM")?(o4(),s4()):c("Tizen 2")||Tt()||c("Tizen 4")?c4():c("WPE")&&(o4(),s4());(L.MediaSource||L.ManagedMediaSource)&&f4();L.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&l4()}function o4(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var n=t.apply(this,Z.apply(0,arguments));n.abort=function(){};return n}}function s4(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(n,t){return e.call(this,n,t-.001)}}function f4(){if(L.MediaSource){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return"mp2t"!=nr(n)&&t(n)}}if(L.ManagedMediaSource){var e=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);L.ManagedMediaSource.isTypeSupported=function(n){return"mp2t"!=nr(n)&&e(n)}}}function c4(){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return"opus"!=er(n)&&t(n)};if(L.ManagedMediaSource){var e=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);L.ManagedMediaSource.isTypeSupported=function(n){return"opus"!=er(n)&&e(n)}}}function l4(){var u=MediaSource.isTypeSupported;Et()||(MediaSource.isTypeSupported=function(n){var t=n.split(/ *; */),e=t.findIndex(function(n){return n.startsWith("codecs=")});if(0>e)return u(n);var i=t[e].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),r=i.findIndex(function(n){return n.startsWith("vp09")});0<=r&&(i[r]="vp9",t[e]='codecs="'+i.join(",")+'"',n=t.join("; "));return u(n)})}Xy.MediaSource=u4;u4.install=a4;Hy(a4);function h4(){}function d4(){screen.orientation&&screen.orientation.unlock||(void 0!=screen.orientation?v4():void 0!=L.orientation&&m4())}function v4(){void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()});void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})}function m4(){function t(){switch(L.orientation){case-90:e.type="landscape-secondary";e.angle=270;break;case 0:e.type="portrait-primary";e.angle=0;break;case 90:e.type="landscape-primary";e.angle=90;break;case 180:e.type="portrait-secondary",e.angle=180}}var e=new p4;screen.orientation=e;t();L.addEventListener("orientationchange",function(){t();var n=new A("change");e.dispatchEvent(n)})}Xy.U5=h4;h4.install=d4;function p4(){zu.call(this);this.type="";this.angle=0}N(p4,zu);p4.prototype.lock=function(n){function t(n){return screen.lockOrientation?screen.lockOrientation(n):screen.mozLockOrientation?screen.mozLockOrientation(n):screen.msLockOrientation?screen.msLockOrientation(n):!1}var e=!1;switch(n){case"natural":e=t("default");break;case"any":e=!0;this.unlock();break;default:e=t(n)}if(e)return Promise.resolve();n=Error("screen.orientation.lock() is not available on this device");n.name="NotSupportedError";n.code=DOMException.NOT_SUPPORTED_ERR;return Promise.reject(n)};p4.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()};Hy(d4);function w4(){}var g4,b4,y4,T4,E4,S4;function A4(n,t){try{var e=new I4(n,t);return Promise.resolve(e)}catch(i){return Promise.reject(i)}}function k4(n){var t=this.mediaKeys;t&&t!=n&&P4(t,null);delete this.mediaKeys;return(this.mediaKeys=n)?P4(n,this):Promise.resolve()}function M4(n){n=dt(n.initData);if(qn(n).getUint32(0,!0)+4!=n.byteLength)throw new RangeError("Malformed FairPlay init data");n=Ht(n.subarray(4),!0);n=Vt(n);var t=new Event("encrypted");t.initDataType="skd";t.initData=Vn(n);this.dispatchEvent(t)}Xy.F5=w4;w4.B5=function(){g4&&(g4=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",b4),HTMLMediaElement.prototype.setMediaKeys=y4,L.MediaKeys=T4,L.MediaKeySystemAccess=E4,navigator.requestMediaKeySystemAccess=S4,b4=S4=y4=E4=T4=null,L.Vi="")};w4.install=function(n){if(L.HTMLVideoElement&&L.WebKitMediaKeys){if(void 0===n?0:n)g4=!0,b4=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),y4=HTMLMediaElement.prototype.setMediaKeys,T4=L.MediaKeys,E4=L.MediaKeySystemAccess,S4=navigator.requestMediaKeySystemAccess;delete HTMLMediaElement.prototype.mediaKeys;HTMLMediaElement.prototype.mediaKeys=null;HTMLMediaElement.prototype.setMediaKeys=k4;L.MediaKeys=N4;L.MediaKeySystemAccess=I4;navigator.requestMediaKeySystemAccess=A4;L.Vi=_4}};function I4(n,t){this.keySystem=n;if(n.startsWith("com.apple.fps"))for(n=lt(t),t=n.next();!t.done;t=n.next()){var e=t.value;if("required"==e.mo)t=null;else{t={Ol:[],xl:[],mo:"optional",po:"optional",lh:e.lh,wo:["temporary"],label:e.label};var i=!1,r=!1;if(e.Ol)for(var u=lt(e.Ol),a=u.next();!a.done;a=u.next())a=a.value,a.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.Ol.push(a),r=!0));if(e.xl)for(e=lt(e.xl),u=e.next();!u.done;u=e.next())u=u.value,u.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(t.xl.push(u),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4"));t=r?t:null}if(t){this.i=t;return}}n=Error("Unsupported keySystem");n.name="NotSupportedError";n.code=DOMException.NOT_SUPPORTED_ERR;throw n}I4.prototype.createMediaKeys=function(){var n=new N4(this.keySystem);return Promise.resolve(n)};I4.prototype.getConfiguration=function(){return this.i};function N4(n){this.h=new WebKitMediaKeys(n);this.i=new Mn}N4.prototype.createSession=function(n){n=n||"temporary";if("temporary"!=n)throw new TypeError("Session type "+n+" is unsupported on this platform.");return new R4(this.h,n)};N4.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function P4(n,t){n.i.q();if(!t)return Promise.resolve();n.i.K(t,"webkitneedkey",M4);try{return pf(t,HTMLMediaElement.HAVE_METADATA,n.i,function(){t.webkitSetMediaKeys(n.h)}),Promise.resolve()}catch(e){return Promise.reject(e)}}N4.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function R4(n){zu.call(this);this.g=null;this.l=n;this.i=this.h=null;this.v=new Mn;this.sessionId="";this.expiration=NaN;this.closed=new Fu;this.keyStatuses=new C4}N(R4,zu);n=R4.prototype;n.generateRequest=function(n,t){var e=this;this.h=new Fu;try{var i=this.l.createSession("video/mp4",dt(t));this.g=i;this.sessionId=i.sessionId||"";this.v.K(this.g,"webkitkeymessage",function(n){e.h&&(e.h.resolve(),e.h=null);n=(new Map).set("messageType",void 0==e.keyStatuses.n0()?"license-request":"license-renewal").set("message",Vn(n.message));n=new A("message",n);e.dispatchEvent(n)});this.v.K(i,"webkitkeyadded",function(){e.i&&(D4(e,"usable"),e.i.resolve(),e.i=null)});this.v.K(i,"webkitkeyerror",function(){var n=Error("EME PatchedMediaKeysApple key error");n.errorCode=e.g.error;if(null!=e.h)e.h.reject(n),e.h=null;else if(null!=e.i)e.i.reject(n),e.i=null;else switch(e.g.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:D4(e,"output-not-allowed");break;default:D4(e,"internal-error")}});D4(this,"status-pending")}catch(r){this.h.reject(r)}return this.h};n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))};n.update=function(n){this.i=new Fu;try{this.g.update(dt(n))}catch(t){this.i.reject(t)}return this.i};n.close=function(){try{this.g.close(),this.closed.resolve(),this.v.q()}catch(DE){this.closed.reject(DE)}return this.closed};n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function D4(n,t){var e=n.keyStatuses;e.size=void 0==t?0:1;e.i=t;t=new A("keystatuseschange");n.dispatchEvent(t)}function C4(){this.size=0;this.i=void 0}n=C4.prototype;n.n0=function(){return this.i};n.forEach=function(n){this.i&&n(this.i,ft.value())};n.get=function(n){if(this.has(n))return this.i};n.has=function(n){var t=ft.value();return this.i&&jn(n,t)?!0:!1};n.entries=function(){};n.keys=function(){};n.values=function(){};var _4="apple";function L4(){}function O4(){L.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||Tt()||c("Tizen 4")||c("Tizen 5.0")||Et()&&38===At())&&(MediaKeys.prototype.setServerCertificate=x4)}function x4(){return Promise.resolve(!1)}Xy.X5=L4;L4.install=O4;Hy(O4);function U4(){}function F4(){!L.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=B4,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=X4,L.MediaKeys=H4,L.MediaKeySystemAccess=j4,L.Vi=V4)}function B4(){return Promise.reject(Error("The key system specified is not supported."))}function X4(n){return null==n?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}Xy.H5=U4;U4.install=F4;function H4(){throw new TypeError("Illegal constructor.")}H4.prototype.createSession=function(){};H4.prototype.setServerCertificate=function(){};H4.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function j4(){this.keySystem="";throw new TypeError("Illegal constructor.")}j4.prototype.getConfiguration=function(){};j4.prototype.createMediaKeys=function(){};var V4="nop";Hy(F4,-10);function G4(){}function q4(){if(!(!L.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)r3="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=W4;delete HTMLMediaElement.prototype.mediaKeys;HTMLMediaElement.prototype.mediaKeys=null;HTMLMediaElement.prototype.setMediaKeys=z4;L.MediaKeys=$4;L.MediaKeySystemAccess=Y4;L.Vi=u3}}function K4(n){var t=r3;return t?t+n.charAt(0).toUpperCase()+n.slice(1):n}function W4(n,t){try{var e=new Y4(n,t);return Promise.resolve(e)}catch(i){return Promise.reject(i)}}function z4(n){var t=this.mediaKeys;t&&t!=n&&Q4(t,null);delete this.mediaKeys;(this.mediaKeys=n)&&Q4(n,this);return Promise.resolve()}Xy.j5=G4;G4.install=q4;function Y4(n,t){this.i=this.keySystem=n;var e=!1;"org.w3.clearkey"==n&&(this.i="webkit-org.w3.clearkey",e=!1);var i=!1;var r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");t=lt(t);for(var u=t.next();!u.done;u=t.next()){u=u.value;var a={Ol:[],xl:[],mo:"optional",po:"optional",lh:u.lh,wo:["temporary"],label:u.label},o=!1;if(u.Ol)for(var s=lt(u.Ol),f=s.next();!f.done;f=s.next())f=f.value,f.contentType&&(o=!0,r.canPlayType(f.contentType.split(";")[0],this.i)&&(a.Ol.push(f),i=!0));if(u.xl)for(s=lt(u.xl),f=s.next();!f.done;f=s.next())f=f.value,f.contentType&&(o=!0,r.canPlayType(f.contentType,this.i)&&(a.xl.push(f),i=!0));o||(i=r.canPlayType("video/mp4",this.i)||r.canPlayType("video/webm",this.i));"required"==u.mo&&(e?(a.mo="required",a.wo=["persistent-license"]):i=!1);if(i){this.h=a;return}}e="Unsupported keySystem";if("org.w3.clearkey"==n||"com.widevine.alpha"==n)e="None of the requested configurations were supported.";n=Error(e);n.name="NotSupportedError";n.code=DOMException.NOT_SUPPORTED_ERR;throw n}Y4.prototype.createMediaKeys=function(){var n=new $4(this.i);return Promise.resolve(n)};Y4.prototype.getConfiguration=function(){return this.h};function $4(n){this.l=n;this.h=null;this.i=new Mn;this.g=[];this.v=new Map}function Q4(r,n){r.h=n;r.i.q();var t=r3;n&&(r.i.K(n,t+"needkey",function(n){var t=new CustomEvent("encrypted");t.initDataType="cenc";t.initData=Vn(n.initData);r.h.dispatchEvent(t)}),r.i.K(n,t+"keymessage",function(n){var t=J4(r,n.sessionId);t&&(n=(new Map).set("messageType",void 0==t.keyStatuses.n0()?"licenserequest":"licenserenewal").set("message",n.message),n=new A("message",n),t.h&&(t.h.resolve(),t.h=null),t.dispatchEvent(n))}),r.i.K(n,t+"keyadded",function(n){(n=J4(r,n.sessionId))&&n.ready()}),r.i.K(n,t+"keyerror",function(n){var t=J4(r,n.sessionId);if(t){var e=Error("EME v0.1b key error"),i=n.errorCode;i.systemCode=n.systemCode;e.errorCode=i;!n.sessionId&&t.h?(45==n.systemCode&&(e.message="Unsupported session type."),t.h.reject(e),t.h=null):n.sessionId&&t.i?(t.i.reject(e),t.i=null):(e=n.systemCode,n.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?e3(t,"output-restricted"):1==e?e3(t,"expired"):e3(t,"internal-error"))}}))}$4.prototype.createSession=function(n){n=n||"temporary";if("temporary"!=n&&"persistent-license"!=n)throw new TypeError("Session type "+n+" is unsupported on this platform.");var t=this.h||document.createElement("video");t.src||(t.src="about:blank");n=new Z4(t,this.l,n);this.g.push(n);return n};$4.prototype.setServerCertificate=function(){return Promise.resolve(!1)};$4.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function J4(n,t){var e=n.v.get(t);return e?e:(e=n.g.shift())?(e.sessionId=t,n.v.set(t,e),e):null}function Z4(n,t,e){zu.call(this);this.v=n;this.m=!1;this.i=this.h=null;this.g=t;this.l=e;this.sessionId="";this.expiration=NaN;this.closed=new Fu;this.keyStatuses=new i3}N(Z4,zu);n=Z4.prototype;n.ready=function(){e3(this,"usable");this.i&&this.i.resolve();this.i=null};function n3(t,n,e){if(t.m)return Promise.reject(Error("The session is already initialized."));t.m=!0;try{if("persistent-license"==t.l)if(e)var i=dt(Vt("LOAD_SESSION|"+e));else{var r=Vt("PERSISTENT|");i=Bi(r,n)}else i=dt(n)}catch(a){return Promise.reject(a)}t.h=new Fu;var u=K4("generateKeyRequest");try{t.v[u](t.g,i)}catch(a){if("InvalidStateError"!=a.name)return t.h=null,Promise.reject(a);new S(function(){try{t.v[u](t.g,i)}catch(n){t.h.reject(n),t.h=null}}).Ui(.01)}return t.h}function t3(n,t,e){if(n.i)n.i.then(function(){return t3(n,t,e)})["catch"](function(){return t3(n,t,e)});else{n.i=t;if("webkit-org.w3.clearkey"==n.g){var i=Xt(e);var r=JSON.parse(i);"oct"!=r.keys[0].Lu&&(n.i.reject(Error("Response is not a valid JSON Web Key Set.")),n.i=null);i=xi(r.keys[0].xu);r=xi(r.keys[0].Ou)}else i=dt(e),r=null;var u=K4("addKey");try{n.v[u](n.g,i,r,n.sessionId)}catch(a){n.i.reject(a),n.i=null}}}function e3(n,t){var e=n.keyStatuses;e.size=void 0==t?0:1;e.i=t;t=new A("keystatuseschange");n.dispatchEvent(t)}n.generateRequest=function(n,t){return n3(this,t,null)};n.load=function(n){return"persistent-license"==this.l?n3(this,null,n):Promise.reject(Error("Not a persistent session."))};n.update=function(n){var t=new Fu;t3(this,t,n);return t};n.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var n=K4("cancelKeyRequest");try{this.v[n](this.g,this.sessionId)}catch(t){}}this.closed.resolve();return this.closed};n.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()};function i3(){this.size=0;this.i=void 0}n=i3.prototype;n.n0=function(){return this.i};n.forEach=function(n){this.i&&n(this.i,ft.value())};n.get=function(n){if(this.has(n))return this.i};n.has=function(n){var t=ft.value();return this.i&&jn(n,t)?!0:!1};n.entries=function(){};n.keys=function(){};n.values=function(){};var r3="",u3="webkit";Hy(q4);function a3(){}function o3(){if(L.HTMLVideoElement){var n=HTMLVideoElement.prototype;n.requestPictureInPicture&&document.exitPictureInPicture||!n.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,n.requestPictureInPicture=f3,Object.defineProperty(n,"disablePictureInPicture",{get:l3,set:h3,Cs:!0,t:!0}),document.exitPictureInPicture=c3,document.addEventListener("webkitpresentationmodechanged",s3,!0))}}function s3(n){n=n.target;if("picture-in-picture"==n.webkitPresentationMode){document.pictureInPictureElement=n;var t=new Event("enterpictureinpicture");n.dispatchEvent(t)}else document.pictureInPictureElement==n&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),n.dispatchEvent(t)}function f3(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function c3(){var n=document.pictureInPictureElement;return n?(n.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function l3(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function h3(n){n?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Xy.V5=a3;a3.install=o3;Hy(o3);function d3(){}function v3(){L.crypto&&("kb"in L.crypto||(L.crypto.kb=m3))}function m3(){var n=URL.createObjectURL(new Blob),t=n.toString();URL.revokeObjectURL(n);return t.substr(t.lastIndexOf("/")+1)}Xy.G5=d3;d3.install=v3;Hy(v3);function p3(){}function w3(){var n=Symbol.prototype;"description"in n||Object.defineProperty(n,"description",{get:g3})}function g3(){var n=/\((.*)\)/.exec(this.toString());return n?n[1]:void 0}Xy.Symbol=p3;p3.install=w3;Hy(w3);function b3(){}function y3(){if(L.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var n=t.apply(this);n&&n["catch"](function(){});return n}}}Xy.q5=b3;b3.install=y3;Hy(y3);function T3(){}function E3(){if(L.HTMLVideoElement){var n=HTMLVideoElement.prototype;!n.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in n||Et()&&38===At())&&(n.getVideoPlaybackQuality=S3)}}function S3(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Xy.VideoPlaybackQuality=T3;T3.install=E3;Hy(E3);function A3(){}function k3(){if(!L.VTTCue&&L.TextTrackCue){var i=null,n=TextTrackCue.length;if(3==n)i=M3;else if(6==n)i=I3;else{try{var t=!!M3(1,2,"")}catch(e){t=!1}t&&(i=M3)}i&&(L.VTTCue=function(n,t,e){return i(n,t,e)})}}function M3(n,t,e){return new L.TextTrackCue(n,t,e)}function I3(n,t,e){return new L.TextTrackCue(n+"-"+t+"-"+e,n,t,e)}Xy.VTTCue=A3;A3.install=k3;Hy(k3);function N3(){}N3.prototype.Yu=function(){};N3.prototype.qd=function(){};N3.prototype.Kd=function(){};N3.prototype.na=function(n,t){var e=null,i=[];n=Xt(n).split(/\r?\n/);n=lt(n);for(var r=n.next();!r.done;r=n.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=P3.exec(r))){var u=R3.exec(r[1]);u=60*parseInt(u[1],10)+parseFloat(u[2].replace(",","."));r=new Oe(u,t.Ju?t.Ju:u+2,r[2]);e&&(e.endTime=u,i.push(e));e=r}e&&i.push(e);return i};t("shaka.text.LrcTextParser",N3);N3.prototype.na=N3.prototype.na;N3.prototype.Kd=N3.prototype.Kd;N3.prototype.qd=N3.prototype.qd;N3.prototype.Yu=N3.prototype.Yu;var P3=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,R3=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;pr["K5"]=function(){return new N3};function D3(){}D3.prototype.Yu=function(){};D3.prototype.qd=function(){};D3.prototype.Kd=function(){};D3.prototype.na=function(n,t,e,i){var r=Xt(n);n=[];if(""==r)return n;var u=ue(r,"tt",!0);if(!u)throw new vt(2,2,2005,"Failed to parse TTML.");r=he(u,"body")[0];if(!r)return[];var a=we(u,aT,"frameRate"),o=we(u,aT,"subFrameRate"),s=we(u,aT,"frameRateMultiplier"),f=we(u,aT,"tickRate"),c=we(u,aT,"cellResolution"),l=u.attributes["xml:space"]||"default",h=we(u,oT,"extent");if("default"!=l&&"preserve"!=l)throw new vt(2,2,2005,"Invalid xml:space value: "+l);l="default"==l;a=new W3(a,o,s,f);c=K3(c);o=he(u,"metadata")[0];o=(o?o.children:[]).filter(function(n){return"\n"!=n});s=he(u,"style");u=he(u,"region");f=[];for(var d=lt(u),v=d.next();!v.done;v=d.next())(v=_3(v.value,s,h))&&f.push(v);if(fn(r,"p").length)throw new vt(2,2,2001,"<p> can only be inside <div> in TTML");h=lt(fn(r,"div"));for(d=h.next();!d.done;d=h.next())if(fn(d.value,"span").length)throw new vt(2,2,2001,"<span> can only be inside <p> in TTML");if(t=C3(r,t,a,o,s,u,f,l,c,null,!1,e,i))t.backgroundColor||(t.backgroundColor="transparent"),n.push(t);return n};function C3(n,t,e,i,r,u,a,o,s,f,c,l,h){var d=f;if(se(n)){if(!c)return null;var v={tagName:"span",children:[ce(n)],attributes:{},parent:null}}else v=n;for(var m=null,p=lt(sT),w=p.next();!w.done&&!(m=H3(v,"backgroundImage",i,"#",w.value)[0]);w=p.next());p=null;w=we(v,sT,"backgroundImage");var g=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(w&&g.test(w)){p=parseInt(w.split(":").pop(),10)-1;if(p>=h.length)return null;p=h[p]}else l&&w&&!w.startsWith("#")&&(g=new wi(l),w=new wi(w),(w=g.resolve(w).toString())&&(p=w));if("p"==n.tagName||m||p)c=!0;n=c;w="default"==(v.attributes["xml:space"]||(o?"default":"preserve"));g=v.children.every(se);o=[];if(!g)for(var b=lt(v.children),y=b.next();!y.done;y=b.next())(y=C3(y.value,t,e,i,r,u,a,w,s,v,c,l,h))&&o.push(y);i=null!=f;l=ce(v);l=v.children.length&&l&&/\S/.test(l);b=v.attributes.begin||v.attributes.end||v.attributes.dur;if(!(b||l||"br"==v.tagName||0!=o.length||i&&!w))return null;h=V3(v,e);l=h.start;for(h=h.end;d&&d.tagName&&"tt"!=d.tagName;)h=j3(d,e,l,h),l=h.start,h=h.end,d=d.parent;null==l&&(l=0);l+=t.$u;h=null==h?Infinity:h+t.$u;l=Math.max(l,t.Qu);h=Math.min(h,t.Ju);if(!b&&0<o.length)for(l=Infinity,h=0,t=lt(o),e=t.next();!e.done;e=t.next())e=e.value,l=Math.min(l,e.startTime),h=Math.max(h,e.endTime);if("br"==v.tagName)return r=new Oe(l,h,""),r.lineBreak=!0,r;t="";g&&(t=Kt(ce(v)||""),w&&(t=t.replace(/\s+/g," ")));t=new Oe(l,h,t);t.pr=o;c||(t.wr=!0);s&&(t.br=s);s=H3(v,"region",u,"")[0];if(v.attributes.region&&s&&s.attributes["xml:id"]){var T=s.attributes["xml:id"];t.region=a.filter(function(n){return n.id==T})[0]}a=s;f&&i&&!v.attributes.region&&!v.attributes.style&&(a=H3(f,"region",u,"")[0]);O3(t,v,a,m,p,r,n,0==o.length);return t}function _3(n,t,e){var i=new Qn,r=n.attributes["xml:id"];if(!r)return null;i.id=r;r=null;e&&(r=z3.exec(e)||Q3.exec(e));e=r?Number(r[1]):null;r=r?Number(r[2]):null;var u,a=F3(n,t,"extent");if(a){var o=(u=z3.exec(a))||Q3.exec(a);null!=o&&(i.width=Number(o[1]),i.height=Number(o[2]),u||(null!=e&&(i.width=100*i.width/e),null!=r&&(i.height=100*i.height/r)),i.gn=u||null!=e?Jn:0,i.bn=u||null!=r?Jn:0)}if(n=F3(n,t,"origin"))if(o=(u=z3.exec(n))||Q3.exec(n),null!=o)i.viewportAnchorX=Number(o[1]),i.viewportAnchorY=Number(o[2]),u?a||(i.width=100-i.viewportAnchorX,i.gn=Jn,i.height=100-i.viewportAnchorY,i.bn=Jn):(null!=r&&(i.viewportAnchorY=100*i.viewportAnchorY/r),null!=e&&(i.viewportAnchorX=100*i.viewportAnchorX/e)),i.wn=u||null!=e?Jn:0;return i}function L3(n){var t=n.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),4==t.length)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):n}function O3(n,t,e,i,r,u,a,o){a=a||o;"rtl"==U3(t,e,u,"direction",a)&&(n.direction="rtl");o=U3(t,e,u,"writingMode",a);"tb"==o||"tblr"==o?n.writingMode="vertical-lr":"tbrl"==o?n.writingMode="vertical-rl":"rltb"==o||"rl"==o?n.direction="rtl":o&&(n.direction=ze);(o=U3(t,e,u,"textAlign",!0))?(n.positionAlign=uT[o],n.lineAlign=rT[o],n.textAlign=qe[o.toUpperCase()]):n.textAlign=Ge;if(o=U3(t,e,u,"displayAlign",!0))n.lr=We[o.toUpperCase()];if(o=U3(t,e,u,"color",a))n.color=L3(o);if(o=U3(t,e,u,"backgroundColor",a))n.backgroundColor=L3(o);if(o=U3(t,e,u,"border",a))n.border=o;if(o=U3(t,e,u,"fontFamily",a))switch(o){case"monospaceSerif":n.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":n.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":n.fontFamily="sans-serif";break;case"monospaceSansSerif":n.fontFamily="Consolas,monospace";break;case"proportionalSerif":n.fontFamily="serif";break;default:n.fontFamily=o.split(",").filter(function(n){return"default"!=n}).join(",")}(o=U3(t,e,u,"fontWeight",a))&&"bold"==o&&(n.fontWeight=ei);o=U3(t,e,u,"wrapOption",a);n.mr=o&&"noWrap"==o?!1:!0;(o=U3(t,e,u,"lineHeight",a))&&o.match($3)&&(n.lineHeight=o);(o=U3(t,e,u,"fontSize",a))&&(o.match($3)||o.match(Y3))&&(n.fontSize=o);if(o=U3(t,e,u,"fontStyle",a))n.fontStyle=ui[o.toUpperCase()];i?(r=i.attributes.imageType||i.attributes.imagetype,o=i.attributes.encoding,i=ce(i).trim(),"PNG"==r&&"Base64"==o&&i&&(n.backgroundImage="data:image/png;base64,"+i)):r&&(n.backgroundImage=r);if(i=U3(t,e,u,"textOutline",a))i=i.split(" "),i[0].match($3)?n.vr=n.color:(n.vr=L3(i[0]),i.shift()),i[0]&&i[0].match($3)?n.dr=i[0]:n.vr="";(i=U3(t,e,u,"letterSpacing",a))&&i.match($3)&&(n.letterSpacing=i);(i=U3(t,e,u,"linePadding",a))&&i.match($3)&&(n.hr=i);if(i=U3(t,e,u,"opacity",a))n.opacity=parseFloat(i);(i=F3(e,u,"textDecoration"))&&x3(n,i);(i=B3(t,u,"textDecoration"))&&x3(n,i);if(i=U3(t,e,u,"textCombine",a))n.textCombineUpright=i;switch(U3(t,e,u,"ruby",a)){case"container":n.gr="ruby";break;case"text":n.gr="rt"}}function x3(n,t){t=lt(t.split(" "));for(var e=t.next();!e.done;e=t.next())switch(e.value){case"underline":n.textDecoration.includes(ai)||n.textDecoration.push(ai);break;case"noUnderline":n.textDecoration.includes(ai)&&tt(n.textDecoration,ai);break;case"lineThrough":n.textDecoration.includes("lineThrough")||n.textDecoration.push("lineThrough");break;case"noLineThrough":n.textDecoration.includes("lineThrough")&&tt(n.textDecoration,"lineThrough");break;case"overline":n.textDecoration.includes("overline")||n.textDecoration.push("overline");break;case"noOverline":n.textDecoration.includes("overline")&&tt(n.textDecoration,"overline")}}function U3(n,t,e,i,r){r=void 0===r?!0:r;return(n=B3(n,e,i))?n:r?F3(t,e,i):null}function F3(n,t,e){if(!n)return null;var i=we(n,oT,e);return i?i:X3(n,t,e)}function B3(n,t,e){var i=we(n,oT,e);return i?i:X3(n,t,e)}function X3(n,t,e){n=H3(n,"style",t,"");for(var i=null,r=0;r<n.length;r++){var u=me(n[r],"urn:ebu:tt:style",e);u||(u=we(n[r],oT,e));u||(u=B3(n[r],t,e));u&&(i=u)}return i}function H3(n,t,e,i,r){var u=[];if(!n||1>e.length)return u;var a=n;for(n=null;!n&&!(n=r?me(a,r,t):a.attributes[t])&&(a=a.parent,a););if(t=n)for(t=lt(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,n=lt(e),a=n.next();!a.done;a=n.next())if(a=a.value,i+a.attributes["xml:id"]==r){u.push(a);break}return u}function j3(n,t,e,i){n=V3(n,t);null==e?e=n.start:null!=n.start&&(e+=n.start);null==i?i=n.end:null!=n.start&&(i+=n.start);return{start:e,end:i}}function V3(n,t){var e=G3(n.attributes.begin,t),i=G3(n.attributes.end,t);n=G3(n.attributes.dur,t);null==i&&null!=n&&(i=e+n);return{start:e,end:i}}function G3(n,t){var e=null;if(J3.test(n)){n=J3.exec(n);e=Number(n[1]);var i=Number(n[2]),r=Number(n[3]),u=Number(n[4]);u+=(Number(n[5])||0)/t.h;r+=u/t.La;e=r+60*i+3600*e}else if(Z3.test(n))e=q3(Z3,n);else if(nT.test(n))e=q3(nT,n);else if(tT.test(n))n=tT.exec(n),e=Number(n[1])/t.La;else if(eT.test(n))n=eT.exec(n),e=Number(n[1])/t.i;else if(iT.test(n))e=q3(iT,n);else if(n)throw new vt(2,2,2001,"Could not parse cue time range in TTML");return e}function q3(n,t){n=n.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function K3(n){return n?(n=/^(\d+) (\d+)$/.exec(n))?{yr:parseInt(n[1],10),rows:parseInt(n[2],10)}:null:null}t("shaka.text.TtmlTextParser",D3);D3.prototype.na=D3.prototype.na;D3.prototype.Kd=D3.prototype.Kd;D3.prototype.qd=D3.prototype.qd;D3.prototype.Yu=D3.prototype.Yu;function W3(n,t,e,i){this.La=Number(n)||30;this.h=Number(t)||1;this.i=Number(i);0==this.i&&(this.i=n?this.La*this.h:1);e&&(n=/^(\d+) (\d+)$/g.exec(e))&&(this.La*=Number(n[1])/Number(n[2]))}var z3=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Y3=/^(\d{1,4}(?:\.\d+)?|100)%$/,$3=/^(\d+px|\d+em|\d*\.?\d+c)$/,Q3=/^(\d+)px (\d+)px$/,J3=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Z3=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,nT=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,tT=/^(\d*(?:\.\d*)?)f$/,eT=/^(\d*(?:\.\d*)?)t$/,iT=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),rT={left:Qe,W5:"center",right:"end",start:Qe,end:"end"},uT={left:"line-left",W5:"center",right:"line-right"},aT=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],oT=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],sT=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];pr["z5"]=function(){return new D3};function fT(){this.i=new D3}fT.prototype.Yu=function(n){var t=!1;(new ba).ul("moov",k).ul("trak",k).ul("mdia",k).ul("minf",k).ul("stbl",k).al("stsd",ya).ul("stpp",function(n){t=!0;n.sl.stop()}).parse(n);if(!t)throw new vt(2,2,2007)};fT.prototype.qd=function(){};fT.prototype.Kd=function(){};fT.prototype.na=function(n,a,o){var s=this,f=!1,c=[],l=[];(new ba).ul("moof",k).ul("traf",k).al("subs",function(n){l=[];for(var t=n.cl,e=t.Fc(),i=0;i<e;i++){t.Fc();for(var r=t.Uc(),u=0;u<r;u++)1==n.version?l.push(t.Fc()):l.push(t.Uc()),t.xc(),t.xc(),t.Fc()}}).ul("mdat",Sa(function(n){f=!0;if(l.length){for(var t=dt(n,0,l[0]),e=[],i=l[0],r=1;r<l.length;r++){var u=dt(n,i,l[r]);u=Li(u);e.push("data:image/png;base64,"+u);i+=l[r]}c=c.concat(s.i.na(t,a,o,e))}else c=c.concat(s.i.na(n,a,o,[]))})).parse(n,!1);if(!f)throw new vt(2,2,2007);return c};t("shaka.text.Mp4TtmlParser",fT);fT.prototype.na=fT.prototype.na;fT.prototype.Kd=fT.prototype.Kd;fT.prototype.qd=fT.prototype.qd;fT.prototype.Yu=fT.prototype.Yu;pr["Y5"]=function(){return new fT};pr["Q5"]=function(){return new fT};pr["J5"]=function(){return new fT};pr["Z5"]=function(){return new fT};pr["nN"]=function(){return new fT};pr["tN"]=function(){return new fT};pr["eN"]=function(){return new fT};pr["iN"]=function(){return new fT};pr["rN"]=function(){return new fT};pr["uN"]=function(){return new fT};function cT(){this.i="UNKNOWN"}cT.prototype.Yu=function(){};cT.prototype.qd=function(){};cT.prototype.Kd=function(n){this.i=n};cT.prototype.na=function(n,t){n=Xt(n);n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");var e=n.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(e[0]))throw new vt(2,2,2e3);n=t.Zu;if("HLS"==this.i)if(e[0].includes("X-TIMESTAMP-MAP")){var i=e[0];n=i.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m);i=i.match(/MPEGTS:(\d+)/m);if(!n||!i)throw new vt(2,2,2e3);n=Zt(n[1]);if(null==n)throw new vt(2,2,2e3);i=Number(i[1]);for(var r=t.Qu-t.$u;95443.7176888889<=r;)r-=95443.7176888889,i+=8589934592;n=t.$u+i/9e4-n}else t.$u&&t.Zu==t.$u&&(n=0);t=[];i=lt(e[0].split("\n"));for(r=i.next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new zt(r);var u=new Qn;Qt(r);Yt(r);for(var a=Qt(r);a;){var o=u,s=a;(a=/^id=(.*)$/.exec(s))?o.id=a[1]:(a=/^width=(\d{1,2}|100)%$/.exec(s))?o.width=Number(a[1]):(a=/^lines=(\d+)$/.exec(s))?(o.height=Number(a[1]),o.bn=2):(a=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(s))?(o.regionAnchorX=Number(a[1]),o.regionAnchorY=Number(a[2])):(a=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(s))?(o.viewportAnchorX=Number(a[1]),o.viewportAnchorY=Number(a[2])):/^scroll=up$/.exec(s)&&(o.scroll="up");Yt(r);a=Qt(r)}t.push(u)}i=new Map;Be(i);r=[];e=lt(e.slice(1));for(u=e.next();!u.done;u=e.next()){u=u.value.split("\n");if((1!=u.length||u[0])&&!/^NOTE($|[ \t])/.test(u[0])&&"STYLE"==u[0]){o=[];a=-1;for(s=1;s<u.length;s++)u[s].includes("::cue")&&(o.push([]),a=o.length-1),-1!=a&&(o[a].push(u[s]),u[s].includes("}")&&(a=-1));o=lt(o);for(a=o.next();!a.done;a=o.next()){var f=a.value;a="global";(s=f[0].match(/\((.*)\)/))&&(a=s.pop());s=f.slice(1,-1);f[0].includes("}")&&(f=/\{(.*?)\}/.exec(f[0]))&&(s=f[1].split(";"));(f=i.get(a))||(f=new Oe(0,0,""));for(var c=!1,l=0;l<s.length;l++){var h=/^\s*([^:]+):\s*(.*)/.exec(s[l]);if(h){var d=h[2].trim().replace(";","");switch(h[1].trim()){case"background-color":case"background":c=!0;f.backgroundColor=d;break;case"color":c=!0;f.color=d;break;case"font-family":c=!0;f.fontFamily=d;break;case"font-size":c=!0;f.fontSize=d;break;case"font-weight":if(700<=parseInt(d,10)||"bold"==d)c=!0,f.fontWeight=ei;break;case"font-style":switch(d){case"normal":c=!0;f.fontStyle=ii;break;case"italic":c=!0;f.fontStyle=ri;break;case"oblique":c=!0,f.fontStyle="oblique"}break;case"opacity":c=!0;f.opacity=parseFloat(d);break;case"text-combine-upright":c=!0;f.textCombineUpright=d;break;case"text-shadow":c=!0;f.textShadow=d;break;case"white-space":c=!0,f.mr="noWrap"!=d}}}c&&i.set(a,f)}}f=u;c=n;if(1==f.length&&!f[0]||/^NOTE($|[ \t])/.test(f[0])||"STYLE"==f[0]||"REGION"==f[0])u=null;else if(u=null,f[0].includes("--\x3e")||(u=f[0],f.splice(0,1)),o=new zt(f[0]),a=Jt(o),l=$t(o,/[ \t]+--\x3e[ \t]+/g),s=Jt(o),null==a||null==l||null==s)M("Failed to parse VTT time code. Cue skipped:",u,f),u=null;else{a+=c;s+=c;c=f.slice(1).join("\n").trim();i.has("global")?(f=i.get("global").clone(),f.startTime=a,f.endTime=s,f.sr=c):f=new Oe(a,s,c);Yt(o);for(a=Qt(o);a;)lT(f,a,t),Yt(o),a=Qt(o);Fe(f,i);null!=u&&(f.id=u);u=f}u&&r.push(u)}return r};function lT(n,t,e){var i;if(i=/^align:(start|middle|center|end|left|right)$/.exec(t))t=i[1],"middle"==t?n.textAlign=Ge:n.textAlign=qe[t.toUpperCase()];else if(i=/^vertical:(lr|rl)$/.exec(t))n.writingMode="lr"==i[1]?"vertical-lr":"vertical-rl";else if(i=/^size:([\d.]+)%$/.exec(t))n.size=Number(i[1]);else if(i=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))n.position=Number(i[1]),i[2]&&(t=i[2],n.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center"==t||"middle"==t?"center":Ve);else if(i=/^region:(.*)$/.exec(t)){if(t=hT(e,i[1]))n.region=t}else if(e=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))n.cr=1,n.line=Number(e[1]),e[2]&&(n.lineAlign=Je[e[2].toUpperCase()]);else if(e=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))n.cr=$e,n.line=Number(e[1]),e[2]&&(n.lineAlign=Je[e[2].toUpperCase()])}function hT(n,t){n=n.filter(function(n){return n.id==t});return n.length?n[0]:null}t("shaka.text.VttTextParser",cT);cT.prototype.na=cT.prototype.na;cT.prototype.Kd=cT.prototype.Kd;cT.prototype.qd=cT.prototype.qd;cT.prototype.Yu=cT.prototype.Yu;pr["aN"]=function(){return new cT};pr["oN"]=function(){return new cT};pr["sN"]=function(){return new cT};function dT(){this.i=null}dT.prototype.Yu=function(n){var t=this,e=!1;(new ba).ul("moov",k).ul("trak",k).ul("mdia",k).al("mdhd",function(n){n=Zo(n.cl,n.version);t.i=n.Xh}).ul("minf",k).ul("stbl",k).al("stsd",ya).ul("wvtt",function(){e=!0}).parse(n);if(!this.i)throw new vt(2,2,2008);if(!e)throw new vt(2,2,2008)};dT.prototype.qd=function(){};dT.prototype.Kd=function(){};dT.prototype.na=function(n,t){if(!n.length)return[];if(!this.i)throw new vt(2,2,2008);var e=0,i=[],r,u=[],a=!1,o=!1,s=!1,f=null;(new ba).ul("moof",k).ul("traf",k).al("tfdt",function(n){a=!0;e=Jo(n.cl,n.version).q0}).al("tfhd",function(n){f=Qo(n.cl,n.flags).j0}).al("trun",function(n){o=!0;i=ns(n.cl,n.version,n.flags).$0}).ul("mdat",Sa(function(n){s=!0;r=n})).parse(n,!1);if(!s&&!a&&!o)throw new vt(2,2,2008);n=e;for(var c=new pa(r,0),l=lt(i),h=l.next();!h.done;h=l.next()){h=h.value;var d=h.K0||f,v=h.z0?e+h.z0:n;n=v+(d||0);var m=0;do{var p=c.Fc();m+=p;var w=c.Fc(),g=null;"vttc"==ka(w)?8<p&&(g=c.Hc(p-8)):c.jc(p-8);d&&g&&(p=vT(g,t.$u+v/this.i,t.$u+n/this.i),u.push(p))}while(h.W0&&m<h.W0)}return u.filter(br)};function vT(n,t,e){var i,r,u;(new ba).ul("payl",Sa(function(n){i=Xt(n)})).ul("iden",Sa(function(n){r=Xt(n)})).ul("sttg",Sa(function(n){u=Xt(n)})).parse(n);return i?mT(i,r,u,t,e):null}function mT(n,t,e,i,r){n=new Oe(i,r,n);Fe(n);t&&(n.id=t);if(e)for(t=new zt(e),e=Qt(t);e;)lT(n,e,[]),Yt(t),e=Qt(t);return n}t("shaka.text.Mp4VttParser",dT);dT.prototype.na=dT.prototype.na;dT.prototype.Kd=dT.prototype.Kd;dT.prototype.qd=dT.prototype.qd;dT.prototype.Yu=dT.prototype.Yu;pr["fN"]=function(){return new dT};function pT(){}pT.prototype.Yu=function(){};pT.prototype.qd=function(){};pT.prototype.Kd=function(){};pT.prototype.na=function(n){var t=Xt(n).replace(/\r+/g,"");t=t.trim();n=[];if(""==t)return n;t=lt(t.split("\n\n"));for(var e=t.next();!e.done;e=t.next()){e=e.value.split("\n");var i=new zt(e[0]),r=Jt(i),u=$t(i,/,/g);i=Jt(i);if(null==r||null==u||null==i)throw new vt(2,2,2001,"Could not parse cue time range in SubViewer");n.push(new Oe(r,i,e.slice(1).join("\n").trim()))}return n};t("shaka.text.SbvTextParser",pT);pT.prototype.na=pT.prototype.na;pT.prototype.Kd=pT.prototype.Kd;pT.prototype.qd=pT.prototype.qd;pT.prototype.Yu=pT.prototype.Yu;pr["cN"]=function(){return new pT};function wT(){this.i=new cT}wT.prototype.Yu=function(){};wT.prototype.qd=function(){};wT.prototype.Kd=function(){};wT.prototype.na=function(n,t,e){n=Xt(n);n=gT(n);n=dt(Vt(n));return this.i.na(n,t,e,[])};function gT(n){var t="WEBVTT\n\n";if(""==n)return t;n=n.replace(/\r+/g,"");n=n.trim();n=lt(n.split("\n\n"));for(var e=n.next();!e.done;e=n.next())e=e.value.split(/\n/),e[0].match(/\d+/)&&e.shift(),e[0]=e[0].replace(/,/g,"."),t+=e.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}t("shaka.text.SrtTextParser",wT);wT.lN=gT;wT.prototype.na=wT.prototype.na;wT.prototype.Kd=wT.prototype.Kd;wT.prototype.qd=wT.prototype.qd;wT.prototype.Yu=wT.prototype.Yu;pr["hN"]=function(){return new wT};function bT(){}bT.prototype.Yu=function(){};bT.prototype.qd=function(){};bT.prototype.Kd=function(){};bT.prototype.na=function(n){var t="",e="",i=null,r=null;r=Xt(n).split(/\r?\n\s*\r?\n/);n=lt(r);for(r=n.next();!r.done;r=n.next()){var u=r.value;r=u;if(u=ST.exec(u))i=u[1],r=u[2];"V4 Styles"==i||"V4+ Styles"==i?(t=r,t=e?t+("\n"+r):r):"Events"==i&&(e=e?e+("\n"+r):r)}i=[];r=null;t=lt(t.split(/\r?\n/));for(n=t.next();!n.done;n=t.next())if(n=n.value,!/^\s*;/.test(n)&&(u=AT.exec(n)))if(n=u[1].trim(),u=u[2].trim(),"Format"==n)r=u.split(kT);else if("Style"==n){n=u.split(kT);u={};for(var a=0;a<r.length&&a<n.length;a++)u[r[a]]=n[a];i.push(u)}r=[];t=null;e=lt(e.split(/\r?\n/));u=e.next();for(n={};!u.done;n={dN:void 0},u=e.next())if(u=u.value,!/^\s*;/.test(u)&&(a=AT.exec(u)))if(u=a[1].trim(),a=a[2].trim(),"Format"==u)t=a.split(kT);else if("Dialogue"==u){a=a.split(kT);u={};for(var o=0;o<t.length&&o<a.length;o++)u[t[o]]=a[o];o=ET(u.Start);var s=ET(u.End);a=new Oe(o,s,a.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,""));n.dN=u.Style;(n=i.find(function(t){return function(n){return n.Name==t.dN}}(n)))&&yT(a,n);r.push(a)}return r};function yT(n,t){var e=t.Fontname;e&&(n.fontFamily=e);if(e=t.Fontsize)n.fontSize=e+"px";if(e=t.PrimaryColour)if(e=TT(e))n.color=e;if(e=t.BackColour)if(e=TT(e))n.backgroundColor=e;t.Bold&&(n.fontWeight=ei);t.Italic&&(n.fontStyle=ri);t.Underline&&n.textDecoration.push(ai);if(e=t.Spacing)n.letterSpacing=e+"px";if(e=t.Alignment)switch(parseInt(e,10)){case 1:n.lr=Ke;n.textAlign="start";break;case 2:n.lr=Ke;n.textAlign=Ge;break;case 3:n.lr=Ke;n.textAlign="end";break;case 5:n.lr="before";n.textAlign="start";break;case 6:n.lr="before";n.textAlign=Ge;break;case 7:n.lr="before";n.textAlign="end";break;case 9:n.lr="center";n.textAlign="start";break;case 10:n.lr="center";n.textAlign=Ge;break;case 11:n.lr="center",n.textAlign="end"}if(t=t.AlphaLevel)n.opacity=parseFloat(t)}function TT(n){n=parseInt(n.replace("&H",""),16);return 0<=n?"rgba("+(n&255)+","+(n>>8&255)+","+(n>>16&255)+","+(n>>24&255^255)/255+")":null}function ET(n){n=MT.exec(n);return 3600*(n[1]?parseInt(n[1].replace(":",""),10):0)+60*parseInt(n[2],10)+parseFloat(n[3])}t("shaka.text.SsaTextParser",bT);bT.prototype.na=bT.prototype.na;bT.prototype.Kd=bT.prototype.Kd;bT.prototype.qd=bT.prototype.qd;bT.prototype.Yu=bT.prototype.Yu;var ST=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,AT=/^\s*([^:]+):\s*(.*)/,kT=/\s*,\s*/,MT=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;pr["vN"]=function(){return new bT};function IT(n,t){var e=n[t+1]&1?7:9;return t+e<=n.length&&(n=((n[t+3]&3)<<11|n[t+4]<<3|(n[t+5]&224)>>>5)-e,0<n)?{mN:e,pN:n}:null}function NT(n,t){var e=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=(n[t+2]&60)>>>2;if(i>e.length-1)return null;var r=((n[t+2]&192)>>>6)+1,u=(n[t+2]&1)<<2;u|=(n[t+3]&192)>>>6;return{sampleRate:e[i],channelCount:u,J0:"mp4a.40."+r}}function PT(n,t){if(t+1<n.length&&255===n[t]&&240===(n[t+1]&246)){var e=n[t+1]&1?7:9;if(t+e>=n.length)return!1;var i=(n[t+3]&3)<<11|n[t+4]<<3|(n[t+5]&224)>>>5;if(i<=e)return!1;t+=i;return t===n.length||t+1<n.length&&255===n[t]&&240===(n[t+1]&246)}return!1}function RT(n,t){switch(n){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function DT(n){this.v=n;this.h=0;this.i=new Map;this.g=null}n=DT.prototype;n.su=function(){this.i.clear()};n.isSupported=function(n){return"audio/aac"==n.toLowerCase().split(";")[0]?Dn(this.qu("audio",n)):!1};n.qu=function(n,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(rr(t)||"mp4a.40.2")+'"':t};n.u1=function(){return this.v};n.a1=function(n,t,e,i){for(var r=dt(n),u=$o(r),a=u.length;a<r.length&&!PT(r,a);a++);n=1e3*e.endTime;u=Yo(u);u.length&&e&&(u=u.find(function(n){return"com.apple.streaming.transportStreamTimestamp"===n.description}))&&(n=u.data);u=NT(r,a);if(!u)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));t.ya=u.sampleRate;t.ba=u.channelCount;for(var o=[];a<r.length;){var s=IT(r,a);if(!s)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));var f=s.mN+s.pN;a+f<=r.length&&o.push({data:r.subarray(a+s.mN,a+f),size:s.pN,duration:1024,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});a+=f}r=u.sampleRate;n=Math.floor(n*r/1e3);i={id:t.id,type:"audio",va:u.J0,Za:t.Za&&0<t.vo.length,Xh:r,duration:i,gI:[],bI:new Uint8Array([]),wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.h,q0:n,SI:o},stream:t};i=new ng([i]);e=t.id+"_"+e.g;this.i.has(e)?t=this.i.get(e):(t=tg(i),this.i.set(e,t));e=this.g!==t;i=ag(i);this.g=t;this.h++;return e?(t=Bi(t,i),Promise.resolve(t)):Promise.resolve(i)};t("shaka.transmuxer.AacTransmuxer",DT);DT.prototype.a1=DT.prototype.a1;DT.prototype.u1=DT.prototype.u1;DT.prototype.qu=DT.prototype.qu;DT.prototype.isSupported=DT.prototype.isSupported;DT.prototype.su=DT.prototype.su;fi("audio/aac",function(){return new DT("audio/aac")},hi);function CT(n,t){if(t+8>n.length||11!==n[t]||119!==n[t+1])return null;var e=n[t+4]>>6;if(3<=e)return null;var i=n[t+4]&63,r=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*i+e];if(t+r>n.length)return null;var u=n[t+6]>>5,a=0;2===u?a+=2:(u&1&&1!==u&&(a+=2),u&4&&(a+=2));a=(n[t+6]<<8|n[t+7])>>12-a&1;var o=n[t+5]&7;n=new Uint8Array([e<<6|n[t+5]>>3<<1|o>>2,(o&3)<<6|u<<3|a<<2|i>>4,i<<4&224]);return{sampleRate:[48e3,44100,32e3][e],channelCount:[2,1,2,3,3,4,4,5][u]+a,bI:n,pN:r}}function _T(n,t){if(11===n[t]&&119===n[t+1]){var e=0,i=5;t+=i;for(var r,u;0<i;){u=n[t];var a=Math.min(i,8),o=8-a;r=4278190080>>>24+o<<o;r=(u&r)>>o;e=e?e<<a|r:r;t+=1;i-=a}if(16>e)return!0}return!1}function LT(n){this.v=n;this.h=0;this.i=new Map;this.g=null}n=LT.prototype;n.su=function(){this.i.clear()};n.isSupported=function(n){return"audio/ac3"==n.toLowerCase().split(";")[0]?Dn(this.qu("audio",n)):!1};n.qu=function(n,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ac-3"':t};n.u1=function(){return this.v};n.a1=function(n,t,e,i){n=dt(n);for(var r=$o(n),u=r.length;u<n.length&&!_T(n,u);u++);var a=1e3*e.endTime;r=Yo(r);r.length&&e&&(r=r.find(function(n){return"com.apple.streaming.transportStreamTimestamp"===n.description}))&&(a=r.data);r=0;for(var o=new Uint8Array([]),s=[];u<n.length;){var f=CT(n,u);if(!f)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));t.ya=f.sampleRate;t.ba=f.channelCount;r=f.sampleRate;o=f.bI;s.push({data:n.subarray(u,u+f.pN),size:f.pN,duration:1536,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});u+=f.pN}n=Math.floor(a*r/1e3);i={id:t.id,type:"audio",va:"ac-3",Za:t.Za&&0<t.vo.length,Xh:r,duration:i,gI:[],bI:o,wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.h,q0:n,SI:s},stream:t};i=new ng([i]);e=t.id+"_"+e.g;this.i.has(e)?t=this.i.get(e):(t=tg(i),this.i.set(e,t));e=this.g!==t;i=ag(i);this.g=t;this.h++;return e?(t=Bi(t,i),Promise.resolve(t)):Promise.resolve(i)};t("shaka.transmuxer.Ac3Transmuxer",LT);LT.prototype.a1=LT.prototype.a1;LT.prototype.u1=LT.prototype.u1;LT.prototype.qu=LT.prototype.qu;LT.prototype.isSupported=LT.prototype.isSupported;LT.prototype.su=LT.prototype.su;fi("audio/ac3",function(){return new LT("audio/ac3")},hi);function OT(n,t){if(t+8>n.length||2935!==(n[t]<<8|n[t+1]<<0))return null;var e=new as(n.subarray(t+2));ss(e,2);ss(e,3);var i=x(e,11)+1<<1,r=x(e,2);if(3==r){r=x(e,2);r=[24e3,22060,16e3][r];var u=3}else r=[48e3,44100,32e3][r],u=x(e,2);var a=x(e,3),o=x(e,1);e=x(e,5);if(t+i>n.byteLength)return null;n=Math.floor(i*r/(16*[1,2,3,6][u]));n=new Uint8Array([(n&8160)>>5,(n&31)<<3,r<<6|e<<1|0,0|a<<1|o<<0,0]);return{sampleRate:r,channelCount:[2,1,2,3,3,4,4,5][a]+o,bI:n,pN:i}}function xT(n){this.v=n;this.h=0;this.i=new Map;this.g=null}n=xT.prototype;n.su=function(){this.i.clear()};n.isSupported=function(n){return"audio/ec3"==n.toLowerCase().split(";")[0]?Dn(this.qu("audio",n)):!1};n.qu=function(n,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t};n.u1=function(){return this.v};n.a1=function(n,t,e,i){n=dt(n);for(var r=$o(n),u=r.length;u<n.length&&2935!==(n[u]<<8|n[u+1]<<0);u++);var a=1e3*e.endTime;r=Yo(r);r.length&&e&&(r=r.find(function(n){return"com.apple.streaming.transportStreamTimestamp"===n.description}))&&(a=r.data);r=0;for(var o=new Uint8Array([]),s=[];u<n.length;){var f=OT(n,u);if(!f)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));t.ya=f.sampleRate;t.ba=f.channelCount;r=f.sampleRate;o=f.bI;s.push({data:n.subarray(u,u+f.pN),size:f.pN,duration:1536,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});u+=f.pN}n=Math.floor(a*r/1e3);i={id:t.id,type:"audio",va:"ec-3",Za:t.Za&&0<t.vo.length,Xh:r,duration:i,gI:[],bI:o,wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.h,q0:n,SI:s},stream:t};i=new ng([i]);e=t.id+"_"+e.g;this.i.has(e)?t=this.i.get(e):(t=tg(i),this.i.set(e,t));e=this.g!==t;i=ag(i);this.g=t;this.h++;return e?(t=Bi(t,i),Promise.resolve(t)):Promise.resolve(i)};t("shaka.transmuxer.Ec3Transmuxer",xT);xT.prototype.a1=xT.prototype.a1;xT.prototype.u1=xT.prototype.u1;xT.prototype.qu=xT.prototype.qu;xT.prototype.isSupported=xT.prototype.isSupported;xT.prototype.su=xT.prototype.su;fi("audio/ec3",function(){return new xT("audio/ec3")},hi);function UT(n){if(!n.length)return null;var t=n.find(function(n){return 7==n.type});n=n.find(function(n){return 8==n.type});if(!t||!n)return null;var e=new as(t.data),i=B(e);B(e);B(e);cs(e);if(BT.includes(i)&&(i=U(e),3===i&&ss(e,1),cs(e),cs(e),ss(e,1),F(e))){i=3!==i?8:12;for(var r=0;r<i;r++)F(e)&&(6>r?hs(e,16):hs(e,64))}cs(e);i=U(e);if(0===i)U(e);else if(1===i)for(ss(e,1),cs(e),cs(e),i=U(e),r=0;r<i;r++)cs(e);cs(e);ss(e,1);var u=U(e),a=U(e),o=x(e,1);0===o&&ss(e,1);ss(e,1);var s=0,f=0,c=0,l=0;F(e)&&(s=U(e),f=U(e),c=U(e),l=U(e));r=i=1;if(F(e)&&F(e)){var h=B(e),d=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],v=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<h&&16>=h?(i=d[h-1],r=v[h-1]):255===h&&(i=x(e,16),r=x(e,16))}e=(2-o)*(a+1)*16-2*c-2*l;u=16*(u+1)-2*s-2*f;s=[];t=t.fd;s.push(t.byteLength>>>8&255);s.push(t.byteLength&255);s=s.concat.apply(s,ht(t));t=[];n=n.fd;t.push(n.byteLength>>>8&255);t.push(n.byteLength&255);t=t.concat.apply(t,ht(n));n=new Uint8Array([1,s[3],s[4],s[5],255,225].concat(s,[1],t));return{height:e,width:u,wI:n,yI:i,TI:r}}function FT(n){function t(n){a={data:new Uint8Array([]),frame:!1,wN:!1,cn:n.cn,rd:n.rd,ud:[]}}function e(){if(a&&a.ud.length&&a.frame){for(var n=[],t=lt(a.ud),e=t.next();!e.done;e=t.next()){e=e.value;var i=e.fd.byteLength,r=new Uint8Array(4);r[0]=i>>24&255;r[1]=i>>16&255;r[2]=i>>8&255;r[3]=i&255;n.push(r);n.push(e.fd)}a.data=Bi.apply(_i,ht(n));u.push(a)}}for(var u=[],a=null,i=!1,r=0;r<n.length;r++){var o=n[r],s=o.ud,f=!1;a&&s.length&&!i&&(e(),t(o));s=lt(o.ud);for(var c=s.next();!c.done;c=s.next()){c=c.value;var l=!1;switch(c.type){case 1:var h=!1;l=!0;var d=c.data;f&&4<d.length&&(d=ds(new as(d)),2===d||4===d||7===d||9===d)&&(h=!0);h&&a&&a.frame&&!a.wN&&(e(),a=null);a||t(o);a.frame=!0;a.wN=h;break;case 5:l=!0;a&&a.frame&&!a.wN&&(e(),a=null);a||t(o);a.frame=!0;a.wN=!0;break;case 6:l=!0;break;case 7:f=l=!0;break;case 8:l=!0;break;case 9:i=l=!0;a&&a.frame&&(e(),a=null);a||t(o);break;case 12:l=!0;break;default:l=!1}a&&l&&a.ud.push(c)}}e();return u}var BT=[100,110,122,244,44,83,86,118,128,138,139,134];function XT(n){if(!n.length)return null;var t=n.find(function(n){return 32==n.type}),e=n.find(function(n){return 33==n.type}),i=n.find(function(n){return 34==n.type});if(!t||!e||!i)return null;var r=HT(t.fd);n=jT(e.fd);var u=VT(i.fd);t=GT(t.fd,e.fd,i.fd,{gN:r.gN,bN:r.bN,yN:n.yN,TN:n.TN,EN:n.EN,SN:n.SN,AN:n.AN,kN:n.kN,MN:n.MN,IN:n.IN,NN:n.NN,PN:n.PN,RN:n.RN,DN:n.DN,CN:n.CN,_N:n._N,LN:n.LN,ON:n.ON,xN:n.xN,UN:n.UN,FN:n.FN,BN:u.BN});return{height:n.height,width:n.width,wI:t,yI:n.XN,TI:n.HN}}function HT(n){var t=new as(n,!0);B(t);B(t);x(t,4);x(t,2);x(t,6);n=x(t,3);t=F(t);return{gN:n+1,bN:t}}function jT(n){n=new as(n,!0);B(n);B(n);var t=0,e=0,i=0,r=0;x(n,4);var u=x(n,3);F(n);for(var a=x(n,2),o=x(n,1),s=x(n,5),f=B(n),c=B(n),l=B(n),h=B(n),d=B(n),v=B(n),m=B(n),p=B(n),w=B(n),g=B(n),b=B(n),y=[],T=[],E=0;E<u;E++)y.push(F(n)),T.push(F(n));if(0<u)for(E=u;8>E;E++)x(n,2);for(E=0;E<u;E++)y[E]&&x(n,88),T[E]&&B(n);U(n);y=U(n);3==y&&x(n,1);T=U(n);E=U(n);F(n)&&(t+=U(n),e+=U(n),i+=U(n),r+=U(n));var S=U(n),A=U(n),k=U(n);if(F(n))for(var M=0;M<=u;M++)U(n),U(n),U(n);else U(n),U(n),U(n);U(n);U(n);U(n);U(n);U(n);U(n);if(F(n)&&F(n))for(M=0;4>M;M++)for(var I=0;I<(3===M?2:6);I++)if(F(n)){var N=Math.min(64,1<<4+(M<<1));1<M&&ls(n);for(var P=0;P<N;P++)ls(n)}else U(n);F(n);F(n);F(n)&&(B(n),U(n),U(n),F(n));M=U(n);for(N=I=0;N<M;N++)if(P=!1,0!==N&&(P=F(n)),P){N===M&&U(n);F(n);U(n);for(var R=P=0;R<=I;R++){var D=F(n),C=!1;D||(C=F(n));(D||C)&&P++}I=P}else{R=U(n);P=U(n);I=R+P;for(D=0;D<R;D++)U(n),F(n);for(R=0;R<P;R++)U(n),F(n)}if(F(n))for(M=U(n),I=0;I<M;I++){for(N=0;N<k+4;N++)x(n,1);x(n,1)}M=k=1;I=0;F(n);F(n);if(F(n)){F(n)&&(N=B(n),P=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],R=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<N&&16>=N?(k=P[N-1],M=R[N-1]):255===N&&(k=x(n,16),M=x(n,16)));F(n)&&F(n);F(n)&&(x(n,3),F(n),F(n)&&(B(n),B(n),B(n)));F(n)&&(U(n),U(n));F(n);F(n);F(n);if(N=F(n))U(n),U(n),U(n),U(n);if(F(n)&&(x(n,32),x(n,32),F(n)&&U(n),F(n))){R=!1;N=F(n);P=F(n);if(N||P){if(R=F(n))B(n),x(n,5),F(n),x(n,5);x(n,4);x(n,4);R&&x(n,4);x(n,5);x(n,5);x(n,5)}for(D=0;D<=u;D++){var _=!0;C=1;F(n)||(_=F(n));var L=!1;_?U(n):L=F(n);L||(C=U(n)+1);if(N){for(_=0;_<C;_++)U(n),U(n),R&&(U(n),U(n));F(n)}if(P){for(_=0;_<C;_++)U(n),U(n),R&&(U(n),U(n));F(n)}}}F(n)&&(F(n),F(n),F(n),I=U(n),U(n),U(n),U(n),U(n))}return{EN:b,yN:a,TN:o,SN:s,AN:f,kN:c,MN:l,IN:h,NN:d,PN:v,RN:m,DN:p,CN:w,_N:g,ON:I,LN:0,xN:y,UN:S,FN:A,width:T-(t+e)*(1===y||2===y?2:1),height:E-(i+r)*(1===y?2:1),XN:k,HN:M}}function VT(n){var t=new as(n,!0);B(t);B(t);U(t);U(t);F(t);F(t);x(t,3);F(t);F(t);U(t);U(t);ls(t);F(t);F(t);F(t)&&U(t);ls(t);ls(t);F(t);F(t);F(t);F(t);n=F(t);t=F(t);var e=1;t&&n?e=0:t?e=3:n&&(e=2);return{BN:e}}function GT(n,t,e,i){var r=new Uint8Array(23+(5+n.byteLength)+(5+t.byteLength)+(5+e.byteLength));r[0]=1;r[1]=(i.yN&3)<<6|(i.TN?1:0)<<5|i.SN&31;r[2]=i.AN;r[3]=i.kN;r[4]=i.MN;r[5]=i.IN;r[6]=i.NN;r[7]=i.PN;r[8]=i.RN;r[9]=i.DN;r[10]=i.CN;r[11]=i._N;r[12]=i.EN;r[13]=240|(i.ON&3840)>>8;r[14]=i.ON&255;r[15]=252|i.BN&3;r[16]=252|i.xN&3;r[17]=248|i.UN&7;r[18]=248|i.FN&7;r[19]=0;r[20]=0;r[21]=(i.LN&3)<<6|(i.gN&7)<<3|(i.bN?1:0)<<2|3;r[22]=3;r[23]=160;r[24]=0;r[25]=1;r[26]=(n.byteLength&65280)>>8;r[27]=(n.byteLength&255)>>0;r.set(n,28);r[23+(5+n.byteLength)]=161;r[n.byteLength+29]=0;r[n.byteLength+30]=1;r[n.byteLength+31]=(t.byteLength&65280)>>8;r[n.byteLength+32]=(t.byteLength&255)>>0;r.set(t,n.byteLength+33);r[23+(n.byteLength+10+t.byteLength)]=162;r[n.byteLength+10+t.byteLength+24]=0;r[n.byteLength+10+t.byteLength+25]=1;r[n.byteLength+10+t.byteLength+26]=(e.byteLength&65280)>>8;r[n.byteLength+10+t.byteLength+27]=(e.byteLength&255)>>0;r.set(e,n.byteLength+10+t.byteLength+28);return r}function qT(n,t){var e=n[t+1]>>3&3,i=n[t+1]>>1&3,r=n[t+2]>>4&15,u=n[t+2]>>2&3;if(1!==e&&0!==r&&15!==r&&3!==u){var a=n[t+3]>>6;r=1e3*zT[14*(3===e?3-i:3===i?3:4)+r-1];u=YT[3*(3===e?0:2===e?1:2)+u];e=$T[e][i];var o=QT[i],s=Math.floor(e*r/u+(n[t+2]>>1&1))*o,f=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);(f=f?parseInt(f[1],10):0)&&87>=f&&2===i&&224e3<=r&&0===a&&(n[t+3]|=128);return{sampleRate:u,channelCount:3===a?1:2,pN:s,jN:8*e*o}}return null}function KT(n,t){return 255===n[t]&&224===(n[t+1]&224)&&0!==(n[t+1]&6)}function WT(n,t){if(t+1<n.length&&KT(n,t)){var e=qT(n,t),i=4;e&&e.pN&&(i=e.pN);t+=i;return t===n.length||t+1<n.length&&KT(n,t)}return!1}var zT=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],YT=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],$T=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],QT=[0,1,1,4];function JT(n){this.v=n;this.h=0;this.i=new Map;this.g=null}n=JT.prototype;n.su=function(){this.i.clear()};n.isSupported=function(n){return"audio/mpeg"==n.toLowerCase().split(";")[0]?Dn(this.qu("audio",n)):!1};n.qu=function(n,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t};n.u1=function(){return this.v};n.a1=function(n,t,e,i){for(var r=dt(n),u=$o(r).length;u<r.length&&!WT(r,u);u++);var a;for(n=[];u<r.length;){var o=qT(r,u);if(!o)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));a||(a=o);u+o.pN<=r.length&&n.push({data:r.subarray(u,u+o.pN),size:o.pN,duration:1152,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});u+=o.pN}if(!a)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));r=9e4*a.jN/a.sampleRate*this.h;i={id:t.id,type:"audio",va:"mp3",Za:t.Za&&0<t.vo.length,Xh:a.sampleRate,duration:i,gI:[],bI:new Uint8Array([]),wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.h,q0:r,SI:n},stream:t};i=new ng([i]);e=t.id+"_"+e.g;this.i.has(e)?t=this.i.get(e):(t=tg(i),this.i.set(e,t));e=this.g!==t;i=ag(i);this.g=t;this.h++;return e?(t=Bi(t,i),Promise.resolve(t)):Promise.resolve(i)};t("shaka.transmuxer.Mp3Transmuxer",JT);JT.prototype.a1=JT.prototype.a1;JT.prototype.u1=JT.prototype.u1;JT.prototype.qu=JT.prototype.qu;JT.prototype.isSupported=JT.prototype.isSupported;JT.prototype.su=JT.prototype.su;fi("audio/mpeg",function(){return new JT("audio/mpeg")},hi);function ZT(n){this.h=n;this.i=null}n=ZT.prototype;n.su=function(){};n.isSupported=function(n){if("video/mp2t"!=n.toLowerCase().split(";")[0])return!1;var t=rr(n).split(","),e=Gi("audio",t);t=Gi("video",t);return!e||t||"mp3"!=tr(e)?!1:Dn(this.qu("audio",n))};n.qu=function(n,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t};n.u1=function(){return this.h};n.a1=function(n,t,e,i,r){this.i?this.i.clearData():this.i=new vs;n=dt(n);n=this.i.parse(n);if("mp3"!=n.vd().Vu||"audio"!=r)return Promise.reject(new vt(2,3,3018,e?e.xh()[0]:null));e=new Uint8Array([]);r=lt(n.hd());for(n=r.next();!n.done;n=r.next())if(n=n.value.data)for(t=0;t<n.length;)(i=qT(n,t))?(t+i.pN<=n.length&&(e=Bi(e,n.subarray(t,t+i.pN))),t+=i.pN):t++;return Promise.resolve(e)};t("shaka.transmuxer.MpegTsTransmuxer",ZT);ZT.prototype.a1=ZT.prototype.a1;ZT.prototype.u1=ZT.prototype.u1;ZT.prototype.qu=ZT.prototype.qu;ZT.prototype.isSupported=ZT.prototype.isSupported;ZT.prototype.su=ZT.prototype.su;fi("video/mp2t",function(){return new ZT("video/mp2t")},di);function nE(n){this.h=n;(this.i=lw.get("ISOBoxer")())&&tE(this)}function tE(n){function e(){this._procFullBox();this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8));this._procField("sample_count","uint",32);this._procEntries("entry",this.VN,function(n){this._procEntryField(n,"InitializationVector","data",8);this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(n){this._procEntryField(n,"BytesOfClearData","uint",16);this._procEntryField(n,"BytesOfEncryptedData","uint",32)}))})}n.i.addBoxProcessor("saio",function(){this._procFullBox();this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32));this._procField("entry_count","uint",32);this._procFieldArray("offset",this.GN,"uint",1===this.version?64:32)});n.i.addBoxProcessor("saiz",function(){this._procFullBox();this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32));this._procField("default_sample_info_size","uint",8);this._procField("sample_count","uint",32);0===this.qN&&this._procFieldArray("sample_info_size",this.VN,"uint",8)});n.i.addBoxProcessor("senc",e);n.i.addBoxProcessor("uuid",function(){for(var n=!0,t=0;16>t;t++)this.KN[t]!==iE[t]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),e.call(this))})}n=nE.prototype;n.su=function(){};n.isSupported=function(n,t){var e=n.startsWith("mss/");if(!this.i||!e)return!1;if(t)return Dn(this.qu(t,n));t=this.qu("audio",n);n=this.qu("video",n);return Dn(t)||Dn(n)};n.qu=function(n,t){return t.replace("mss/","")};n.u1=function(){return this.h};n.a1=function(n,t,e){if(!e)return Promise.resolve(dt(n));if(!t.CI)return Promise.reject(new vt(2,3,3020,e?e.xh()[0]:null));try{var i,r=this.i.parseBuffer(n),u=r.fetch("tfhd");u.WN=t.id+1;var a=r.fetch("tfdt"),o=r.fetch("traf");null===a&&(a=this.i.createFullBox("tfdt",o,u),a.version=1,a.flags=0,a.q0=Math.floor(e.startTime*t.CI.Xh));var s=r.fetch("trun"),f=r.fetch("tfxd");f&&f._parent.boxes.splice(f._parent.boxes.indexOf(f),1);var c=r.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var l=r.fetch("sepiff");if(null!==l){l.type="senc";l.KN=void 0;var h=r.fetch("saio");if(null===h){h=this.i.createFullBox("saio",o);h.version=0;h.flags=0;h.GN=1;h.offset=[0];var d=this.i.createFullBox("saiz",o);d.version=0;d.flags=0;d.VN=l.VN;d.qN=0;d.zN=[];if(l.flags&2)for(i=0;i<l.VN;i+=1)d.zN[i]=10+6*l.O[i].NumberOfEntries;else d.qN=8}}u.flags&=16777214;u.flags|=131072;s.flags|=1;var v=r.fetch("moof");s.YN=v.Oc()+8;var m=r.fetch("saio");null!==m&&(m.offset[0]=eE(v,"traf")+eE(o,"senc")+16);var p=dt(r.write());return Promise.resolve(p)}catch(w){return w instanceof vt?Promise.reject(w):Promise.reject(new vt(2,3,3022,e?e.xh()[0]:null))}};function eE(n,t){for(var e=8,i=0;i<n.boxes.length&&n.boxes[i].type!==t;i++)e+=n.boxes[i].size;return e}t("shaka.transmuxer.MssTransmuxer",nE);nE.prototype.a1=nE.prototype.a1;nE.prototype.u1=nE.prototype.u1;nE.prototype.qu=nE.prototype.qu;nE.prototype.isSupported=nE.prototype.isSupported;nE.prototype.su=nE.prototype.su;var iE=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);fi("mss/audio/mp4",function(){return new nE("mss/audio/mp4")},hi);fi("mss/video/mp4",function(){return new nE("mss/video/mp4")},hi);function rE(n){this.m=n;this.i=0;this.g=new Map;this.l=this.h=this.v=null}n=rE.prototype;n.su=function(){this.g.clear();this.h&&this.h.su()};n.isSupported=function(n,t){if("video/mp2t"!=n.toLowerCase().split(";")[0])return!1;var e=n;t&&(e=this.qu(t,n));var i=rr(e).split(",");e=Gi("audio",i);i=Gi("video",i);if(e&&(e=tr(e),!uE.includes(e))||i&&(e=tr(i),!aE.includes(e)))return!1;if(t)return Dn(this.qu(t,n));t=this.qu("audio",n);n=this.qu("video",n);return Dn(t)||Dn(n)};n.qu=function(n,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=rr(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return Gr(n,"audio/mp4")}).map(qr).join(","),"audio"==n?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t};n.u1=function(){return this.m};n.a1=function(x,n,t,e,U){var i=dt(x);if("audio"==U&&!ys(i)){for(var F=$o(i),r=F.length;r<i.length;r++)if(WT(i,r))return Promise.reject(new vt(2,3,3018,t?t.xh()[0]:null));for(r=F.length;r<i.length;r++)if(PT(i,r))return this.h||(this.h=new DT("audio/aac")),this.h.a1(x,n,t,e,U);return Promise.reject(new vt(2,3,3018,t?t.xh()[0]:null))}this.v?this.v.clearData():this.v=new vs;var u=this.v.parse(i),B=[],X=u.vd();try{var a=null;if("video"==U){switch(X.Gu){case"avc":var H=[],j=null,V=u.dd(),o=FT(V);if(!o.length)throw new vt(2,3,3023,t?t.xh()[0]:null);for(var s=0;s<o.length;s++){var f=o[s];null==j&&(j=f.rd);var G=void 0;G=s+1<o.length?(o[s+1].rd||0)-(f.rd||0):1<o.length?(f.rd||0)-(o[s-1].rd||0):9e4*(t.endTime-t.startTime);H.push({data:f.data,size:f.data.byteLength,duration:G,II:Math.round((f.cn||0)-(f.rd||0)),flags:{NI:0,kI:0,MI:0,DI:0,AI:f.wN?2:1,RI:f.wN?0:1}})}for(var q=[],K=lt(V),W=K.next();!W.done;W=K.next())q.push.apply(q,ht(W.value.ud));var c=UT(q);if(!c||null==j)throw new vt(2,3,3018,t?t.xh()[0]:null);n.height=c.height;n.width=c.width;a={id:n.id,type:"video",va:"avc1",Za:n.Za&&0<n.vo.length,Xh:9e4,duration:e,gI:[],bI:new Uint8Array([]),wI:c.wI,yI:c.yI,TI:c.TI,data:{EI:this.i,q0:j,SI:H},stream:n};break;case"hvc":var z=[],Y=null,$=[],l=u.dd();if(!l.length)throw new vt(2,3,3023,t?t.xh()[0]:null);for(var h=0;h<l.length;h++){var d=l[h],Q=d.ud;$.push.apply($,ht(Q));for(var J=!1,Z=[],nn=!1,tn=lt(Q),en=tn.next();!en.done;en=tn.next()){var rn=en.value;switch(rn.type){case 1:case 0:var v=nn=!0;break;case 19:case 20:case 21:J=v=nn=!0;break;case 32:v=!0;break;case 33:v=!0;break;case 34:v=!0;break;case 35:nn=v=!0;break;case 39:case 40:v=!0;break;default:v=!1}if(nn&&v){var un=rn.fd.byteLength,m=new Uint8Array(4);m[0]=un>>24&255;m[1]=un>>16&255;m[2]=un>>8&255;m[3]=un&255;Z.push(m);Z.push(rn.fd)}}var p=Z.length?{data:Bi.apply(_i,ht(Z)),wN:J}:null;if(p){null==Y&&null!=d.rd&&(Y=d.rd);var an=void 0;an=h+1<l.length?(l[h+1].rd||0)-(d.rd||0):1<l.length?(d.rd||0)-(l[h-1].rd||0):9e4*(t.endTime-t.startTime);z.push({data:p.data,size:p.data.byteLength,duration:an,II:Math.round((d.cn||0)-(d.rd||0)),flags:{NI:0,kI:0,MI:0,DI:0,AI:p.wN?2:1,RI:p.wN?0:1}})}}var w=XT($);if(!w||null==Y)throw new vt(2,3,3018,t?t.xh()[0]:null);n.height=w.height;n.width=w.width;a={id:n.id,type:"video",va:"hvc1",Za:n.Za&&0<n.vo.length,Xh:9e4,duration:e,gI:[],bI:new Uint8Array([]),wI:w.wI,yI:w.yI,TI:w.TI,data:{EI:this.i,q0:Y,SI:z},stream:n}}a&&(B.push(a),a=null)}if("audio"==U){switch(X.Vu){case"aac":for(var on=[],g,b=null,y=null,T=null,sn=lt(u.hd()),fn=sn.next();!fn.done;fn=sn.next()){var cn=fn.value,E=cn.data;if(E){var S=0;if(-1==y&&T)E=Bi(T,cn.data),y=null;else if(null!=y&&T){S=Math.max(0,y);var ln=Bi(T,E.subarray(0,S));on.push({data:ln,size:ln.byteLength,duration:1024,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});y=T=null}g=NT(E,S);if(!g)throw new vt(2,3,3018,t?t.xh()[0]:null);n.ya=g.sampleRate;n.ba=g.channelCount;null==b&&null!==cn.cn&&(b=cn.cn);for(;S<E.length;){var A=IT(E,S);if(!A){T=E.subarray(S,E.length);y=-1;break}var hn=A.mN+A.pN;y=Math.max(0,S+hn-E.length);0!=y?T=E.subarray(S+A.mN,S+hn):S+hn<=E.length&&on.push({data:E.subarray(S+A.mN,S+hn),size:A.pN,duration:1024,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});S+=hn}}}if(!g||null==b){if(!u.dd().length)throw new vt(2,3,3018,t?t.xh()[0]:null);b=9e4*t.startTime;var dn=Gi("audio",n.va.split(","));if(!dn||!n.ba||!n.ya)throw new vt(2,3,3018,t?t.xh()[0]:null);g={sampleRate:n.ya,channelCount:n.ba,J0:dn};var vn=RT(dn,n.ba);if(!vn)throw new vt(2,3,3018,t?t.xh()[0]:null);for(var mn=b+9e4*(t.endTime-t.startTime),pn=b;pn<mn;)on.push({data:vn,size:vn.byteLength,duration:1024,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}}),pn+=1024/g.sampleRate*9e4}var wn=g.sampleRate,gn=b/9e4*wn;a={id:n.id,type:"audio",va:g.J0,Za:n.Za&&0<n.vo.length,Xh:wn,duration:e,gI:[],bI:new Uint8Array([]),wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.i,q0:gn,SI:on},stream:n};break;case"ac3":for(var bn=[],yn=0,Tn=new Uint8Array([]),En=null,Sn=lt(u.hd()),An=Sn.next();!An.done;An=Sn.next()){var kn=An.value,Mn=kn.data;null==En&&null!==kn.cn&&(En=kn.cn);for(var k=0;k<Mn.length;){var M=CT(Mn,k);M?(n.ya=M.sampleRate,n.ba=M.channelCount,yn=M.sampleRate,Tn=M.bI,bn.push({data:Mn.subarray(k,k+M.pN),size:M.pN,duration:1536,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}}),k+=M.pN):k++}}if(0==yn||0==Tn.byteLength||null==En)throw new vt(2,3,3018,t?t.xh()[0]:null);var In=En/9e4*yn;a={id:n.id,type:"audio",va:"ac-3",Za:n.Za&&0<n.vo.length,Xh:yn,duration:e,gI:[],bI:Tn,wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.i,q0:In,SI:bn},stream:n};break;case"ec3":for(var Nn=[],Pn=0,Rn=new Uint8Array([]),Dn=null,Cn=lt(u.hd()),_n=Cn.next();!_n.done;_n=Cn.next()){var Ln=_n.value,On=Ln.data;null==Dn&&null!==Ln.cn&&(Dn=Ln.cn);for(var I=0;I<On.length;){var N=OT(On,I);N?(n.ya=N.sampleRate,n.ba=N.channelCount,Pn=N.sampleRate,Rn=N.bI,Nn.push({data:On.subarray(I,I+N.pN),size:N.pN,duration:1536,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}}),I+=N.pN):I++}}if(0==Pn||0==Rn.byteLength||null==Dn)throw new vt(2,3,3018,t?t.xh()[0]:null);var xn=Dn/9e4*Pn;a={id:n.id,type:"audio",va:"ec-3",Za:n.Za&&0<n.vo.length,Xh:Pn,duration:e,gI:[],bI:Rn,wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.i,q0:xn,SI:Nn},stream:n};break;case"mp3":for(var Un=[],Fn,Bn=null,Xn=lt(u.hd()),Hn=Xn.next();!Hn.done;Hn=Xn.next()){var jn=Hn.value,Vn=jn.data;if(Vn){null==Bn&&null!==jn.cn&&(Bn=jn.cn);for(var P=0;P<Vn.length;){var R=qT(Vn,P);R?(Fn||(Fn=R),P+R.pN<=Vn.length&&Un.push({data:Vn.subarray(P,P+R.pN),size:R.pN,duration:1152,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}}),P+=R.pN):P++}}}if(!Fn||null==Bn)throw new vt(2,3,3018,t?t.xh()[0]:null);var Gn=Fn.sampleRate,qn=Bn/9e4*Gn;a={id:n.id,type:"audio",va:"mp3",Za:n.Za&&0<n.vo.length,Xh:Gn,duration:e,gI:[],bI:new Uint8Array([]),wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.i,q0:qn,SI:Un},stream:n};break;case"opus":var Kn=[],Wn=null,D=u.I;if(!D)throw new vt(2,3,3018,t?t.xh()[0]:null);var C=[];switch(D.td){case 1:case 2:C=[0];break;case 0:C=[255,1,1,0,1];break;case 128:C=[255,2,0,0,1];break;case 3:C=[1,2,1,0,2,1];break;case 4:C=[1,2,2,0,1,2,3];break;case 5:C=[1,3,2,0,4,1,2,3];break;case 6:C=[1,4,2,0,4,1,2,3,5];break;case 7:C=[1,4,2,0,4,1,2,3,5,6];break;case 8:C=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:C=[1,1,2,0,1];break;case 131:C=[1,1,3,0,1,2];break;case 132:C=[1,1,4,0,1,2,3];break;case 133:C=[1,1,5,0,1,2,3,4];break;case 134:C=[1,1,6,0,1,2,3,4,5];break;case 135:C=[1,1,7,0,1,2,3,4,5,6];break;case 136:C=[1,1,8,0,1,2,3,4,5,6,7]}var zn=new Uint8Array([0,D.channelCount,0,0,D.sampleRate>>>24&255,D.sampleRate>>>17&255,D.sampleRate>>>8&255,D.sampleRate>>>0&255,0,0].concat(ht(C)));for(var Yn=D.sampleRate,$n=lt(u.hd()),Qn=$n.next();!Qn.done;Qn=$n.next()){var Jn=Qn.value,_=Jn.data;null==Wn&&null!==Jn.cn&&(Wn=Jn.cn);for(var Zn=0;Zn<_.length;){for(var nt=0!==(_[Zn+1]&16),tt=0!==(_[Zn+1]&8),L=Zn+2,et=0;255===_[L];)et+=255,L+=1;et+=_[L];L+=1;L+=nt?2:0;L+=tt?2:0;var it=_.slice(L,L+et);Kn.push({data:it,size:it.byteLength,duration:960,II:0,flags:{NI:0,kI:0,MI:0,DI:0,AI:2,RI:0}});Zn=L+et}}if(0==zn.byteLength||null==Wn)throw new vt(2,3,3018,t?t.xh()[0]:null);n.ya=D.sampleRate;n.ba=D.channelCount;var rt=Wn/9e4*Yn;a={id:n.id,type:"audio",va:"opus",Za:n.Za&&0<n.vo.length,Xh:Yn,duration:e,gI:[],bI:zn,wI:new Uint8Array([]),yI:0,TI:0,data:{EI:this.i,q0:rt,SI:Kn},stream:n}}a&&(B.push(a),a=null)}}catch(O){return O&&3023==O.code?Promise.resolve(new Uint8Array([])):Promise.reject(O)}if(!B.length)return Promise.reject(new vt(2,3,3018,t?t.xh()[0]:null));var ut=new ng(B),at=n.id+"_"+t.g;if(this.g.has(at))var ot=this.g.get(at);else ot=tg(ut),this.g.set(at,ot);var st=this.l!==ot,ft=ag(ut);this.l=ot;this.i++;if(st){var ct=Bi(ot,ft);return Promise.resolve(ct)}return Promise.resolve(ft)};t("shaka.transmuxer.TsTransmuxer",rE);rE.prototype.a1=rE.prototype.a1;rE.prototype.u1=rE.prototype.u1;rE.prototype.qu=rE.prototype.qu;rE.prototype.isSupported=rE.prototype.isSupported;rE.prototype.su=rE.prototype.su;var uE=["aac","ac-3","ec-3","mp3","opus"],aE=["avc","hevc"];fi("video/mp2t",function(){return new rE("video/mp2t")},vi);function oE(){}var sE;function fE(){sE||navigator.$N?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(sE=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=cE,navigator.$N=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function cE(t,e){var i=this,r;return sn(function(n){if(1==n.i)return console.assert(i==navigator,'bad "this" for requestMediaKeySystemAccess'),an(n,sE.call(i,t,e),2);r=n.h;if(TE(r))return console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=sE,n.A(r);console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support.");navigator.requestMediaKeySystemAccess=lE;return n.A(lE.call(i,t,e))})}function lE(t,e){var i=this,r,u,a,o,s,f,c,l,h,d,v,m;return sn(function(n){if(1==n.i){console.assert(i==navigator,'bad "this" for requestMediaKeySystemAccess');r=yE(t);u=[];a=lt(e);for(o=a.next();!o.done;o=a.next())s=o.value,f=hE(s.xl,r),c=hE(s.Ol,r),s.xl&&s.xl.length&&!f.length||s.Ol&&s.Ol.length&&!c.length||(l=Object.assign({},s),l.xl=f,l.Ol=c,u.push(l));if(!u.length)throw h=Error("Unsupported keySystem or supportedConfigurations."),h.name="NotSupportedError",h.code=DOMException.NOT_SUPPORTED_ERR,h;return an(n,sE.call(i,t,u),2)}d=n.h;m=v=null;u[0]&&(u[0].xl&&(v=u[0].xl[0].Du),u[0].Ol&&(m=u[0].Ol[0].Du));return n.A(new bE(d,v,m))})}function hE(n,t){return n?n.filter(function(n){return EE(n.Du,t)}):n}t("EmeEncryptionSchemePolyfill",oE);oE.install=fE;function dE(){}var vE;function mE(){vE||navigator.QN?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(vE=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=pE,navigator.QN=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function pE(t){var e=this,i,r;return sn(function(n){switch(n.i){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),an(n,vE.call(e,t),2);case 2:i=n.h;if(!t.ro)return n.A(i);if((r=i.Ja)&&TE(r))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=vE,n.A(i);console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support.");navigator.mediaCapabilities.decodingInfo=wE;if(r){n.k(3);break}return an(n,gE(t),4);case 4:return i.Ja=n.h,n.A(i);case 3:return n.A(wE.call(e,t))}})}function wE(t){var e=this,i,r,u,a,o,s,f;return sn(function(n){switch(n.i){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=i=null,!t.ro||(u=t.ro,a=u.keySystem,r=u.Vu&&u.Vu.Du,i=u.Gu&&u.Gu.Du,o=yE(a),s={powerEfficient:!1,smooth:!1,supported:!1,Ja:null,configuration:t},EE(r,o)&&EE(i,o))?an(n,vE.call(e,t),2):n.A(s);case 2:f=n.h;if(f.Ja){f.Ja=new bE(f.Ja,i,r);n.k(3);break}if(!t.ro){n.k(3);break}return an(n,gE(t),5);case 5:f.Ja=n.h;case 3:return n.A(f)}})}function gE(r){var u,a;return sn(function(n){if(1==n.i){var t=r.ro,e=[],i=[];t.Vu&&e.push({bo:t.Vu.bo||"",contentType:r.Vu.contentType,Du:t.Vu.Du});t.Gu&&i.push({bo:t.Gu.bo||"",contentType:r.Gu.contentType,Du:t.Gu.Du});t={lh:t.initDataType?[t.initDataType]:[],po:t.po,mo:t.mo,wo:t.wo};e.length&&(t.Ol=e);i.length&&(t.xl=i);u=t;return an(n,navigator.requestMediaKeySystemAccess(r.ro.keySystem,[u]),2)}a=n.h;return n.A(a)})}t("McEncryptionSchemePolyfill",dE);dE.install=mE;function bE(n,t,e){this.i=n;this.g=t||null;this.h=e||null;this.keySystem=n.keySystem}bE.prototype.getConfiguration=function(){var n=this.i.getConfiguration();if(n.xl)for(var t=lt(n.xl),e=t.next();!e.done;e=t.next())e.value.Du=this.g;if(n.Ol)for(t=lt(n.Ol),e=t.next();!e.done;e=t.next())e.value.Du=this.h;return n};bE.prototype.createMediaKeys=function(){return this.i.createMediaKeys()};function yE(n){if(n.startsWith("com.widevine")||n.startsWith("com.microsoft")||n.startsWith("com.chromecast")||n.startsWith("com.adobe")||n.startsWith("org.w3"))return"cenc";if(n.startsWith("com.apple"))return"cbcs";console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",n,"Please contribute!");return null}function TE(n){n=n.getConfiguration();var t=n.Ol&&n.Ol[0];return(n=n.xl&&n.xl[0]||t)&&void 0!==n.Du?!0:!1}function EE(n,t){if(!n||n==t)return!0;if("cbcs"==n||"cbcs-1-9"==n)if(ME||RE||kE)return!0;return!1}function SE(){}function AE(){fE();mE()}t("EncryptionSchemePolyfills",SE);SE.install=AE;var kE=navigator.userAgent.includes("CrKey"),ME=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10),IE;var NE=navigator.userAgent||"";if(NE.includes("Web0S")){var PE=NE.match(/Chrome\/(\d+)/);IE=PE?79<=parseInt(PE[1],10):!1}else IE=!1;var RE=IE;"undefined"!==typeof a&&a.exports&&(a.exports=SE)}).call(t,n,n,undefined);if(typeof exports!="undefined")for(var CE in t.JN)exports[CE]=t.JN[CE];else if(typeof define=="function"&&define.amd)define(function(){return t.JN});else n.JN=t.JN})();